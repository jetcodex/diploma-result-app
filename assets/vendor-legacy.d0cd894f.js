function asyncGeneratorStep(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){asyncGeneratorStep(o,r,i,a,s,"next",e)}function s(e){asyncGeneratorStep(o,r,i,a,s,"throw",e)}a(void 0)}))}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,_setPrototypeOf(e,t)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createForOfIteratorHelperLoose(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=e[Symbol.iterator]()).next.bind(n)}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass2(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}System.register([],(function(exports){"use strict";return{execute:function execute(){var _PLATFORM_LOG_STRING,_ERRORS;function makeMap(e,t){for(var n=Object.create(null),r=e.split(","),i=0;i<r.length;i++)n[r[i]]=!0;return t?function(e){return!!n[e.toLowerCase()]}:function(e){return!!n[e]}}exports({A:watch,B:withDirectives,G:reactive,H:toRefs,I:computed$1,J:h,Q:useRouter,Z:useRoute,a0:unref,a1:createRouter,a2:createWebHistory,a6:mitt,b:createCommentVNode,c:createBlock,d:createTextVNode,e:renderList,h:resolveDynamicComponent,i:inject,j:getApps,k:initializeApp,l:onValue,m:ref$1,n:getDatabase,o:openBlock,p:pushScopeId,q:popScopeId,r:resolveComponent,v:renderSlot,w:withCtx,x:withScopeId,y:ref});var GLOBALS_WHITE_LISTED="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl",isGloballyWhitelisted=makeMap(GLOBALS_WHITE_LISTED),specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function normalizeStyle(e){if(isArray(e)){for(var t={},n=0;n<e.length;n++){var r=e[n],i=normalizeStyle(isString(r)?parseStringStyle(r):r);if(i)for(var o in i)t[o]=i[o]}return t}if(isObject(e))return e}var listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:(.+)/;function parseStringStyle(e){var t={};return e.split(listDelimiterRE).forEach((function(e){if(e){var n=e.split(propertyDelimiterRE);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function normalizeClass(e){var t="";if(isString(e))t=e;else if(isArray(e))for(var n=0;n<e.length;n++)t+=normalizeClass(e[n])+" ";else if(isObject(e))for(var r in e)e[r]&&(t+=r+" ");return t.trim()}function looseCompareArrays(e,t){if(e.length!==t.length)return!1;for(var n=!0,r=0;n&&r<e.length;r++)n=looseEqual(e[r],t[r]);return n}function looseEqual(e,t){if(e===t)return!0;var n=isDate(e),r=isDate(t);if(n||r)return!(!n||!r)&&e.getTime()===t.getTime();if(n=isArray(e),r=isArray(t),n||r)return!(!n||!r)&&looseCompareArrays(e,t);if(n=isObject(e),r=isObject(t),n||r){if(!n||!r)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var i in e){var o=e.hasOwnProperty(i),a=t.hasOwnProperty(i);if(o&&!a||!o&&a||!looseEqual(e[i],t[i]))return!1}}return String(e)===String(t)}function looseIndexOf(e,t){return e.findIndex((function(e){return looseEqual(e,t)}))}var toDisplayString=exports("t",(function(e){return null==e?"":isObject(e)?JSON.stringify(e,replacer,2):String(e)})),replacer=function(e,t){var n,r;return isMap(t)?((n={})["Map("+t.size+")"]=[].concat(t.entries()).reduce((function(e,t){var n=t[0],r=t[1];return e[n+" =>"]=r,e}),{}),n):isSet(t)?((r={})["Set("+t.size+")"]=[].concat(t.values()),r):!isObject(t)||isArray(t)||isPlainObject(t)?t:String(t)},EMPTY_OBJ={},EMPTY_ARR=[],NOOP=function(){},NO=function(){return!1},onRE=/^on[^a-z]/,isOn=function(e){return onRE.test(e)},isModelListener=function(e){return e.startsWith("onUpdate:")},extend=Object.assign,remove=function(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)},hasOwnProperty=Object.prototype.hasOwnProperty,hasOwn=function(e,t){return hasOwnProperty.call(e,t)},isArray=Array.isArray,isMap=function(e){return"[object Map]"===toTypeString(e)},isSet=function(e){return"[object Set]"===toTypeString(e)},isDate=function(e){return e instanceof Date},isFunction=function(e){return"function"==typeof e},isString=function(e){return"string"==typeof e},isSymbol=function(e){return"symbol"==typeof e},isObject=function(e){return null!==e&&"object"==typeof e},isPromise=function(e){return isObject(e)&&isFunction(e.then)&&isFunction(e.catch)},objectToString=Object.prototype.toString,toTypeString=function(e){return objectToString.call(e)},toRawType=function(e){return toTypeString(e).slice(8,-1)},isPlainObject=function(e){return"[object Object]"===toTypeString(e)},isIntegerKey=function(e){return isString(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e},isReservedProp=makeMap(",key,ref,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=function(e){var t=Object.create(null);return function(n){return t[n]||(t[n]=e(n))}},camelizeRE=/-(\w)/g,camelize=cacheStringFunction((function(e){return e.replace(camelizeRE,(function(e,t){return t?t.toUpperCase():""}))})),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction((function(e){return e.replace(hyphenateRE,"-$1").toLowerCase()})),capitalize=cacheStringFunction((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),toHandlerKey=cacheStringFunction((function(e){return e?"on"+capitalize(e):""})),hasChanged=function(e,t){return e!==t&&(e==e||t==t)},invokeArrayFns=function(e,t){for(var n=0;n<e.length;n++)e[n](t)},def=function(e,t,n){Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},toNumber=function(e){var t=parseFloat(e);return isNaN(t)?e:t},targetMap=new WeakMap,effectStack=[],activeEffect,ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");function isEffect(e){return e&&!0===e._isEffect}function effect(e,t){void 0===t&&(t=EMPTY_OBJ),isEffect(e)&&(e=e.raw);var n=createReactiveEffect(e,t);return t.lazy||n(),n}function stop(e){e.active&&(cleanup(e),e.options.onStop&&e.options.onStop(),e.active=!1)}var uid=0;function createReactiveEffect(e,t){var n=function(){if(!n.active)return t.scheduler?void 0:e();if(!effectStack.includes(n)){cleanup(n);try{return enableTracking(),effectStack.push(n),activeEffect=n,e()}finally{effectStack.pop(),resetTracking(),activeEffect=effectStack[effectStack.length-1]}}};return n.id=uid++,n.allowRecurse=!!t.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=e,n.deps=[],n.options=t,n}function cleanup(e){var t=e.deps;if(t.length){for(var n=0;n<t.length;n++)t[n].delete(e);t.length=0}}var shouldTrack=!0,trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function enableTracking(){trackStack.push(shouldTrack),shouldTrack=!0}function resetTracking(){var e=trackStack.pop();shouldTrack=void 0===e||e}function track(e,t,n){if(shouldTrack&&void 0!==activeEffect){var r=targetMap.get(e);r||targetMap.set(e,r=new Map);var i=r.get(n);i||r.set(n,i=new Set),i.has(activeEffect)||(i.add(activeEffect),activeEffect.deps.push(i))}}function trigger(e,t,n,r,i,o){var a=targetMap.get(e);if(a){var s=new Set,u=function(e){e&&e.forEach((function(e){(e!==activeEffect||e.allowRecurse)&&s.add(e)}))};if("clear"===t)a.forEach(u);else if("length"===n&&isArray(e))a.forEach((function(e,t){("length"===t||t>=r)&&u(e)}));else switch(void 0!==n&&u(a.get(n)),t){case"add":isArray(e)?isIntegerKey(n)&&u(a.get("length")):(u(a.get(ITERATE_KEY)),isMap(e)&&u(a.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray(e)||(u(a.get(ITERATE_KEY)),isMap(e)&&u(a.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(e)&&u(a.get(ITERATE_KEY))}s.forEach((function(e){e.options.scheduler?e.options.scheduler(e):e()}))}}var builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).map((function(e){return Symbol[e]})).filter(isSymbol)),get=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),shallowReadonlyGet=createGetter(!0,!0),arrayInstrumentations={};function createGetter(e,t){return void 0===e&&(e=!1),void 0===t&&(t=!1),function(n,r,i){if("__v_isReactive"===r)return!e;if("__v_isReadonly"===r)return e;if("__v_raw"===r&&i===(e?readonlyMap:reactiveMap).get(n))return n;var o=isArray(n);if(!e&&o&&hasOwn(arrayInstrumentations,r))return Reflect.get(arrayInstrumentations,r,i);var a=Reflect.get(n,r,i);return(isSymbol(r)?builtInSymbols.has(r):"__proto__"===r||"__v_isRef"===r)?a:(e||track(n,"get",r),t?a:isRef(a)?!o||!isIntegerKey(r)?a.value:a:isObject(a)?e?readonly(a):reactive(a):a)}}["includes","indexOf","lastIndexOf"].forEach((function(e){var t=Array.prototype[e];arrayInstrumentations[e]=function(){for(var e=toRaw(this),n=0,r=this.length;n<r;n++)track(e,"get",n+"");for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var s=t.apply(e,o);return-1===s||!1===s?t.apply(e,o.map(toRaw)):s}})),["push","pop","shift","unshift","splice"].forEach((function(e){var t=Array.prototype[e];arrayInstrumentations[e]=function(){pauseTracking();for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=t.apply(this,n);return resetTracking(),i}}));var set=createSetter(),shallowSet=createSetter(!0);function createSetter(e){return void 0===e&&(e=!1),function(t,n,r,i){var o=t[n];if(!e&&(r=toRaw(r),!isArray(t)&&isRef(o)&&!isRef(r)))return o.value=r,!0;var a=isArray(t)&&isIntegerKey(n)?Number(n)<t.length:hasOwn(t,n),s=Reflect.set(t,n,r,i);return t===toRaw(i)&&(a?hasChanged(r,o)&&trigger(t,"set",n,r):trigger(t,"add",n,r)),s}}function deleteProperty(e,t){var n=hasOwn(e,t);e[t];var r=Reflect.deleteProperty(e,t);return r&&n&&trigger(e,"delete",t,void 0),r}function has(e,t){var n=Reflect.has(e,t);return isSymbol(t)&&builtInSymbols.has(t)||track(e,"has",t),n}function ownKeys(e){return track(e,"iterate",isArray(e)?"length":ITERATE_KEY),Reflect.ownKeys(e)}var mutableHandlers={get:get,set:set,deleteProperty:deleteProperty,has:has,ownKeys:ownKeys},readonlyHandlers={get:readonlyGet,set:function(e,t){return!0},deleteProperty:function(e,t){return!0}},shallowReactiveHandlers=extend({},mutableHandlers,{get:shallowGet,set:shallowSet});extend({},readonlyHandlers,{get:shallowReadonlyGet});var toReactive=function(e){return isObject(e)?reactive(e):e},toReadonly=function(e){return isObject(e)?readonly(e):e},toShallow=function(e){return e},getProto=function(e){return Reflect.getPrototypeOf(e)};function get$1(e,t,n,r){void 0===n&&(n=!1),void 0===r&&(r=!1);var i=toRaw(e=e.__v_raw),o=toRaw(t);t!==o&&!n&&track(i,"get",t),!n&&track(i,"get",o);var a=getProto(i).has,s=n?toReadonly:r?toShallow:toReactive;return a.call(i,t)?s(e.get(t)):a.call(i,o)?s(e.get(o)):void 0}function has$1(e,t){void 0===t&&(t=!1);var n=this.__v_raw,r=toRaw(n),i=toRaw(e);return e!==i&&!t&&track(r,"has",e),!t&&track(r,"has",i),e===i?n.has(e):n.has(e)||n.has(i)}function size(e,t){return void 0===t&&(t=!1),e=e.__v_raw,!t&&track(toRaw(e),"iterate",ITERATE_KEY),Reflect.get(e,"size",e)}function add(e){e=toRaw(e);var t=toRaw(this),n=getProto(t).has.call(t,e);return t.add(e),n||trigger(t,"add",e,e),this}function set$1(e,t){t=toRaw(t);var n=toRaw(this),r=getProto(n),i=r.has,o=r.get,a=i.call(n,e);a||(e=toRaw(e),a=i.call(n,e));var s=o.call(n,e);return n.set(e,t),a?hasChanged(t,s)&&trigger(n,"set",e,t):trigger(n,"add",e,t),this}function deleteEntry(e){var t=toRaw(this),n=getProto(t),r=n.has,i=n.get,o=r.call(t,e);o||(e=toRaw(e),o=r.call(t,e)),i&&i.call(t,e);var a=t.delete(e);return o&&trigger(t,"delete",e,void 0),a}function clear(){var e=toRaw(this),t=0!==e.size,n=e.clear();return t&&trigger(e,"clear",void 0,void 0),n}function createForEach(e,t){return function(n,r){var i=this,o=i.__v_raw,a=toRaw(o),s=e?toReadonly:t?toShallow:toReactive;return!e&&track(a,"iterate",ITERATE_KEY),o.forEach((function(e,t){return n.call(r,s(e),s(t),i)}))}}function createIterableMethod(e,t,n){return function(){var r,i=this.__v_raw,o=toRaw(i),a=isMap(o),s="entries"===e||e===Symbol.iterator&&a,u="keys"===e&&a,c=i[e].apply(i,arguments),l=t?toReadonly:n?toShallow:toReactive;return!t&&track(o,"iterate",u?MAP_KEY_ITERATE_KEY:ITERATE_KEY),(r={next:function(){var e=c.next(),t=e.value,n=e.done;return n?{value:t,done:n}:{value:s?[l(t[0]),l(t[1])]:l(t),done:n}}})[Symbol.iterator]=function(){return this},r}}function createReadonlyMethod(e){return function(){return"delete"!==e&&this}}var mutableInstrumentations={get:function(e){return get$1(this,e)},get size(){return size(this)},has:has$1,add:add,set:set$1,delete:deleteEntry,clear:clear,forEach:createForEach(!1,!1)},shallowInstrumentations={get:function(e){return get$1(this,e,!1,!0)},get size(){return size(this)},has:has$1,add:add,set:set$1,delete:deleteEntry,clear:clear,forEach:createForEach(!1,!0)},readonlyInstrumentations={get:function(e){return get$1(this,e,!0)},get size(){return size(this,!0)},has:function(e){return has$1.call(this,e,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},iteratorMethods=["keys","values","entries",Symbol.iterator];function createInstrumentationGetter(e,t){var n=t?shallowInstrumentations:e?readonlyInstrumentations:mutableInstrumentations;return function(t,r,i){return"__v_isReactive"===r?!e:"__v_isReadonly"===r?e:"__v_raw"===r?t:Reflect.get(hasOwn(n,r)&&r in t?n:t,r,i)}}iteratorMethods.forEach((function(e){mutableInstrumentations[e]=createIterableMethod(e,!1,!1),readonlyInstrumentations[e]=createIterableMethod(e,!0,!1),shallowInstrumentations[e]=createIterableMethod(e,!1,!0)}));var mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,readonlyMap=new WeakMap;function targetTypeMap(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(e){return e.__v_skip||!Object.isExtensible(e)?0:targetTypeMap(toRawType(e))}function reactive(e){return e&&e.__v_isReadonly?e:createReactiveObject(e,!1,mutableHandlers,mutableCollectionHandlers)}function shallowReactive(e){return createReactiveObject(e,!1,shallowReactiveHandlers,shallowCollectionHandlers)}function readonly(e){return createReactiveObject(e,!0,readonlyHandlers,readonlyCollectionHandlers)}function createReactiveObject(e,t,n,r){if(!isObject(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;var i=t?readonlyMap:reactiveMap,o=i.get(e);if(o)return o;var a=getTargetType(e);if(0===a)return e;var s=new Proxy(e,2===a?r:n);return i.set(e,s),s}function isReactive(e){return isReadonly(e)?isReactive(e.__v_raw):!(!e||!e.__v_isReactive)}function isReadonly(e){return!(!e||!e.__v_isReadonly)}function isProxy(e){return isReactive(e)||isReadonly(e)}function toRaw(e){return e&&toRaw(e.__v_raw)||e}var convert=function(e){return isObject(e)?reactive(e):e};function isRef(e){return Boolean(e&&!0===e.__v_isRef)}function ref(e){return createRef(e)}function shallowRef(e){return createRef(e,!0)}var RefImpl=function(){function e(e,t){void 0===t&&(t=!1),this._rawValue=e,this._shallow=t,this.__v_isRef=!0,this._value=t?e:convert(e)}return _createClass2(e,[{key:"value",get:function(){return track(toRaw(this),"get","value"),this._value},set:function(e){hasChanged(toRaw(e),this._rawValue)&&(this._rawValue=e,this._value=this._shallow?e:convert(e),trigger(toRaw(this),"set","value",e))}}]),e}();function createRef(e,t){return void 0===t&&(t=!1),isRef(e)?e:new RefImpl(e,t)}function unref(e){return isRef(e)?e.value:e}var shallowUnwrapHandlers={get:function(e,t,n){return unref(Reflect.get(e,t,n))},set:function(e,t,n,r){var i=e[t];return isRef(i)&&!isRef(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function proxyRefs(e){return isReactive(e)?e:new Proxy(e,shallowUnwrapHandlers)}function toRefs(e){var t=isArray(e)?new Array(e.length):{};for(var n in e)t[n]=toRef(e,n);return t}var ObjectRefImpl=function(){function e(e,t){this._object=e,this._key=t,this.__v_isRef=!0}return _createClass2(e,[{key:"value",get:function(){return this._object[this._key]},set:function(e){this._object[this._key]=e}}]),e}();function toRef(e,t){return isRef(e[t])?e[t]:new ObjectRefImpl(e,t)}var ComputedRefImpl=function(){function e(e,t,n){var r=this;this._setter=t,this._dirty=!0,this.__v_isRef=!0,this.effect=effect(e,{lazy:!0,scheduler:function(){r._dirty||(r._dirty=!0,trigger(toRaw(r),"set","value"))}}),this.__v_isReadonly=n}return _createClass2(e,[{key:"value",get:function(){return this._dirty&&(this._value=this.effect(),this._dirty=!1),track(toRaw(this),"get","value"),this._value},set:function(e){this._setter(e)}}]),e}();function computed(e){var t,n;return isFunction(e)?(t=e,n=NOOP):(t=e.get,n=e.set),new ComputedRefImpl(t,n,isFunction(e)||!e.set)}var stack=[];function warn(e){pauseTracking();for(var t=stack.length?stack[stack.length-1].component:null,n=t&&t.appContext.config.warnHandler,r=getComponentTrace(),i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];if(n)callWithErrorHandling(n,t,11,[e+o.join(""),t&&t.proxy,r.map((function(e){var n=e.vnode;return"at <"+formatComponentName(t,n.type)+">"})).join("\n"),r]);else{var s,u=["[Vue warn]: "+e].concat(o);r.length&&u.push.apply(u,["\n"].concat(formatTrace(r))),(s=console).warn.apply(s,u)}resetTracking()}function getComponentTrace(){var e=stack[stack.length-1];if(!e)return[];for(var t=[];e;){var n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});var r=e.component&&e.component.parent;e=r&&r.vnode}return t}function formatTrace(e){var t=[];return e.forEach((function(e,n){t.push.apply(t,(0===n?[]:["\n"]).concat(formatTraceEntry(e)))})),t}function formatTraceEntry(e){var t=e.vnode,n=e.recurseCount,r=n>0?"... ("+n+" recursive calls)":"",i=!!t.component&&null==t.component.parent,o=" at <"+formatComponentName(t.component,t.type,i),a=">"+r;return t.props?[o].concat(formatProps(t.props),[a]):[o+a]}function formatProps(e){var t=[],n=Object.keys(e);return n.slice(0,3).forEach((function(n){t.push.apply(t,formatProp(n,e[n]))})),n.length>3&&t.push(" ..."),t}function formatProp(e,t,n){return isString(t)?(t=JSON.stringify(t),n?t:[e+"="+t]):"number"==typeof t||"boolean"==typeof t||null==t?n?t:[e+"="+t]:isRef(t)?(t=formatProp(e,toRaw(t.value),!0),n?t:[e+"=Ref<",t,">"]):isFunction(t)?[e+"=fn"+(t.name?"<"+t.name+">":"")]:(t=toRaw(t),n?t:[e+"=",t])}function callWithErrorHandling(e,t,n,r){var i;try{i=r?e.apply(void 0,r):e()}catch(o){handleError(o,t,n)}return i}function callWithAsyncErrorHandling(e,t,n,r){if(isFunction(e)){var i=callWithErrorHandling(e,t,n,r);return i&&isPromise(i)&&i.catch((function(e){handleError(e,t,n)})),i}for(var o=[],a=0;a<e.length;a++)o.push(callWithAsyncErrorHandling(e[a],t,n,r));return o}function handleError(e,t,n,r){void 0===r&&(r=!0);var i=t?t.vnode:null;if(t){for(var o=t.parent,a=t.proxy,s=n;o;){var u=o.ec;if(u)for(var c=0;c<u.length;c++)if(!1===u[c](e,a,s))return;o=o.parent}var l=t.appContext.config.errorHandler;if(l)return void callWithErrorHandling(l,null,10,[e,a,s])}logError(e,n,i,r)}function logError(e,t,n,r){void 0===r&&(r=!0),console.error(e)}var isFlushing=!1,isFlushPending=!1,queue=[],flushIndex=0,pendingPreFlushCbs=[],activePreFlushCbs=null,preFlushIndex=0,pendingPostFlushCbs=[],activePostFlushCbs=null,postFlushIndex=0,resolvedPromise=Promise.resolve(),currentFlushPromise=null,currentPreFlushParentJob=null,RECURSION_LIMIT=100;function nextTick(e){var t=currentFlushPromise||resolvedPromise;return e?t.then(this?e.bind(this):e):t}function queueJob(e){queue.length&&queue.includes(e,isFlushing&&e.allowRecurse?flushIndex+1:flushIndex)||e===currentPreFlushParentJob||(queue.push(e),queueFlush())}function queueFlush(){isFlushing||isFlushPending||(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(e){var t=queue.indexOf(e);t>-1&&queue.splice(t,1)}function queueCb(e,t,n,r){isArray(e)?n.push.apply(n,e):t&&t.includes(e,e.allowRecurse?r+1:r)||n.push(e),queueFlush()}function queuePreFlushCb(e){queueCb(e,activePreFlushCbs,pendingPreFlushCbs,preFlushIndex)}function queuePostFlushCb(e){queueCb(e,activePostFlushCbs,pendingPostFlushCbs,postFlushIndex)}function flushPreFlushCbs(e,t){if(void 0===t&&(t=null),pendingPreFlushCbs.length){for(currentPreFlushParentJob=t,activePreFlushCbs=[].concat(new Set(pendingPreFlushCbs)),pendingPreFlushCbs.length=0,preFlushIndex=0;preFlushIndex<activePreFlushCbs.length;preFlushIndex++)activePreFlushCbs[preFlushIndex]();activePreFlushCbs=null,preFlushIndex=0,currentPreFlushParentJob=null,flushPreFlushCbs(e,t)}}function flushPostFlushCbs(e){if(pendingPostFlushCbs.length){var t,n=[].concat(new Set(pendingPostFlushCbs));if(pendingPostFlushCbs.length=0,activePostFlushCbs)return void(t=activePostFlushCbs).push.apply(t,n);for((activePostFlushCbs=n).sort((function(e,t){return getId(e)-getId(t)})),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}var getId=function(e){return null==e.id?1/0:e.id};function flushJobs(e){isFlushPending=!1,isFlushing=!0,flushPreFlushCbs(e),queue.sort((function(e,t){return getId(e)-getId(t)}));try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){var t=queue[flushIndex];t&&callWithErrorHandling(t,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs(e)}}function checkRecursiveUpdates(e,t){if(e.has(t)){var n=e.get(t);if(n>RECURSION_LIMIT)throw new Error("Maximum recursive updates exceeded. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.");e.set(t,n+1)}else e.set(t,1)}function emit(e,t){for(var n=e.vnode.props||EMPTY_OBJ,r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];var a=i,s=t.startsWith("update:"),u=s&&t.slice(7);if(u&&u in n){var c=("modelValue"===u?"model":u)+"Modifiers",l=n[c]||EMPTY_OBJ,f=l.number,h=l.trim;h?a=i.map((function(e){return e.trim()})):f&&(a=i.map(toNumber))}var d=toHandlerKey(camelize(t)),p=n[d];!p&&s&&(p=n[d=toHandlerKey(hyphenate(t))]),p&&callWithAsyncErrorHandling(p,e,6,a);var v=n[d+"Once"];if(v){if(e.emitted){if(e.emitted[d])return}else(e.emitted={})[d]=!0;callWithAsyncErrorHandling(v,e,6,a)}}function normalizeEmitsOptions(e,t,n){if(void 0===n&&(n=!1),!t.deopt&&void 0!==e.__emits)return e.__emits;var r=e.emits,i={},o=!1;if(!isFunction(e)){var a=function(e){o=!0,extend(i,normalizeEmitsOptions(e,t,!0))};!n&&t.mixins.length&&t.mixins.forEach(a),e.extends&&a(e.extends),e.mixins&&e.mixins.forEach(a)}return r||o?(isArray(r)?r.forEach((function(e){return i[e]=null})):extend(i,r),e.__emits=i):e.__emits=null}function isEmitListener(e,t){return!(!e||!isOn(t))&&(t=t.slice(2).replace(/Once$/,""),hasOwn(e,t[0].toLowerCase()+t.slice(1))||hasOwn(e,hyphenate(t))||hasOwn(e,t))}var currentRenderingInstance=null;function setCurrentRenderingInstance(e){currentRenderingInstance=e}var accessedAttrs=!1;function markAttrsAccessed(){accessedAttrs=!0}function renderComponentRoot(e){var t,n=e.type,r=e.vnode,i=e.proxy,o=e.withProxy,a=e.props,s=e.propsOptions[0],u=e.slots,c=e.attrs,l=e.emit,f=e.render,h=e.renderCache,d=e.data,p=e.setupState,v=e.ctx;currentRenderingInstance=e;try{var g;if(4&r.shapeFlag){var _=o||i;t=normalizeVNode(f.call(_,_,h,a,p,d,v)),g=c}else{var m=n;0,t=normalizeVNode(m.length>1?m(a,{attrs:c,slots:u,emit:l}):m(a,null)),g=n.props?c:getFunctionalFallthrough(c)}var y=t;if(!1!==n.inheritAttrs&&g){var b=Object.keys(g),E=y.shapeFlag;b.length&&(1&E||6&E)&&(s&&b.some(isModelListener)&&(g=filterModelListeners(g,s)),y=cloneVNode(y,g))}r.dirs&&(y.dirs=y.dirs?y.dirs.concat(r.dirs):r.dirs),r.transition&&(y.transition=r.transition),t=y}catch(C){handleError(C,e,1),t=createVNode(Comment)}return currentRenderingInstance=null,t}var getChildRoot=function(e){var t=e.children,n=e.dynamicChildren,r=filterSingleRoot(t);if(!r)return[e,void 0];var i=t.indexOf(r),o=n?n.indexOf(r):-1;return[normalizeVNode(r),function(r){t[i]=r,n&&(o>-1?n[o]=r:r.patchFlag>0&&(e.dynamicChildren=[].concat(n,[r])))}]};function filterSingleRoot(e){for(var t,n=0;n<e.length;n++){var r=e[n];if(!isVNode(r))return;if(r.type!==Comment||"v-if"===r.children){if(t)return;t=r}}return t}var getFunctionalFallthrough=function(e){var t;for(var n in e)("class"===n||"style"===n||isOn(n))&&((t||(t={}))[n]=e[n]);return t},filterModelListeners=function(e,t){var n={};for(var r in e)isModelListener(r)&&r.slice(9)in t||(n[r]=e[r]);return n},isElementRoot=function(e){return 6&e.shapeFlag||1&e.shapeFlag||e.type===Comment};function shouldUpdateComponent(e,t,n){var r=e.props,i=e.children,o=e.component,a=t.props,s=t.children,u=t.patchFlag,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&u>=0))return!(!i&&!s||s&&s.$stable)||r!==a&&(r?!a||hasPropsChanged(r,a,c):!!a);if(1024&u)return!0;if(16&u)return r?hasPropsChanged(r,a,c):!!a;if(8&u)for(var l=t.dynamicProps,f=0;f<l.length;f++){var h=l[f];if(a[h]!==r[h]&&!isEmitListener(c,h))return!0}return!1}function hasPropsChanged(e,t,n){var r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(var i=0;i<r.length;i++){var o=r[i];if(t[o]!==e[o]&&!isEmitListener(n,o))return!0}return!1}function updateHOCHostEl(e,t){for(var n=e.vnode,r=e.parent;r&&r.subTree===n;)(n=r.vnode).el=t,r=r.parent}var isSuspense=function(e){return e.__isSuspense};function normalizeSuspenseChildren(e){var t,n,r=e.shapeFlag,i=e.children;return 32&r?(t=normalizeSuspenseSlot(i.default),n=normalizeSuspenseSlot(i.fallback)):(t=normalizeSuspenseSlot(i),n=normalizeVNode(null)),{content:t,fallback:n}}function normalizeSuspenseSlot(e){(isFunction(e)&&(e=e()),isArray(e))&&(e=filterSingleRoot(e));return normalizeVNode(e)}function queueEffectWithSuspense(e,t){var n;t&&t.pendingBranch?isArray(e)?(n=t.effects).push.apply(n,e):t.effects.push(e):queuePostFlushCb(e)}var isRenderingCompiledSlot=0,setCompiledSlotRendering=function(e){return isRenderingCompiledSlot+=e};function renderSlot(e,t,n,r){void 0===n&&(n={});var i=e[t];isRenderingCompiledSlot++,openBlock();var o=i&&ensureValidVNode(i(n)),a=createBlock(Fragment,{key:n.key||"_"+t},o||(r?r():[]),o&&1===e._?64:-2);return isRenderingCompiledSlot--,a}function ensureValidVNode(e){return e.some((function(e){return!isVNode(e)||e.type!==Comment&&!(e.type===Fragment&&!ensureValidVNode(e.children))}))?e:null}function withCtx(e,t){if(void 0===t&&(t=currentRenderingInstance),!t)return e;var n=function(){isRenderingCompiledSlot||openBlock(!0);var n=currentRenderingInstance;setCurrentRenderingInstance(t);var r=e.apply(void 0,arguments);return setCurrentRenderingInstance(n),isRenderingCompiledSlot||closeBlock(),r};return n._c=!0,n}var currentScopeId=null,scopeIdStack=[];function pushScopeId(e){scopeIdStack.push(currentScopeId=e)}function popScopeId(){scopeIdStack.pop(),currentScopeId=scopeIdStack[scopeIdStack.length-1]||null}function withScopeId(e){return function(t){return withCtx((function(){pushScopeId(e);var n=t.apply(this,arguments);return popScopeId(),n}))}}function initProps(e,t,n,r){void 0===r&&(r=!1);var i={},o={};def(o,InternalObjectKey,1),setFullProps(e,t,i,o),n?e.props=r?i:shallowReactive(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function updateProps(e,t,n,r){var i=e.props,o=e.attrs,a=e.vnode.patchFlag,s=toRaw(i),u=e.propsOptions[0];if(!(r||a>0)||16&a){var c;for(var l in setFullProps(e,t,i,o),s)t&&(hasOwn(t,l)||(c=hyphenate(l))!==l&&hasOwn(t,c))||(u?!n||void 0===n[l]&&void 0===n[c]||(i[l]=resolvePropValue(u,t||EMPTY_OBJ,l,void 0,e)):delete i[l]);if(o!==s)for(var f in o)t&&hasOwn(t,f)||delete o[f]}else if(8&a)for(var h=e.vnode.dynamicProps,d=0;d<h.length;d++){var p=h[d],v=t[p];if(u)if(hasOwn(o,p))o[p]=v;else{var g=camelize(p);i[g]=resolvePropValue(u,s,g,v,e)}else o[p]=v}trigger(e,"set","$attrs")}function setFullProps(e,t,n,r){var i=e.propsOptions,o=i[0],a=i[1];if(t)for(var s in t){var u=t[s];if(!isReservedProp(s)){var c=void 0;o&&hasOwn(o,c=camelize(s))?n[c]=u:isEmitListener(e.emitsOptions,s)||(r[s]=u)}}if(a)for(var l=toRaw(n),f=0;f<a.length;f++){var h=a[f];n[h]=resolvePropValue(o,l,h,l[h],e)}}function resolvePropValue(e,t,n,r,i){var o=e[n];if(null!=o){var a=hasOwn(o,"default");if(a&&void 0===r){var s=o.default;o.type!==Function&&isFunction(s)?(setCurrentInstance(i),r=s(t),setCurrentInstance(null)):r=s}o[0]&&(hasOwn(t,n)||a?!o[1]||""!==r&&r!==hyphenate(n)||(r=!0):r=!1)}return r}function normalizePropsOptions(e,t,n){if(void 0===n&&(n=!1),!t.deopt&&e.__props)return e.__props;var r=e.props,i={},o=[],a=!1;if(!isFunction(e)){var s=function(e){a=!0;var n=normalizePropsOptions(e,t,!0),r=n[0],s=n[1];extend(i,r),s&&o.push.apply(o,s)};!n&&t.mixins.length&&t.mixins.forEach(s),e.extends&&s(e.extends),e.mixins&&e.mixins.forEach(s)}if(!r&&!a)return e.__props=EMPTY_ARR;if(isArray(r))for(var u=0;u<r.length;u++){var c=camelize(r[u]);validatePropName(c)&&(i[c]=EMPTY_OBJ)}else if(r)for(var l in r){var f=camelize(l);if(validatePropName(f)){var h=r[l],d=i[f]=isArray(h)||isFunction(h)?{type:h}:h;if(d){var p=getTypeIndex(Boolean,d.type),v=getTypeIndex(String,d.type);d[0]=p>-1,d[1]=v<0||p<v,(p>-1||hasOwn(d,"default"))&&o.push(f)}}}return e.__props=[i,o]}function validatePropName(e){return"$"!==e[0]}function getType(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function isSameType(e,t){return getType(e)===getType(t)}function getTypeIndex(e,t){if(isArray(t)){for(var n=0,r=t.length;n<r;n++)if(isSameType(t[n],e))return n}else if(isFunction(t))return isSameType(t,e)?0:-1;return-1}function injectHook(e,t,n,r){if(void 0===n&&(n=currentInstance),void 0===r&&(r=!1),n){var i=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=function(){if(!n.isUnmounted){pauseTracking(),setCurrentInstance(n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=callWithAsyncErrorHandling(t,n,e,i);return setCurrentInstance(null),resetTracking(),a}});return r?i.unshift(o):i.push(o),o}}var createHook=function(e){return function(t,n){return void 0===n&&(n=currentInstance),!isInSSRComponentSetup&&injectHook(e,t,n)}},onBeforeMount=createHook("bm"),onMounted=exports("f",createHook("m")),onBeforeUpdate=exports("$",createHook("bu")),onUpdated=exports("_",createHook("u")),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc"),onErrorCaptured=function(e,t){void 0===t&&(t=currentInstance),injectHook("ec",e,t)},INITIAL_WATCHER_VALUE={};function watch(e,t,n){return doWatch(e,t,n)}function doWatch(e,t,n,r){var i,o=void 0===n?EMPTY_OBJ:n,a=o.immediate,s=o.deep,u=o.flush,c=o.onTrack,l=o.onTrigger;void 0===r&&(r=currentInstance);var f,h=!1;if(isRef(e)?(i=function(){return e.value},h=!!e._shallow):isReactive(e)?(i=function(){return e},s=!0):i=isArray(e)?function(){return e.map((function(e){return isRef(e)?e.value:isReactive(e)?traverse(e):isFunction(e)?callWithErrorHandling(e,r,2):void 0}))}:isFunction(e)?t?function(){return callWithErrorHandling(e,r,2)}:function(){if(!r||!r.isUnmounted)return f&&f(),callWithErrorHandling(e,r,3,[p])}:NOOP,t&&s){var d=i;i=function(){return traverse(d())}}var p=function(e){f=_.options.onStop=function(){callWithErrorHandling(e,r,4)}},v=isArray(e)?[]:INITIAL_WATCHER_VALUE,g=function(){if(_.active)if(t){var e=_();(s||h||hasChanged(e,v))&&(f&&f(),callWithAsyncErrorHandling(t,r,3,[e,v===INITIAL_WATCHER_VALUE?void 0:v,p]),v=e)}else _()};g.allowRecurse=!!t;var _=effect(i,{lazy:!0,onTrack:c,onTrigger:l,scheduler:"sync"===u?g:"post"===u?function(){return queuePostRenderEffect(g,r&&r.suspense)}:function(){!r||r.isMounted?queuePreFlushCb(g):g()}});return recordInstanceBoundEffect(_,r),t?a?g():v=_():"post"===u?queuePostRenderEffect(_,r&&r.suspense):_(),function(){stop(_),r&&remove(r.effects,_)}}function instanceWatch(e,t,n){var r=this.proxy;return doWatch(isString(e)?function(){return r[e]}:e.bind(r),t.bind(r),n,this)}function traverse(e,t){if(void 0===t&&(t=new Set),!isObject(e)||t.has(e))return e;if(t.add(e),isRef(e))traverse(e.value,t);else if(isArray(e))for(var n=0;n<e.length;n++)traverse(e[n],t);else if(isSet(e)||isMap(e))e.forEach((function(e){traverse(e,t)}));else for(var r in e)traverse(e[r],t);return e}function useTransitionState(){var e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted((function(){e.isMounted=!0})),onBeforeUnmount((function(){e.isUnmounting=!0})),e}var TransitionHookValidator=[Function,Array],BaseTransitionImpl={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},setup:function(e,t){var n,r=t.slots,i=getCurrentInstance(),o=useTransitionState();return function(){var t=r.default&&getTransitionRawChildren(r.default(),!0);if(t&&t.length){var a=toRaw(e),s=a.mode,u=t[0];if(o.isLeaving)return emptyPlaceholder(u);var c=getKeepAliveChild(u);if(!c)return emptyPlaceholder(u);var l=resolveTransitionHooks(c,a,o,i);setTransitionHooks(c,l);var f=i.subTree,h=f&&getKeepAliveChild(f),d=!1,p=c.type.getTransitionKey;if(p){var v=p();void 0===n?n=v:v!==n&&(n=v,d=!0)}if(h&&h.type!==Comment&&(!isSameVNodeType(c,h)||d)){var g=resolveTransitionHooks(h,a,o,i);if(setTransitionHooks(h,g),"out-in"===s)return o.isLeaving=!0,g.afterLeave=function(){o.isLeaving=!1,i.update()},emptyPlaceholder(u);"in-out"===s&&(g.delayLeave=function(e,t,n){getLeavingNodesForType(o,h)[String(h.key)]=h,e._leaveCb=function(){t(),e._leaveCb=void 0,delete l.delayedLeave},l.delayedLeave=n})}return u}}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(e,t){var n=e.leavingVNodes,r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function resolveTransitionHooks(e,t,n,r){var i=t.appear,o=t.mode,a=t.persisted,s=void 0!==a&&a,u=t.onBeforeEnter,c=t.onEnter,l=t.onAfterEnter,f=t.onEnterCancelled,h=t.onBeforeLeave,d=t.onLeave,p=t.onAfterLeave,v=t.onLeaveCancelled,g=t.onBeforeAppear,_=t.onAppear,m=t.onAfterAppear,y=t.onAppearCancelled,b=String(e.key),E=getLeavingNodesForType(n,e),C=function(e,t){e&&callWithAsyncErrorHandling(e,r,9,t)},S={mode:o,persisted:s,beforeEnter:function(t){var r=u;if(!n.isMounted){if(!i)return;r=g||u}t._leaveCb&&t._leaveCb(!0);var o=E[b];o&&isSameVNodeType(e,o)&&o.el._leaveCb&&o.el._leaveCb(),C(r,[t])},enter:function(e){var t=c,r=l,o=f;if(!n.isMounted){if(!i)return;t=_||c,r=m||l,o=y||f}var a=!1,s=e._enterCb=function(t){a||(a=!0,C(t?o:r,[e]),S.delayedLeave&&S.delayedLeave(),e._enterCb=void 0)};t?(t(e,s),t.length<=1&&s()):s()},leave:function(t,r){var i=String(e.key);if(t._enterCb&&t._enterCb(!0),n.isUnmounting)return r();C(h,[t]);var o=!1,a=t._leaveCb=function(n){o||(o=!0,r(),C(n?v:p,[t]),t._leaveCb=void 0,E[i]===e&&delete E[i])};E[i]=e,d?(d(t,a),d.length<=1&&a()):a()},clone:function(e){return resolveTransitionHooks(e,t,n,r)}};return S}function emptyPlaceholder(e){if(isKeepAlive(e))return(e=cloneVNode(e)).children=null,e}function getKeepAliveChild(e){return isKeepAlive(e)?e.children?e.children[0]:void 0:e}function setTransitionHooks(e,t){6&e.shapeFlag&&e.component?setTransitionHooks(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function getTransitionRawChildren(e,t){void 0===t&&(t=!1);for(var n=[],r=0,i=0;i<e.length;i++){var o=e[i];o.type===Fragment?(128&o.patchFlag&&r++,n=n.concat(getTransitionRawChildren(o.children,t))):(t||o.type!==Comment)&&n.push(o)}if(r>1)for(var a=0;a<n.length;a++)n[a].patchFlag=-2;return n}var isKeepAlive=function(e){return e.type.__isKeepAlive},KeepAliveImpl={name:"KeepAlive",__isKeepAlive:!0,inheritRef:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup:function(e,t){var n=t.slots,r=new Map,i=new Set,o=null,a=getCurrentInstance(),s=a.suspense,u=a.ctx,c=u.renderer,l=c.p,f=c.m,h=c.um,d=(0,c.o.createElement)("div");function p(e){resetShapeFlag(e),h(e,a,s)}function v(e){r.forEach((function(t,n){var r=getComponentName(t.type);!r||e&&e(r)||g(n)}))}function g(e){var t=r.get(e);o&&t.type===o.type?o&&resetShapeFlag(o):p(t),r.delete(e),i.delete(e)}u.activate=function(e,t,n,r,i){var o=e.component;f(e,t,n,0,s),l(o.vnode,e,t,n,o,s,r,i),queuePostRenderEffect((function(){o.isDeactivated=!1,o.a&&invokeArrayFns(o.a);var t=e.props&&e.props.onVnodeMounted;t&&invokeVNodeHook(t,o.parent,e)}),s)},u.deactivate=function(e){var t=e.component;f(e,d,null,1,s),queuePostRenderEffect((function(){t.da&&invokeArrayFns(t.da);var n=e.props&&e.props.onVnodeUnmounted;n&&invokeVNodeHook(n,t.parent,e),t.isDeactivated=!0}),s)},watch((function(){return[e.include,e.exclude]}),(function(e){var t=e[0],n=e[1];t&&v((function(e){return matches(t,e)})),n&&v((function(e){return!matches(n,e)}))}),{flush:"post",deep:!0});var _=null,m=function(){null!=_&&r.set(_,getInnerChild(a.subTree))};return onMounted(m),onUpdated(m),onBeforeUnmount((function(){r.forEach((function(e){var t=a.subTree,n=a.suspense,r=getInnerChild(t);if(e.type!==r.type)p(e);else{resetShapeFlag(r);var i=r.component.da;i&&queuePostRenderEffect(i,n)}}))})),function(){if(_=null,!n.default)return null;var t=n.default(),a=t[0];if(t.length>1)return o=null,t;if(!(isVNode(a)&&(4&a.shapeFlag||128&a.shapeFlag)))return o=null,a;var s=getInnerChild(a),u=s.type,c=getComponentName(u),l=e.include,f=e.exclude,h=e.max;if(l&&(!c||!matches(l,c))||f&&c&&matches(f,c))return o=s,a;var d=null==s.key?u:s.key,p=r.get(d);return s.el&&(s=cloneVNode(s),128&a.shapeFlag&&(a.ssContent=s)),_=d,p?(s.el=p.el,s.component=p.component,s.transition&&setTransitionHooks(s,s.transition),s.shapeFlag|=512,i.delete(d),i.add(d)):(i.add(d),h&&i.size>parseInt(h,10)&&g(i.values().next().value)),s.shapeFlag|=256,o=s,a}}},KeepAlive=exports("K",KeepAliveImpl);function matches(e,t){return isArray(e)?e.some((function(e){return matches(e,t)})):isString(e)?e.split(",").indexOf(t)>-1:!!e.test&&e.test(t)}function onActivated(e,t){registerKeepAliveHook(e,"a",t)}function onDeactivated(e,t){registerKeepAliveHook(e,"da",t)}function registerKeepAliveHook(e,t,n){void 0===n&&(n=currentInstance);var r=e.__wdc||(e.__wdc=function(){for(var t=n;t;){if(t.isDeactivated)return;t=t.parent}e()});if(injectHook(t,r,n),n)for(var i=n.parent;i&&i.parent;)isKeepAlive(i.parent.vnode)&&injectToKeepAliveRoot(r,t,n,i),i=i.parent}function injectToKeepAliveRoot(e,t,n,r){var i=injectHook(t,e,r,!0);onUnmounted((function(){remove(r[t],i)}),n)}function resetShapeFlag(e){var t=e.shapeFlag;256&t&&(t-=256),512&t&&(t-=512),e.shapeFlag=t}function getInnerChild(e){return 128&e.shapeFlag?e.ssContent:e}var isInternalKey=function(e){return"_"===e[0]||"$stable"===e},normalizeSlotValue=function(e){return isArray(e)?e.map(normalizeVNode):[normalizeVNode(e)]},normalizeSlot=function(e,t,n){return withCtx((function(e){return normalizeSlotValue(t(e))}),n)},normalizeObjectSlots=function(e,t){var n=e._ctx;for(var r in e)if(!isInternalKey(r)){var i=e[r];isFunction(i)?t[r]=normalizeSlot(r,i,n):null!=i&&function(){var e=normalizeSlotValue(i);t[r]=function(){return e}}()}},normalizeVNodeSlots=function(e,t){var n=normalizeSlotValue(t);e.slots.default=function(){return n}},initSlots=function(e,t){if(32&e.vnode.shapeFlag){var n=t._;n?(e.slots=t,def(t,"_",n)):normalizeObjectSlots(t,e.slots={})}else e.slots={},t&&normalizeVNodeSlots(e,t);def(e.slots,InternalObjectKey,1)},updateSlots=function(e,t){var n=e.vnode,r=e.slots,i=!0,o=EMPTY_OBJ;if(32&n.shapeFlag){var a=t._;a?1===a?i=!1:extend(r,t):(i=!t.$stable,normalizeObjectSlots(t,r)),o=t}else t&&(normalizeVNodeSlots(e,t),o={default:1});if(i)for(var s in r)isInternalKey(s)||s in o||delete r[s]};function withDirectives(e,t){if(null===currentRenderingInstance)return e;for(var n=currentRenderingInstance.proxy,r=e.dirs||(e.dirs=[]),i=0;i<t.length;i++){var o=t[i],a=o[0],s=o[1],u=o[2],c=o[3],l=void 0===c?EMPTY_OBJ:c;isFunction(a)&&(a={mounted:a,updated:a}),r.push({dir:a,instance:n,value:s,oldValue:void 0,arg:u,modifiers:l})}return e}function invokeDirectiveHook(e,t,n,r){for(var i=e.dirs,o=t&&t.dirs,a=0;a<i.length;a++){var s=i[a];o&&(s.oldValue=o[a].value);var u=s.dir[r];u&&callWithAsyncErrorHandling(u,n,8,[e.el,s,e,t])}}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},isCustomElement:NO,errorHandler:void 0,warnHandler:void 0},mixins:[],components:{},directives:{},provides:Object.create(null)}}var uid$1=0;function createAppAPI(e,t){return function(n,r){void 0===r&&(r=null),null==r||isObject(r)||(r=null);var i=createAppContext(),o=new Set,a=!1,s=i.app={_uid:uid$1++,_component:n,_props:r,_container:null,_context:i,version:version,get config(){return i.config},set config(e){},use:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return o.has(e)||(e&&isFunction(e.install)?(o.add(e),e.install.apply(e,[s].concat(n))):isFunction(e)&&(o.add(e),e.apply(void 0,[s].concat(n)))),s},mixin:function(e){return i.mixins.includes(e)||(i.mixins.push(e),(e.props||e.emits)&&(i.deopt=!0)),s},component:function(e,t){return t?(i.components[e]=t,s):i.components[e]},directive:function(e,t){return t?(i.directives[e]=t,s):i.directives[e]},mount:function(o,u){if(!a){var c=createVNode(n,r);return c.appContext=i,u&&t?t(c,o):e(c,o),a=!0,s._container=o,o.__vue_app__=s,c.component.proxy}},unmount:function(){a&&e(null,s._container)},provide:function(e,t){return i.provides[e]=t,s}};return s}}function defineComponent(e){return isFunction(e)?{setup:e,name:e.name}:e}var isAsyncWrapper=function(e){return!!e.type.__asyncLoader},prodEffectOptions={scheduler:queueJob,allowRecurse:!0},queuePostRenderEffect=queueEffectWithSuspense,setRef=function e(t,n,r,i){if(isArray(t))t.forEach((function(t,o){return e(t,n&&(isArray(n)?n[o]:n),r,i)}));else{var o;o=!i||isAsyncWrapper(i)?null:4&i.shapeFlag?i.component.exposed||i.component.proxy:i.el;var a=t.i,s=t.r,u=n&&n.r,c=a.refs===EMPTY_OBJ?a.refs={}:a.refs,l=a.setupState;if(null!=u&&u!==s&&(isString(u)?(c[u]=null,hasOwn(l,u)&&(l[u]=null)):isRef(u)&&(u.value=null)),isString(s)){var f=function(){c[s]=o,hasOwn(l,s)&&(l[s]=o)};o?(f.id=-1,queuePostRenderEffect(f,r)):f()}else if(isRef(s)){var h=function(){s.value=o};o?(h.id=-1,queuePostRenderEffect(h,r)):h()}else isFunction(s)&&callWithErrorHandling(s,a,12,[o,c])}};function createRenderer(e){return baseCreateRenderer(e)}function baseCreateRenderer(e,t){var n,r,i=e.insert,o=e.remove,a=e.patchProp,s=e.forcePatchProp,u=e.createElement,c=e.createText,l=e.createComment,f=e.setText,h=e.setElementText,d=e.parentNode,p=e.nextSibling,v=e.setScopeId,g=void 0===v?NOOP:v,_=e.cloneNode,m=e.insertStaticContent,y=function(e,t,n,r,i,o,a,s){void 0===r&&(r=null),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=!1),void 0===s&&(s=!1),e&&!isSameVNodeType(e,t)&&(r=G(e),B(e,i,o,!0),e=null),-2===t.patchFlag&&(s=!1,t.dynamicChildren=null);var u=t.type,c=t.ref,l=t.shapeFlag;switch(u){case Text:b(e,t,n,r);break;case Comment:E(e,t,n,r);break;case Static:null==e&&C(t,n,r,a);break;case Fragment:I(e,t,n,r,i,o,a,s);break;default:1&l?S(e,t,n,r,i,o,a,s):6&l?O(e,t,n,r,i,o,a,s):(64&l||128&l)&&u.process(e,t,n,r,i,o,a,s,q)}null!=c&&i&&setRef(c,e&&e.ref,o,t)},b=function(e,t,n,r){if(null==e)i(t.el=c(t.children),n,r);else{var o=t.el=e.el;t.children!==e.children&&f(o,t.children)}},E=function(e,t,n,r){null==e?i(t.el=l(t.children||""),n,r):t.el=e.el},C=function(e,t,n,r){var i=m(e.children,t,n,r);e.el=i[0],e.anchor=i[1]},S=function(e,t,n,r,i,o,a,s){a=a||"svg"===t.type,null==e?w(t,n,r,i,o,a,s):R(e,t,i,o,a,s)},w=function(e,t,n,r,o,s,c){var l,f,d=e.type,p=e.props,v=e.shapeFlag,g=e.transition,m=e.scopeId,y=e.patchFlag,b=e.dirs;if(e.el&&void 0!==_&&-1===y)l=e.el=_(e.el);else{if(l=e.el=u(e.type,s,p&&p.is),8&v?h(l,e.children):16&v&&T(e.children,l,null,r,o,s&&"foreignObject"!==d,c||!!e.dynamicChildren),b&&invokeDirectiveHook(e,null,r,"created"),p){for(var E in p)isReservedProp(E)||a(l,E,null,p[E],s,e.children,r,o,W);(f=p.onVnodeBeforeMount)&&invokeVNodeHook(f,r,e)}x(l,m,e,r)}b&&invokeDirectiveHook(e,null,r,"beforeMount");var C=(!o||o&&!o.pendingBranch)&&g&&!g.persisted;C&&g.beforeEnter(l),i(l,t,n),((f=p&&p.onVnodeMounted)||C||b)&&queuePostRenderEffect((function(){f&&invokeVNodeHook(f,r,e),C&&g.enter(l),b&&invokeDirectiveHook(e,null,r,"mounted")}),o)},x=function e(t,n,r,i){if(n&&g(t,n),i){var o=i.type.__scopeId;o&&o!==n&&g(t,o+"-s"),r===i.subTree&&e(t,i.vnode.scopeId,i.vnode,i.parent)}},T=function(e,t,n,r,i,o,a,s){void 0===s&&(s=0);for(var u=s;u<e.length;u++){var c=e[u]=a?cloneIfMounted(e[u]):normalizeVNode(e[u]);y(null,c,t,n,r,i,o,a)}},R=function(e,t,n,r,i,o){var u=t.el=e.el,c=t.patchFlag,l=t.dynamicChildren,f=t.dirs;c|=16&e.patchFlag;var d,p=e.props||EMPTY_OBJ,v=t.props||EMPTY_OBJ;if((d=v.onVnodeBeforeUpdate)&&invokeVNodeHook(d,n,t,e),f&&invokeDirectiveHook(t,e,n,"beforeUpdate"),c>0){if(16&c)A(u,t,p,v,n,r,i);else if(2&c&&p.class!==v.class&&a(u,"class",null,v.class,i),4&c&&a(u,"style",p.style,v.style,i),8&c)for(var g=t.dynamicProps,_=0;_<g.length;_++){var m=g[_],y=p[m],b=v[m];(b!==y||s&&s(u,m))&&a(u,m,y,b,i,e.children,n,r,W)}1&c&&e.children!==t.children&&h(u,t.children)}else o||null!=l||A(u,t,p,v,n,r,i);var E=i&&"foreignObject"!==t.type;l?P(e.dynamicChildren,l,u,n,r,E):o||F(e,t,u,null,n,r,E),((d=v.onVnodeUpdated)||f)&&queuePostRenderEffect((function(){d&&invokeVNodeHook(d,n,t,e),f&&invokeDirectiveHook(t,e,n,"updated")}),r)},P=function(e,t,n,r,i,o){for(var a=0;a<t.length;a++){var s=e[a],u=t[a],c=s.type===Fragment||!isSameVNodeType(s,u)||6&s.shapeFlag||64&s.shapeFlag?d(s.el):n;y(s,u,c,null,r,i,o,!0)}},A=function(e,t,n,r,i,o,u){if(n!==r){for(var c in r)if(!isReservedProp(c)){var l=r[c],f=n[c];(l!==f||s&&s(e,c))&&a(e,c,f,l,u,t.children,i,o,W)}if(n!==EMPTY_OBJ)for(var h in n)isReservedProp(h)||h in r||a(e,h,n[h],null,u,t.children,i,o,W)}},I=function(e,t,n,r,o,a,s,u){var l=t.el=e?e.el:c(""),f=t.anchor=e?e.anchor:c(""),h=t.patchFlag,d=t.dynamicChildren;h>0&&(u=!0),null==e?(i(l,n,r),i(f,n,r),T(t.children,n,f,o,a,s,u)):h>0&&64&h&&d&&e.dynamicChildren?(P(e.dynamicChildren,d,n,o,a,s),(null!=t.key||o&&t===o.subTree)&&traverseStaticChildren(e,t,!0)):F(e,t,n,f,o,a,s,u)},O=function(e,t,n,r,i,o,a,s){null==e?512&t.shapeFlag?i.ctx.activate(t,n,r,a,s):N(t,n,r,i,o,a,s):k(e,t,s)},N=function(e,t,n,r,i,o,a){var s=e.component=createComponentInstance(e,r,i);if(isKeepAlive(e)&&(s.ctx.renderer=q),setupComponent(s),s.asyncDep){if(i&&i.registerDep(s,M),!e.el){var u=s.subTree=createVNode(Comment);E(null,u,t,n)}}else M(s,e,t,n,i,o,a)},k=function(e,t,n){var r=t.component=e.component;if(shouldUpdateComponent(e,t,n)){if(r.asyncDep&&!r.asyncResolved)return void L(r,t,n);r.next=t,invalidateJob(r.update),r.update()}else t.component=e.component,t.el=e.el,r.vnode=t},M=function(e,t,n,i,o,a,s){e.update=effect((function(){if(e.isMounted){var u,c=e.next,l=e.bu,f=e.u,h=e.parent,p=e.vnode,v=c;c?(c.el=p.el,L(e,c,s)):c=p,l&&invokeArrayFns(l),(u=c.props&&c.props.onVnodeBeforeUpdate)&&invokeVNodeHook(u,h,c,p);var g=renderComponentRoot(e),_=e.subTree;e.subTree=g,y(_,g,d(_.el),G(_),e,o,a),c.el=g.el,null===v&&updateHOCHostEl(e,g.el),f&&queuePostRenderEffect(f,o),(u=c.props&&c.props.onVnodeUpdated)&&queuePostRenderEffect((function(){invokeVNodeHook(u,h,c,p)}),o)}else{var m,b=t,E=b.el,C=b.props,S=e.bm,w=e.m,x=e.parent;S&&invokeArrayFns(S),(m=C&&C.onVnodeBeforeMount)&&invokeVNodeHook(m,x,t);var T=e.subTree=renderComponentRoot(e);if(E&&r?r(t.el,T,e,o):(y(null,T,n,i,e,o,a),t.el=T.el),w&&queuePostRenderEffect(w,o),m=C&&C.onVnodeMounted){var R=t;queuePostRenderEffect((function(){invokeVNodeHook(m,x,R)}),o)}var P=e.a;P&&256&t.shapeFlag&&queuePostRenderEffect(P,o),e.isMounted=!0,t=n=i=null}}),prodEffectOptions)},L=function(e,t,n){t.component=e;var r=e.vnode.props;e.vnode=t,e.next=null,updateProps(e,t.props,r,n),updateSlots(e,t.children),flushPreFlushCbs(void 0,e.update)},F=function(e,t,n,r,i,o,a,s){void 0===s&&(s=!1);var u=e&&e.children,c=e?e.shapeFlag:0,l=t.children,f=t.patchFlag,d=t.shapeFlag;if(f>0){if(128&f)return void $(u,l,n,r,i,o,a,s);if(256&f)return void D(u,l,n,r,i,o,a,s)}8&d?(16&c&&W(u,i,o),l!==u&&h(n,l)):16&c?16&d?$(u,l,n,r,i,o,a,s):W(u,i,o,!0):(8&c&&h(n,""),16&d&&T(l,n,r,i,o,a,s))},D=function(e,t,n,r,i,o,a,s){t=t||EMPTY_ARR;var u,c=(e=e||EMPTY_ARR).length,l=t.length,f=Math.min(c,l);for(u=0;u<f;u++){var h=t[u]=s?cloneIfMounted(t[u]):normalizeVNode(t[u]);y(e[u],h,n,null,i,o,a,s)}c>l?W(e,i,o,!0,!1,f):T(t,n,r,i,o,a,s,f)},$=function(e,t,n,r,i,o,a,s){for(var u=0,c=t.length,l=e.length-1,f=c-1;u<=l&&u<=f;){var h=e[u],d=t[u]=s?cloneIfMounted(t[u]):normalizeVNode(t[u]);if(!isSameVNodeType(h,d))break;y(h,d,n,null,i,o,a,s),u++}for(;u<=l&&u<=f;){var p=e[l],v=t[f]=s?cloneIfMounted(t[f]):normalizeVNode(t[f]);if(!isSameVNodeType(p,v))break;y(p,v,n,null,i,o,a,s),l--,f--}if(u>l){if(u<=f)for(var g=f+1,_=g<c?t[g].el:r;u<=f;)y(null,t[u]=s?cloneIfMounted(t[u]):normalizeVNode(t[u]),n,_,i,o,a),u++}else if(u>f)for(;u<=l;)B(e[u],i,o,!0),u++;else{var m,b=u,E=u,C=new Map;for(u=E;u<=f;u++){var S=t[u]=s?cloneIfMounted(t[u]):normalizeVNode(t[u]);null!=S.key&&C.set(S.key,u)}var w=0,x=f-E+1,T=!1,R=0,P=new Array(x);for(u=0;u<x;u++)P[u]=0;for(u=b;u<=l;u++){var A=e[u];if(w>=x)B(A,i,o,!0);else{var I=void 0;if(null!=A.key)I=C.get(A.key);else for(m=E;m<=f;m++)if(0===P[m-E]&&isSameVNodeType(A,t[m])){I=m;break}void 0===I?B(A,i,o,!0):(P[I-E]=u+1,I>=R?R=I:T=!0,y(A,t[I],n,null,i,o,a,s),w++)}}var O=T?getSequence(P):EMPTY_ARR;for(m=O.length-1,u=x-1;u>=0;u--){var N=E+u,k=t[N],M=N+1<c?t[N+1].el:r;0===P[u]?y(null,k,n,M,i,o,a):T&&(m<0||u!==O[m]?j(k,n,M,2):m--)}}},j=function e(t,n,r,o,a){void 0===a&&(a=null);var s=t.el,u=t.type,c=t.transition,l=t.children,f=t.shapeFlag;if(6&f)e(t.component.subTree,n,r,o);else if(128&f)t.suspense.move(n,r,o);else if(64&f)u.move(t,n,r,q);else if(u!==Fragment){if(u!==Static)if(2!==o&&1&f&&c)if(0===o)c.beforeEnter(s),i(s,n,r),queuePostRenderEffect((function(){return c.enter(s)}),a);else{var h=c.leave,d=c.delayLeave,v=c.afterLeave,g=function(){return i(s,n,r)},_=function(){h(s,(function(){g(),v&&v()}))};d?d(s,g,_):_()}else i(s,n,r);else!function(e,t,n){for(var r,o=e.el,a=e.anchor;o&&o!==a;)r=p(o),i(o,t,n),o=r;i(a,t,n)}(t,n,r)}else{i(s,n,r);for(var m=0;m<l.length;m++)e(l[m],n,r,o);i(t.anchor,n,r)}},B=function(e,t,n,r,i){void 0===r&&(r=!1),void 0===i&&(i=!1);var o=e.type,a=e.props,s=e.ref,u=e.children,c=e.dynamicChildren,l=e.shapeFlag,f=e.patchFlag,h=e.dirs;if(null!=s&&setRef(s,null,n,null),256&l)t.ctx.deactivate(e);else{var d,p=1&l&&h;if((d=a&&a.onVnodeBeforeUnmount)&&invokeVNodeHook(d,t,e),6&l)U(e.component,n,r);else{if(128&l)return void e.suspense.unmount(n,r);p&&invokeDirectiveHook(e,null,t,"beforeUnmount"),c&&(o!==Fragment||f>0&&64&f)?W(c,t,n,!1,!0):(o===Fragment&&(128&f||256&f)||!i&&16&l)&&W(u,t,n),64&l&&(r||!isTeleportDisabled(e.props))&&e.type.remove(e,q),r&&V(e)}((d=a&&a.onVnodeUnmounted)||p)&&queuePostRenderEffect((function(){d&&invokeVNodeHook(d,t,e),p&&invokeDirectiveHook(e,null,t,"unmounted")}),n)}},V=function(e){var t=e.type,n=e.el,r=e.anchor,i=e.transition;if(t!==Fragment)if(t!==Static){var a=function(){o(n),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&e.shapeFlag&&i&&!i.persisted){var s=i.leave,u=i.delayLeave,c=function(){return s(n,a)};u?u(e.el,a,c):c()}else a()}else!function(e){for(var t,n=e.el,r=e.anchor;n&&n!==r;)t=p(n),o(n),n=t;o(r)}(e);else H(n,r)},H=function(e,t){for(var n;e!==t;)n=p(e),o(e),e=n;o(t)},U=function(e,t,n){var r=e.bum,i=e.effects,o=e.update,a=e.subTree,s=e.um;if(r&&invokeArrayFns(r),i)for(var u=0;u<i.length;u++)stop(i[u]);o&&(stop(o),B(a,e,t,n)),s&&queuePostRenderEffect(s,t),queuePostRenderEffect((function(){e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},W=function(e,t,n,r,i,o){void 0===r&&(r=!1),void 0===i&&(i=!1),void 0===o&&(o=0);for(var a=o;a<e.length;a++)B(e[a],t,n,r,i)},G=function e(t){return 6&t.shapeFlag?e(t.component.subTree):128&t.shapeFlag?t.suspense.next():p(t.anchor||t.el)},z=function(e,t){null==e?t._vnode&&B(t._vnode,null,null,!0):y(t._vnode||null,e,t),flushPostFlushCbs(),t._vnode=e},q={p:y,um:B,m:j,r:V,mt:N,mc:T,pc:F,pbc:P,n:G,o:e};if(t){var Y=t(q);n=Y[0],r=Y[1]}return{render:z,hydrate:n,createApp:createAppAPI(z,n)}}function invokeVNodeHook(e,t,n,r){void 0===r&&(r=null),callWithAsyncErrorHandling(e,t,7,[n,r])}function traverseStaticChildren(e,t,n){void 0===n&&(n=!1);var r=e.children,i=t.children;if(isArray(r)&&isArray(i))for(var o=0;o<r.length;o++){var a=r[o],s=i[o];1&s.shapeFlag&&!s.dynamicChildren&&((s.patchFlag<=0||32===s.patchFlag)&&((s=i[o]=cloneIfMounted(i[o])).el=a.el),n||traverseStaticChildren(a,s))}}function getSequence(e){var t,n,r,i,o,a=e.slice(),s=[0],u=e.length;for(t=0;t<u;t++){var c=e[t];if(0!==c){if(e[n=s[s.length-1]]<c){a[t]=n,s.push(t);continue}for(r=0,i=s.length-1;r<i;)e[s[o=(r+i)/2|0]]<c?r=o+1:i=o;c<e[s[r]]&&(r>0&&(a[t]=s[r-1]),s[r]=t)}}for(i=s[(r=s.length)-1];r-- >0;)s[r]=i,i=a[i];return s}var isTeleport=function(e){return e.__isTeleport},isTeleportDisabled=function(e){return e&&(e.disabled||""===e.disabled)},COMPONENTS="components";function resolveComponent(e){return resolveAsset(COMPONENTS,e)||e}var NULL_DYNAMIC_COMPONENT=Symbol();function resolveDynamicComponent(e){return isString(e)?resolveAsset(COMPONENTS,e,!1)||e:e||NULL_DYNAMIC_COMPONENT}function resolveAsset(e,t,n){void 0===n&&(n=!0);var r=currentRenderingInstance||currentInstance;if(r){var i=r.type;if(e===COMPONENTS){if("_self"===t)return i;var o=getComponentName(i);if(o&&(o===t||o===camelize(t)||o===capitalize(camelize(t))))return i}return resolve(r[e]||i[e],t)||resolve(r.appContext[e],t)}}function resolve(e,t){return e&&(e[t]||e[camelize(t)]||e[capitalize(camelize(t))])}var Fragment=exports("F",Symbol(void 0)),Text=Symbol(void 0),Comment=Symbol(void 0),Static=Symbol(void 0),blockStack=[],currentBlock=null;function openBlock(e){void 0===e&&(e=!1),blockStack.push(currentBlock=e?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}function createBlock(e,t,n,r,i){var o=createVNode(e,t,n,r,i,!0);return o.dynamicChildren=currentBlock||EMPTY_ARR,closeBlock(),currentBlock&&currentBlock.push(o),o}function isVNode(e){return!!e&&!0===e.__v_isVNode}function isSameVNodeType(e,t){return e.type===t.type&&e.key===t.key}var InternalObjectKey="__vInternal",normalizeKey=function(e){var t=e.key;return null!=t?t:null},normalizeRef=function(e){var t=e.ref;return null!=t?isString(t)||isRef(t)||isFunction(t)?{i:currentRenderingInstance,r:t}:t:null},createVNode=exports("a",_createVNode);function _createVNode(e,t,n,r,i,o){var a;if(void 0===t&&(t=null),void 0===n&&(n=null),void 0===r&&(r=0),void 0===i&&(i=null),void 0===o&&(o=!1),e&&e!==NULL_DYNAMIC_COMPONENT||(e=Comment),isVNode(e)){var s=cloneVNode(e,t,!0);return n&&normalizeChildren(s,n),s}if(isClassComponent(e)&&(e=e.__vccOpts),t){(isProxy(t)||InternalObjectKey in t)&&(t=extend({},t));var u=t,c=u.class,l=u.style;c&&!isString(c)&&(t.class=normalizeClass(c)),isObject(l)&&(isProxy(l)&&!isArray(l)&&(l=extend({},l)),t.style=normalizeStyle(l))}var f=isString(e)?1:isSuspense(e)?128:isTeleport(e)?64:isObject(e)?4:isFunction(e)?2:0,h=((a={__v_isVNode:!0}).__v_skip=!0,a.type=e,a.props=t,a.key=t&&normalizeKey(t),a.ref=t&&normalizeRef(t),a.scopeId=currentScopeId,a.children=null,a.component=null,a.suspense=null,a.ssContent=null,a.ssFallback=null,a.dirs=null,a.transition=null,a.el=null,a.anchor=null,a.target=null,a.targetAnchor=null,a.staticCount=0,a.shapeFlag=f,a.patchFlag=r,a.dynamicProps=i,a.dynamicChildren=null,a.appContext=null,a);if(normalizeChildren(h,n),128&f){var d=normalizeSuspenseChildren(h),p=d.content,v=d.fallback;h.ssContent=p,h.ssFallback=v}return!o&&currentBlock&&(r>0||6&f)&&32!==r&&currentBlock.push(h),h}function cloneVNode(e,t,n){var r;void 0===n&&(n=!1);var i=e.props,o=e.ref,a=e.patchFlag,s=t?mergeProps(i||{},t):i;return(r={__v_isVNode:!0}).__v_skip=!0,r.type=e.type,r.props=s,r.key=s&&normalizeKey(s),r.ref=t&&t.ref?n&&o?isArray(o)?o.concat(normalizeRef(t)):[o,normalizeRef(t)]:normalizeRef(t):o,r.scopeId=e.scopeId,r.children=e.children,r.target=e.target,r.targetAnchor=e.targetAnchor,r.staticCount=e.staticCount,r.shapeFlag=e.shapeFlag,r.patchFlag=t&&e.type!==Fragment?-1===a?16:16|a:a,r.dynamicProps=e.dynamicProps,r.dynamicChildren=e.dynamicChildren,r.appContext=e.appContext,r.dirs=e.dirs,r.transition=e.transition,r.component=e.component,r.suspense=e.suspense,r.ssContent=e.ssContent&&cloneVNode(e.ssContent),r.ssFallback=e.ssFallback&&cloneVNode(e.ssFallback),r.el=e.el,r.anchor=e.anchor,r}function createTextVNode(e,t){return void 0===e&&(e=" "),void 0===t&&(t=0),createVNode(Text,null,e,t)}function createCommentVNode(e,t){return void 0===e&&(e=""),void 0===t&&(t=!1),t?(openBlock(),createBlock(Comment,null,e)):createVNode(Comment,null,e)}function normalizeVNode(e){return null==e||"boolean"==typeof e?createVNode(Comment):isArray(e)?createVNode(Fragment,null,e):"object"==typeof e?null===e.el?e:cloneVNode(e):createVNode(Text,null,String(e))}function cloneIfMounted(e){return null===e.el?e:cloneVNode(e)}function normalizeChildren(e,t){var n=0,r=e.shapeFlag;if(null==t)t=null;else if(isArray(t))n=16;else if("object"==typeof t){if(1&r||64&r){var i=t.default;return void(i&&(i._c&&setCompiledSlotRendering(1),normalizeChildren(e,i()),i._c&&setCompiledSlotRendering(-1)))}n=32;var o=t._;o||InternalObjectKey in t?3===o&&currentRenderingInstance&&(1024&currentRenderingInstance.vnode.patchFlag?(t._=2,e.patchFlag|=1024):t._=1):t._ctx=currentRenderingInstance}else isFunction(t)?(t={default:t,_ctx:currentRenderingInstance},n=32):(t=String(t),64&r?(n=16,t=[createTextVNode(t)]):n=8);e.children=t,e.shapeFlag|=n}function mergeProps(){for(var e=extend({},arguments.length<=0?void 0:arguments[0]),t=1;t<arguments.length;t++){var n=t<0||arguments.length<=t?void 0:arguments[t];for(var r in n)if("class"===r)e.class!==n.class&&(e.class=normalizeClass([e.class,n.class]));else if("style"===r)e.style=normalizeStyle([e.style,n.style]);else if(isOn(r)){var i=e[r],o=n[r];i!==o&&(e[r]=i?[].concat(i,n[r]):o)}else""!==r&&(e[r]=n[r])}return e}function provide(e,t){if(currentInstance){var n=currentInstance.provides,r=currentInstance.parent&&currentInstance.parent.provides;r===n&&(n=currentInstance.provides=Object.create(r)),n[e]=t}else;}function inject(e,t,n){void 0===n&&(n=!1);var r=currentInstance||currentRenderingInstance;if(r){var i=null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&isFunction(t)?t():t}}var isInBeforeCreate=!1;function applyOptions(e,t,n,r,i,o){void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=[]),void 0===o&&(o=!1);var a=t.mixins,s=t.extends,u=t.data,c=t.computed,l=t.methods,f=t.watch,h=t.provide,d=t.inject,p=t.components,v=t.directives,g=t.beforeMount,_=t.mounted,m=t.beforeUpdate,y=t.updated,b=t.activated,E=t.deactivated,C=(t.beforeDestroy,t.beforeUnmount),S=(t.destroyed,t.unmounted),w=t.render,x=t.renderTracked,T=t.renderTriggered,R=t.errorCaptured,P=t.expose,A=e.proxy,I=e.ctx,O=e.appContext.mixins;if(o&&w&&e.render===NOOP&&(e.render=w),o||(isInBeforeCreate=!0,callSyncHook("beforeCreate","bc",t,e,O),isInBeforeCreate=!1,applyMixins(e,O,n,r,i)),s&&applyOptions(e,s,n,r,i,!0),a&&applyMixins(e,a,n,r,i),d)if(isArray(d))for(var N=0;N<d.length;N++){var k=d[N];I[k]=inject(k)}else for(var M in d){var L=d[M];isObject(L)?I[M]=inject(L.from||M,L.default,!0):I[M]=inject(L)}if(l)for(var F in l){var D=l[F];isFunction(D)&&(I[F]=D.bind(A))}if(o?u&&n.push(u):(n.length&&n.forEach((function(t){return resolveData(e,t,A)})),u&&resolveData(e,u,A)),c){var $=function(e){var t=c[e],n=computed$1({get:isFunction(t)?t.bind(A,A):isFunction(t.get)?t.get.bind(A,A):NOOP,set:!isFunction(t)&&isFunction(t.set)?t.set.bind(A):NOOP});Object.defineProperty(I,e,{enumerable:!0,configurable:!0,get:function(){return n.value},set:function(e){return n.value=e}})};for(var j in c)$(j)}if(f&&r.push(f),!o&&r.length&&r.forEach((function(e){for(var t in e)createWatcher(e[t],I,A,t)})),h&&i.push(h),!o&&i.length&&i.forEach((function(e){var t=isFunction(e)?e.call(A):e;Reflect.ownKeys(t).forEach((function(e){provide(e,t[e])}))})),o&&(p&&extend(e.components||(e.components=extend({},e.type.components)),p),v&&extend(e.directives||(e.directives=extend({},e.type.directives)),v)),o||callSyncHook("created","c",t,e,O),g&&onBeforeMount(g.bind(A)),_&&onMounted(_.bind(A)),m&&onBeforeUpdate(m.bind(A)),y&&onUpdated(y.bind(A)),b&&onActivated(b.bind(A)),E&&onDeactivated(E.bind(A)),R&&onErrorCaptured(R.bind(A)),x&&onRenderTracked(x.bind(A)),T&&onRenderTriggered(T.bind(A)),C&&onBeforeUnmount(C.bind(A)),S&&onUnmounted(S.bind(A)),isArray(P)&&!o)if(P.length){var B=e.exposed||(e.exposed=proxyRefs({}));P.forEach((function(e){B[e]=toRef(A,e)}))}else e.exposed||(e.exposed=EMPTY_OBJ)}function callSyncHook(e,t,n,r,i){callHookFromMixins(e,t,i,r);var o=n.extends,a=n.mixins;o&&callHookFromExtends(e,t,o,r),a&&callHookFromMixins(e,t,a,r);var s=n[e];s&&callWithAsyncErrorHandling(s.bind(r.proxy),r,t)}function callHookFromExtends(e,t,n,r){n.extends&&callHookFromExtends(e,t,n.extends,r);var i=n[e];i&&callWithAsyncErrorHandling(i.bind(r.proxy),r,t)}function callHookFromMixins(e,t,n,r){for(var i=0;i<n.length;i++){var o=n[i].mixins;o&&callHookFromMixins(e,t,o,r);var a=n[i][e];a&&callWithAsyncErrorHandling(a.bind(r.proxy),r,t)}}function applyMixins(e,t,n,r,i){for(var o=0;o<t.length;o++)applyOptions(e,t[o],n,r,i,!0)}function resolveData(e,t,n){var r=t.call(n,n);isObject(r)&&(e.data===EMPTY_OBJ?e.data=reactive(r):extend(e.data,r))}function createWatcher(e,t,n,r){var i=r.includes(".")?createPathGetter(n,r):function(){return n[r]};if(isString(e)){var o=t[e];isFunction(o)&&watch(i,o)}else if(isFunction(e))watch(i,e.bind(n));else if(isObject(e))if(isArray(e))e.forEach((function(e){return createWatcher(e,t,n,r)}));else{var a=isFunction(e.handler)?e.handler.bind(n):t[e.handler];isFunction(a)&&watch(i,a,e)}}function createPathGetter(e,t){var n=t.split(".");return function(){for(var t=e,r=0;r<n.length&&t;r++)t=t[n[r]];return t}}function resolveMergedOptions(e){var t=e.type,n=t.__merged,r=t.mixins,i=t.extends;if(n)return n;var o=e.appContext.mixins;if(!o.length&&!r&&!i)return t;var a={};return o.forEach((function(t){return mergeOptions(a,t,e)})),mergeOptions(a,t,e),t.__merged=a}function mergeOptions(e,t,n){var r=n.appContext.config.optionMergeStrategies,i=t.mixins,o=t.extends;for(var a in o&&mergeOptions(e,o,n),i&&i.forEach((function(t){return mergeOptions(e,t,n)})),t)r&&hasOwn(r,a)?e[a]=r[a](e[a],t[a],n.proxy,a):e[a]=t[a]}var getPublicInstance=function e(t){return t&&(t.proxy?t.proxy:e(t.parent))},publicPropertiesMap=extend(Object.create(null),{$:function(e){return e},$el:function(e){return e.vnode.el},$data:function(e){return e.data},$props:function(e){return e.props},$attrs:function(e){return e.attrs},$slots:function(e){return e.slots},$refs:function(e){return e.refs},$parent:function(e){return getPublicInstance(e.parent)},$root:function(e){return e.root&&e.root.proxy},$emit:function(e){return e.emit},$options:function(e){return resolveMergedOptions(e)},$forceUpdate:function(e){return function(){return queueJob(e.update)}},$nextTick:function(e){return nextTick.bind(e.proxy)},$watch:function(e){return instanceWatch.bind(e)}}),PublicInstanceProxyHandlers={get:function(e,t){var n,r=e._,i=r.ctx,o=r.setupState,a=r.data,s=r.props,u=r.accessCache,c=r.type,l=r.appContext;if("__v_skip"===t)return!0;if("$"!==t[0]){var f=u[t];if(void 0!==f)switch(f){case 0:return o[t];case 1:return a[t];case 3:return i[t];case 2:return s[t]}else{if(o!==EMPTY_OBJ&&hasOwn(o,t))return u[t]=0,o[t];if(a!==EMPTY_OBJ&&hasOwn(a,t))return u[t]=1,a[t];if((n=r.propsOptions[0])&&hasOwn(n,t))return u[t]=2,s[t];if(i!==EMPTY_OBJ&&hasOwn(i,t))return u[t]=3,i[t];isInBeforeCreate||(u[t]=4)}}var h,d,p=publicPropertiesMap[t];return p?("$attrs"===t&&track(r,"get",t),p(r)):(h=c.__cssModules)&&(h=h[t])?h:i!==EMPTY_OBJ&&hasOwn(i,t)?(u[t]=3,i[t]):(d=l.config.globalProperties,hasOwn(d,t)?d[t]:void 0)},set:function(e,t,n){var r=e._,i=r.data,o=r.setupState,a=r.ctx;if(o!==EMPTY_OBJ&&hasOwn(o,t))o[t]=n;else if(i!==EMPTY_OBJ&&hasOwn(i,t))i[t]=n;else if(t in r.props)return!1;return("$"!==t[0]||!(t.slice(1)in r))&&(a[t]=n,!0)},has:function(e,t){var n,r=e._,i=r.data,o=r.setupState,a=r.accessCache,s=r.ctx,u=r.appContext,c=r.propsOptions;return void 0!==a[t]||i!==EMPTY_OBJ&&hasOwn(i,t)||o!==EMPTY_OBJ&&hasOwn(o,t)||(n=c[0])&&hasOwn(n,t)||hasOwn(s,t)||hasOwn(publicPropertiesMap,t)||hasOwn(u.config.globalProperties,t)}},RuntimeCompiledPublicInstanceProxyHandlers=extend({},PublicInstanceProxyHandlers,{get:function(e,t){if(t!==Symbol.unscopables)return PublicInstanceProxyHandlers.get(e,t,e)},has:function(e,t){var n="_"!==t[0]&&!isGloballyWhitelisted(t);return n}}),emptyAppContext=createAppContext(),uid$1$1=0;function createComponentInstance(e,t,n){var r=e.type,i=(t?t.appContext:e.appContext)||emptyAppContext,o={uid:uid$1$1++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,update:null,render:null,proxy:null,exposed:null,withProxy:null,effects:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(r,i),emitsOptions:normalizeEmitsOptions(r,i),emit:null,emitted:null,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=emit.bind(null,o),o}var currentInstance=null,getCurrentInstance=function(){return currentInstance||currentRenderingInstance},setCurrentInstance=function(e){currentInstance=e},isInSSRComponentSetup=!1;function setupComponent(e,t){void 0===t&&(t=!1),isInSSRComponentSetup=t;var n=e.vnode,r=n.props,i=n.children,o=4&n.shapeFlag;initProps(e,r,o,t),initSlots(e,i);var a=o?setupStatefulComponent(e,t):void 0;return isInSSRComponentSetup=!1,a}function setupStatefulComponent(e,t){var n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,PublicInstanceProxyHandlers);var r=n.setup;if(r){var i=e.setupContext=r.length>1?createSetupContext(e):null;currentInstance=e,pauseTracking();var o=callWithErrorHandling(r,e,0,[e.props,i]);if(resetTracking(),currentInstance=null,isPromise(o)){if(t)return o.then((function(t){handleSetupResult(e,t)}));e.asyncDep=o}else handleSetupResult(e,o)}else finishComponentSetup(e)}function handleSetupResult(e,t,n){isFunction(t)?e.render=t:isObject(t)&&(e.setupState=proxyRefs(t)),finishComponentSetup(e)}function finishComponentSetup(e,t){var n=e.type;e.render||(e.render=n.render||NOOP,e.render._rc&&(e.withProxy=new Proxy(e.ctx,RuntimeCompiledPublicInstanceProxyHandlers))),currentInstance=e,pauseTracking(),applyOptions(e,n),resetTracking(),currentInstance=null}function createSetupContext(e){return{attrs:e.attrs,slots:e.slots,emit:e.emit,expose:function(t){e.exposed=proxyRefs(t)}}}function recordInstanceBoundEffect(e,t){void 0===t&&(t=currentInstance),t&&(t.effects||(t.effects=[])).push(e)}var classifyRE=/(?:^|[-_])(\w)/g,classify=function(e){return e.replace(classifyRE,(function(e){return e.toUpperCase()})).replace(/[-_]/g,"")};function getComponentName(e){return isFunction(e)&&e.displayName||e.name}function formatComponentName(e,t,n){void 0===n&&(n=!1);var r=getComponentName(t);if(!r&&t.__file){var i=t.__file.match(/([^/\\]+)\.\w+$/);i&&(r=i[1])}if(!r&&e&&e.parent){var o=function(e){for(var n in e)if(e[n]===t)return n};r=o(e.components||e.parent.type.components)||o(e.appContext.components)}return r?classify(r):n?"App":"Anonymous"}function isClassComponent(e){return isFunction(e)&&"__vccOpts"in e}function computed$1(e){var t=computed(e);return recordInstanceBoundEffect(t.effect),t}function h(e,t,n){var r=arguments.length;return 2===r?isObject(t)&&!isArray(t)?isVNode(t)?createVNode(e,null,[t]):createVNode(e,t):createVNode(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&isVNode(n)&&(n=[n]),createVNode(e,t,n))}function renderList(e,t){var n;if(isArray(e)||isString(e)){n=new Array(e.length);for(var r=0,i=e.length;r<i;r++)n[r]=t(e[r],r)}else if("number"==typeof e){n=new Array(e);for(var o=0;o<e;o++)n[o]=t(o+1,o)}else if(isObject(e))if(e[Symbol.iterator])n=Array.from(e,t);else{var a=Object.keys(e);n=new Array(a.length);for(var s=0,u=a.length;s<u;s++){var c=a[s];n[s]=t(e[c],c,s)}}else n=[];return n}var version="3.0.5",svgNS="http://www.w3.org/2000/svg",doc="undefined"!=typeof document?document:null,tempContainer,tempSVGContainer,nodeOps={insert:function(e,t,n){t.insertBefore(e,n||null)},remove:function(e){var t=e.parentNode;t&&t.removeChild(e)},createElement:function(e,t,n){return t?doc.createElementNS(svgNS,e):doc.createElement(e,n?{is:n}:void 0)},createText:function(e){return doc.createTextNode(e)},createComment:function(e){return doc.createComment(e)},setText:function(e,t){e.nodeValue=t},setElementText:function(e,t){e.textContent=t},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},querySelector:function(e){return doc.querySelector(e)},setScopeId:function(e,t){e.setAttribute(t,"")},cloneNode:function(e){return e.cloneNode(!0)},insertStaticContent:function(e,t,n,r){var i=r?tempSVGContainer||(tempSVGContainer=doc.createElementNS(svgNS,"svg")):tempContainer||(tempContainer=doc.createElement("div"));i.innerHTML=e;for(var o=i.firstChild,a=o,s=a;a;)s=a,nodeOps.insert(a,t,n),a=i.firstChild;return[o,s]}};function patchClass(e,t,n){if(null==t&&(t=""),n)e.setAttribute("class",t);else{var r=e._vtc;r&&(t=(t?[t].concat(r):[].concat(r)).join(" ")),e.className=t}}function patchStyle(e,t,n){var r=e.style;if(n)if(isString(n))t!==n&&(r.cssText=n);else{for(var i in n)setStyle(r,i,n[i]);if(t&&!isString(t))for(var o in t)null==n[o]&&setStyle(r,o,"")}else e.removeAttribute("style")}var importantRE=/\s*!important$/;function setStyle(e,t,n){if(isArray(n))n.forEach((function(n){return setStyle(e,t,n)}));else if(t.startsWith("--"))e.setProperty(t,n);else{var r=autoPrefix(e,t);importantRE.test(n)?e.setProperty(hyphenate(r),n.replace(importantRE,""),"important"):e[r]=n}}var prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(e,t){var n=prefixCache[t];if(n)return n;var r=camelize(t);if("filter"!==r&&r in e)return prefixCache[t]=r;r=capitalize(r);for(var i=0;i<prefixes.length;i++){var o=prefixes[i]+r;if(o in e)return prefixCache[t]=o}return t}var xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(e,t,n,r){if(r&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(xlinkNS,t.slice(6,t.length)):e.setAttributeNS(xlinkNS,t,n);else{var i=isSpecialBooleanAttr(t);null==n||i&&!1===n?e.removeAttribute(t):e.setAttribute(t,i?"":n)}}function patchDOMProp(e,t,n,r,i,o,a){if("innerHTML"===t||"textContent"===t)return r&&a(r,i,o),void(e[t]=null==n?"":n);if("value"!==t||"PROGRESS"===e.tagName){if(""===n||null==n){var s=typeof e[t];if(""===n&&"boolean"===s)return void(e[t]=!0);if(null==n&&"string"===s)return e[t]="",void e.removeAttribute(t);if("number"===s)return e[t]=0,void e.removeAttribute(t)}try{e[t]=n}catch(c){}}else{e._value=n;var u=null==n?"":n;e.value!==u&&(e.value=u)}}var _getNow=Date.now;"undefined"!=typeof document&&_getNow()>document.createEvent("Event").timeStamp&&(_getNow=function(){return performance.now()});var cachedNow=0,p=Promise.resolve(),reset=function(){cachedNow=0},getNow=function(){return cachedNow||(p.then(reset),cachedNow=_getNow())};function addEventListener(e,t,n,r){e.addEventListener(t,n,r)}function removeEventListener(e,t,n,r){e.removeEventListener(t,n,r)}function patchEvent(e,t,n,r,i){void 0===i&&(i=null);var o=e._vei||(e._vei={}),a=o[t];if(r&&a)a.value=r;else{var s=parseName(t),u=s[0],c=s[1];if(r)addEventListener(e,u,o[t]=createInvoker(r,i),c);else a&&(removeEventListener(e,u,a,c),o[t]=void 0)}}var optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(e){var t,n;if(optionsModifierRE.test(e))for(t={};n=e.match(optionsModifierRE);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0;return[e.slice(2).toLowerCase(),t]}function createInvoker(e,t){var n=function e(n){(n.timeStamp||_getNow())>=e.attached-1&&callWithAsyncErrorHandling(patchStopImmediatePropagation(n,e.value),t,5,[n])};return n.value=e,n.attached=getNow(),n}function patchStopImmediatePropagation(e,t){if(isArray(t)){var n=e.stopImmediatePropagation;return e.stopImmediatePropagation=function(){n.call(e),e._stopped=!0},t.map((function(e){return function(t){return!t._stopped&&e(t)}}))}return t}var nativeOnRE=/^on[a-z]/,forcePatchProp=function(e,t){return"value"===t},patchProp=function(e,t,n,r,i,o,a,s,u){switch(void 0===i&&(i=!1),t){case"class":patchClass(e,r,i);break;case"style":patchStyle(e,n,r);break;default:isOn(t)?isModelListener(t)||patchEvent(e,t,n,r,a):shouldSetAsProp(e,t,r,i)?patchDOMProp(e,t,r,o,a,s,u):("true-value"===t?e._trueValue=r:"false-value"===t&&(e._falseValue=r),patchAttr(e,t,r,i))}};function shouldSetAsProp(e,t,n,r){return r?"innerHTML"===t||!!(t in e&&nativeOnRE.test(t)&&isFunction(n)):"spellcheck"!==t&&"draggable"!==t&&(("form"!==t||"string"!=typeof n)&&(("list"!==t||"INPUT"!==e.tagName)&&((!nativeOnRE.test(t)||!isString(n))&&t in e)))}var TRANSITION="transition",ANIMATION="animation",Transition=exports("T",(function(e,t){var n=t.slots;return h(BaseTransition,resolveTransitionProps(e),n)}));Transition.displayName="Transition";var DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};function resolveTransitionProps(e){var t=e.name,n=void 0===t?"v":t,r=e.type,i=e.css,o=void 0===i||i,a=e.duration,s=e.enterFromClass,u=void 0===s?n+"-enter-from":s,c=e.enterActiveClass,l=void 0===c?n+"-enter-active":c,f=e.enterToClass,h=void 0===f?n+"-enter-to":f,d=e.appearFromClass,p=void 0===d?u:d,v=e.appearActiveClass,g=void 0===v?l:v,_=e.appearToClass,m=void 0===_?h:_,y=e.leaveFromClass,b=void 0===y?n+"-leave-from":y,E=e.leaveActiveClass,C=void 0===E?n+"-leave-active":E,S=e.leaveToClass,w=void 0===S?n+"-leave-to":S,x={};for(var T in e)T in DOMTransitionPropsValidators||(x[T]=e[T]);if(!o)return x;var R=normalizeDuration(a),P=R&&R[0],A=R&&R[1],I=x.onBeforeEnter,O=x.onEnter,N=x.onEnterCancelled,k=x.onLeave,M=x.onLeaveCancelled,L=x.onBeforeAppear,F=void 0===L?I:L,D=x.onAppear,$=void 0===D?O:D,j=x.onAppearCancelled,B=void 0===j?N:j,V=function(e,t,n){removeTransitionClass(e,t?m:h),removeTransitionClass(e,t?g:l),n&&n()},H=function(e,t){removeTransitionClass(e,w),removeTransitionClass(e,C),t&&t()},U=function(e){return function(t,n){var i=e?$:O,o=function(){return V(t,e,n)};i&&i(t,o),nextFrame((function(){removeTransitionClass(t,e?p:u),addTransitionClass(t,e?m:h),i&&i.length>1||whenTransitionEnds(t,r,P,o)}))}};return extend(x,{onBeforeEnter:function(e){I&&I(e),addTransitionClass(e,u),addTransitionClass(e,l)},onBeforeAppear:function(e){F&&F(e),addTransitionClass(e,p),addTransitionClass(e,g)},onEnter:U(!1),onAppear:U(!0),onLeave:function(e,t){var n=function(){return H(e,t)};addTransitionClass(e,b),forceReflow(),addTransitionClass(e,C),nextFrame((function(){removeTransitionClass(e,b),addTransitionClass(e,w),k&&k.length>1||whenTransitionEnds(e,r,A,n)})),k&&k(e,n)},onEnterCancelled:function(e){V(e,!1),N&&N(e)},onAppearCancelled:function(e){V(e,!0),B&&B(e)},onLeaveCancelled:function(e){H(e),M&&M(e)}})}function normalizeDuration(e){if(null==e)return null;if(isObject(e))return[NumberOf(e.enter),NumberOf(e.leave)];var t=NumberOf(e);return[t,t]}function NumberOf(e){return toNumber(e)}function addTransitionClass(e,t){t.split(/\s+/).forEach((function(t){return t&&e.classList.add(t)})),(e._vtc||(e._vtc=new Set)).add(t)}function removeTransitionClass(e,t){t.split(/\s+/).forEach((function(t){return t&&e.classList.remove(t)}));var n=e._vtc;n&&(n.delete(t),n.size||(e._vtc=void 0))}function nextFrame(e){requestAnimationFrame((function(){requestAnimationFrame(e)}))}Transition.props=extend({},BaseTransition.props,DOMTransitionPropsValidators);var endId=0;function whenTransitionEnds(e,t,n,r){var i=e._endId=++endId,o=function(){i===e._endId&&r()};if(n)return setTimeout(o,n);var a=getTransitionInfo(e,t),s=a.type,u=a.timeout,c=a.propCount;if(!s)return r();var l=s+"end",f=0,h=function(){e.removeEventListener(l,d),o()},d=function(t){t.target===e&&++f>=c&&h()};setTimeout((function(){f<c&&h()}),u+1),e.addEventListener(l,d)}function getTransitionInfo(e,t){var n=window.getComputedStyle(e),r=function(e){return(n[e]||"").split(", ")},i=r(TRANSITION+"Delay"),o=r(TRANSITION+"Duration"),a=getTimeout(i,o),s=r(ANIMATION+"Delay"),u=r(ANIMATION+"Duration"),c=getTimeout(s,u),l=null,f=0,h=0;return t===TRANSITION?a>0&&(l=TRANSITION,f=a,h=o.length):t===ANIMATION?c>0&&(l=ANIMATION,f=c,h=u.length):h=(l=(f=Math.max(a,c))>0?a>c?TRANSITION:ANIMATION:null)?l===TRANSITION?o.length:u.length:0,{type:l,timeout:f,propCount:h,hasTransform:l===TRANSITION&&/\b(transform|all)(,|$)/.test(n[TRANSITION+"Property"])}}function getTimeout(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(Math,t.map((function(t,n){return toMs(t)+toMs(e[n])})))}function toMs(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function forceReflow(){return document.body.offsetHeight}var getModelAssigner=function(e){var t=e.props["onUpdate:modelValue"];return isArray(t)?function(e){return invokeArrayFns(t,e)}:t};function onCompositionStart(e){e.target.composing=!0}function onCompositionEnd(e){var t=e.target;t.composing&&(t.composing=!1,trigger$1(t,"input"))}function trigger$1(e,t){var n=document.createEvent("HTMLEvents");n.initEvent(t,!0,!0),e.dispatchEvent(n)}var vModelText=exports("D",{created:function(e,t,n){var r=t.modifiers,i=r.lazy,o=r.trim,a=r.number;e._assign=getModelAssigner(n);var s=a||"number"===e.type;addEventListener(e,i?"change":"input",(function(t){if(!t.target.composing){var n=e.value;o?n=n.trim():s&&(n=toNumber(n)),e._assign(n)}})),o&&addEventListener(e,"change",(function(){e.value=e.value.trim()})),i||(addEventListener(e,"compositionstart",onCompositionStart),addEventListener(e,"compositionend",onCompositionEnd),addEventListener(e,"change",onCompositionEnd))},mounted:function(e,t){var n=t.value;e.value=null==n?"":n},beforeUpdate:function(e,t,n){var r=t.value,i=t.modifiers,o=i.trim,a=i.number;if(e._assign=getModelAssigner(n),!e.composing){if(document.activeElement===e){if(o&&e.value.trim()===r)return;if((a||"number"===e.type)&&toNumber(e.value)===r)return}var s=null==r?"":r;e.value!==s&&(e.value=s)}}}),vModelCheckbox=exports("E",{created:function(e,t,n){e._assign=getModelAssigner(n),addEventListener(e,"change",(function(){var t=e._modelValue,n=getValue(e),r=e.checked,i=e._assign;if(isArray(t)){var o=looseIndexOf(t,n),a=-1!==o;if(r&&!a)i(t.concat(n));else if(!r&&a){var s=[].concat(t);s.splice(o,1),i(s)}}else if(isSet(t)){var u=new Set(t);r?u.add(n):u.delete(n),i(u)}else i(getCheckboxValue(e,r))}))},mounted:setChecked,beforeUpdate:function(e,t,n){e._assign=getModelAssigner(n),setChecked(e,t,n)}});function setChecked(e,t,n){var r=t.value,i=t.oldValue;e._modelValue=r,isArray(r)?e.checked=looseIndexOf(r,n.props.value)>-1:isSet(r)?e.checked=r.has(n.props.value):r!==i&&(e.checked=looseEqual(r,getCheckboxValue(e,!0)))}var vModelSelect=exports("C",{created:function(e,t,n){var r=t.value,i=t.modifiers.number,o=isSet(r);addEventListener(e,"change",(function(){var t=Array.prototype.filter.call(e.options,(function(e){return e.selected})).map((function(e){return i?toNumber(getValue(e)):getValue(e)}));e._assign(e.multiple?o?new Set(t):t:t[0])})),e._assign=getModelAssigner(n)},mounted:function(e,t){setSelected(e,t.value)},beforeUpdate:function(e,t,n){e._assign=getModelAssigner(n)},updated:function(e,t){setSelected(e,t.value)}});function setSelected(e,t){var n=e.multiple;if(!n||isArray(t)||isSet(t)){for(var r=0,i=e.options.length;r<i;r++){var o=e.options[r],a=getValue(o);if(n)isArray(t)?o.selected=looseIndexOf(t,a)>-1:o.selected=t.has(a);else if(looseEqual(getValue(o),t))return void(e.selectedIndex=r)}n||(e.selectedIndex=-1)}}function getValue(e){return"_value"in e?e._value:e.value}function getCheckboxValue(e,t){var n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}var systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:function(e){return e.stopPropagation()},prevent:function(e){return e.preventDefault()},self:function(e){return e.target!==e.currentTarget},ctrl:function(e){return!e.ctrlKey},shift:function(e){return!e.shiftKey},alt:function(e){return!e.altKey},meta:function(e){return!e.metaKey},left:function(e){return"button"in e&&0!==e.button},middle:function(e){return"button"in e&&1!==e.button},right:function(e){return"button"in e&&2!==e.button},exact:function(e,t){return systemModifiers.some((function(n){return e[n+"Key"]&&!t.includes(n)}))}},withModifiers=exports("s",(function(e,t){return function(n){for(var r=0;r<t.length;r++){var i=modifierGuards[t[r]];if(i&&i(n,t))return}for(var o=arguments.length,a=new Array(o>1?o-1:0),s=1;s<o;s++)a[s-1]=arguments[s];return e.apply(void 0,[n].concat(a))}})),keyNames={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},withKeys=exports("P",(function(e,t){return function(n){if("key"in n){var r=hyphenate(n.key);if(t.some((function(e){return e===r||keyNames[e]===r})))return e(n)}}})),vShow=exports("M",{beforeMount:function(e,t,n){var r=t.value,i=n.transition;e._vod="none"===e.style.display?"":e.style.display,i&&r?i.beforeEnter(e):setDisplay(e,r)},mounted:function(e,t,n){var r=t.value,i=n.transition;i&&r&&i.enter(e)},updated:function(e,t,n){var r=t.value,i=t.oldValue,o=n.transition;o&&r!==i?r?(o.beforeEnter(e),setDisplay(e,!0),o.enter(e)):o.leave(e,(function(){setDisplay(e,!1)})):setDisplay(e,r)},beforeUnmount:function(e,t){setDisplay(e,t.value)}});function setDisplay(e,t){e.style.display=t?e._vod:"none"}var rendererOptions=extend({patchProp:patchProp,forcePatchProp:forcePatchProp},nodeOps),renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}var createApp=exports("a4",(function(){var e,t=(e=ensureRenderer()).createApp.apply(e,arguments),n=t.mount;return t.mount=function(e){var r=normalizeContainer(e);if(r){var i=t._component;isFunction(i)||i.render||i.template||(i.template=r.innerHTML),r.innerHTML="";var o=n(r);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o}},t}));function normalizeContainer(e){return isString(e)?document.querySelector(e):e}var isBrowser=function(){return"undefined"!=typeof document&&"undefined"!=typeof window},loadScript=function(e,t){return new Promise((function(n,r){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("script");if(o.async=!0,o.src=e,o.charset="utf-8",t){var a=document.createElement("link");a.href=t,a.rel="preconnect",i.appendChild(a)}i.appendChild(o),o.onload=n,o.onerror=r}))},merge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(t).forEach((function(n){e[n]=t[n]}))},state=reactive({property:null,isEnabled:!0,disableScriptLoader:!1,useDebugger:!1,globalObjectName:"gtag",dataLayerName:"dataLayer",resourceURL:"https://www.googletagmanager.com/gtag/js",preconnectOrigin:"https://www.googletagmanager.com",customResource:null,appName:null,appId:null,appVersion:null}),useState=function(){return toRefs(state)},defaultProperty=computed$1((function(){var e=useState().property;if(e.value)return Array.isArray(e.value)?e.value.find((function(e){return!0===e.default}))||e.value[0]:e.value})),hasId=computed$1((function(){var e=useState().property;return Boolean(e.value&&null!==e.value.id)})),allProperties=computed$1((function(){var e=useState().property;return Array.isArray(e.value)?e.value:[e.value]})),isTracking=computed$1((function(){var e=useState().isEnabled,t=defaultProperty.value;return Boolean(t&&t.id&&e.value)})),query=function(){var e;if(isBrowser()){for(var t=useState(),n=t.globalObjectName,r=t.useDebugger,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];r.value&&console.warn("[vue-gtag] Debugger:",o),(e=window)[n.value].apply(e,o)}},config=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];allProperties.value.forEach((function(e){query.apply(void 0,["config",e.id].concat(t))}))},customMap=function(e){config({custom_map:e})},disable=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];isBrowser()&&allProperties.value.forEach((function(t){window["ga-disable-".concat(t.id)]=e}))},event=exports("g",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign({},t);!n.send_to&&allProperties.value.length>1&&(n.send_to=allProperties.value.map((function(e){return e.id}))),query("event",e,n)})),exception=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];event.apply(void 0,["exception"].concat(t))},linker=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];config.apply(void 0,["linker"].concat(t))},pageview=function(e){var t={};void 0===(t="string"==typeof e?{page_path:e,page_location:window.location.href}:e).send_page_view&&(t.send_page_view=!0),event("page_view",t)},purchase=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];event.apply(void 0,["purchase"].concat(t))},refund=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];event.apply(void 0,["refund"].concat(t))},screenview=function(){for(var e=useState(),t=e.appName,n=e.appId,r=e.appVersion,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];var s=o[0],u={};null==(u="string"==typeof s?{screen_name:s}:s).app_name&&null!=t.value&&(u.app_name=t.value),null==u.app_id&&null!=n.value&&(u.app_id=n.value),null==u.app_version&&null!=r.value&&(u.app_version=r.value),event("screen_view",u)},set$2=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];query.apply(void 0,["set"].concat(t))},time=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];event.apply(void 0,["timing_complete"].concat(t))},api=Object.freeze({__proto__:null,config:config,customMap:customMap,disable:disable,event:event,exception:exception,linker:linker,pageview:pageview,purchase:purchase,query:query,refund:refund,screenview:screenview,set:set$2,time:time}),isReady=ref(!1),isBootstrapped=ref(!1),bootstrap=function(){var e=useState(),t=e.disableScriptLoader,n=e.preconnectOrigin,r=e.resourceURL,i=e.dataLayerName;if(isBrowser()&&hasId.value&&!isBootstrapped.value)if(isBootstrapped.value=!0,allProperties.value.forEach((function(e){var t=Object.assign({send_page_view:!1},e.params);query("config",e.id,t)})),t.value)isReady.value=!0;else{var o="".concat(r.value,"?id=").concat(defaultProperty.value.id,"&l=").concat(i.value);loadScript(o,n.value).then((function(){isReady.value=!0}))}},useBootstrapWatcher=function(){watch((function(){return isTracking.value}),(function(e){return e&&bootstrap()}),{immediate:!0})},registerGlobalObject=function(){if(isBrowser()){var e=useState(),t=e.globalObjectName,n=e.dataLayerName;null==window[t.value]&&(window[n.value]=window[n.value]||[],window[t.value]=function(){window[n.value].push(arguments)}),window[t.value]("js",new Date)}},useGtag=exports("u",(function(){return api})),routerState=reactive({template:null,useScreenview:!1,skipSamePath:!0}),useRouterState=function(){return toRefs(routerState)},getTemplate=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=useRouterState(),r=n.template,i=n.useScreenview,o=r.value?r.value(e,t):null;return o||(i.value?{screen_name:e.name}:{page_title:e.name,page_path:e.path,page_location:window.location.href})},trackPage=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=useRouterState(),r=n.useScreenview,i=n.skipSamePath;if(!i.value||e.path!==t.path){var o=getTemplate(e,t);r.value?screenview(o):pageview(o)}},trackRouter=exports("a3",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};merge(routerState,t),watch((function(){return isTracking.value}),(function(t){t&&e.isReady().then((function(){nextTick((function(){trackPage(e.currentRoute.value)})),e.afterEach((function(e,t){nextTick((function(){trackPage(e,t)}))}))}))}),{immediate:!0})})),index=exports("a5",{install:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};merge(state,t),registerGlobalObject(),useBootstrapWatcher(),e.config.globalProperties.$gtag=api}}),hasSymbol="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,PolySymbol=function(e){return hasSymbol?Symbol(e):"_vr_"+e},matchedRouteKey=PolySymbol("rvlm"),viewDepthKey=PolySymbol("rvd"),routerKey=PolySymbol("r"),routeLocationKey=PolySymbol("rl"),routerViewLocationKey=PolySymbol("rvl"),isBrowser$1="undefined"!=typeof window;function isESModule(e){return e.__esModule||hasSymbol&&"Module"===e[Symbol.toStringTag]}var assign=Object.assign;function applyToParams(e,t){var n={};for(var r in t){var i=t[r];n[r]=Array.isArray(i)?i.map(e):e(i)}return n}var noop=function(){},TRAILING_SLASH_RE=/\/$/,removeTrailingSlash=function(e){return e.replace(TRAILING_SLASH_RE,"")},NavigationType,NavigationDirection;function parseURL(e,t,n){void 0===n&&(n="/");var r,i={},o="",a="",s=t.indexOf("?"),u=t.indexOf("#",s>-1?s:0);return s>-1&&(r=t.slice(0,s),i=e(o=t.slice(s+1,u>-1?u:t.length))),u>-1&&(r=r||t.slice(0,u),a=t.slice(u,t.length)),{fullPath:(r=resolveRelativePath(null!=r?r:t,n))+(o&&"?")+o+a,path:r,query:i,hash:a}}function stringifyURL(e,t){var n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function stripBase(e,t){return!t||e.toLowerCase().indexOf(t.toLowerCase())?e:e.slice(t.length)||"/"}function isSameRouteLocation(e,t,n){var r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&isSameRouteRecord(t.matched[r],n.matched[i])&&isSameRouteLocationParams(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function isSameRouteRecord(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function isSameRouteLocationParams(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(!isSameRouteLocationParamsValue(e[n],t[n]))return!1;return!0}function isSameRouteLocationParamsValue(e,t){return Array.isArray(e)?isEquivalentArray(e,t):Array.isArray(t)?isEquivalentArray(t,e):e===t}function isEquivalentArray(e,t){return Array.isArray(t)?e.length===t.length&&e.every((function(e,n){return e===t[n]})):1===e.length&&e[0]===t}function resolveRelativePath(e,t){if(e.startsWith("/"))return e;if(!e)return t;var n,r,i=t.split("/"),o=e.split("/"),a=i.length-1;for(n=0;n<o.length;n++)if(r=o[n],1!==a&&"."!==r){if(".."!==r)break;a--}return i.slice(0,a).join("/")+"/"+o.slice(n-(n===o.length?1:0)).join("/")}function normalizeBase(e){if(!e)if(isBrowser$1){var t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),removeTrailingSlash(e)}!function(e){e.pop="pop",e.push="push"}(NavigationType||(NavigationType={})),function(e){e.back="back",e.forward="forward",e.unknown=""}(NavigationDirection||(NavigationDirection={}));var BEFORE_HASH_RE=/^[^#]+#/;function createHref(e,t){return e.replace(BEFORE_HASH_RE,"#")+t}function getElementPosition(e,t){var n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}var computeScrollPosition=function(){return{left:window.pageXOffset,top:window.pageYOffset}};function scrollToPosition(e){var t;if("el"in e){var n=e.el,r="string"==typeof n&&n.startsWith("#"),i="string"==typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=getElementPosition(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.pageXOffset,null!=t.top?t.top:window.pageYOffset)}function getScrollKey(e,t){return(history.state?history.state.position-t:-1)+e}var scrollPositions=new Map;function saveScrollPosition(e,t){scrollPositions.set(e,t)}function getSavedScrollPosition(e){var t=scrollPositions.get(e);return scrollPositions.delete(e),t}var createBaseLocation=function(){return location.protocol+"//"+location.host};function createCurrentLocation(e,t){var n=t.pathname,r=t.search,i=t.hash;if(e.indexOf("#")>-1){var o=i.slice(1);return"/"!==o[0]&&(o="/"+o),stripBase(o,"")}return stripBase(n,e)+r+i}function useHistoryListeners(e,t,n,r){var i=[],o=[],a=null,s=function(o){var s=o.state,u=createCurrentLocation(e,location),c=n.value,l=t.value,f=0;if(s){if(n.value=u,t.value=s,a&&a===c)return void(a=null);f=l?s.position-l.position:0}else r(u);i.forEach((function(e){e(n.value,c,{delta:f,type:NavigationType.pop,direction:f?f>0?NavigationDirection.forward:NavigationDirection.back:NavigationDirection.unknown})}))};function u(){var e=window.history;e.state&&e.replaceState(assign({},e.state,{scroll:computeScrollPosition()}),"")}return window.addEventListener("popstate",s),window.addEventListener("beforeunload",u),{pauseListeners:function(){a=n.value},listen:function(e){i.push(e);var t=function(){var t=i.indexOf(e);t>-1&&i.splice(t,1)};return o.push(t),t},destroy:function(){for(var e,t=_createForOfIteratorHelperLoose(o);!(e=t()).done;){(0,e.value)()}o=[],window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",u)}}}function buildState(e,t,n,r,i){return void 0===r&&(r=!1),void 0===i&&(i=!1),{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?computeScrollPosition():null}}function useHistoryStateNavigation(e){var t=window,n=t.history,r=t.location,i={value:createCurrentLocation(e,r)},o={value:n.state};function a(t,i,a){var s=e.indexOf("#"),u=s>-1?(r.host&&document.querySelector("base")?e:e.slice(s))+t:createBaseLocation()+e+t;try{n[a?"replaceState":"pushState"](i,"",u),o.value=i}catch(c){console.error(c),r[a?"replace":"assign"](u)}}return o.value||a(i.value,{back:null,current:i.value,forward:null,position:n.length-1,replaced:!0,scroll:null},!0),{location:i,state:o,push:function(e,t){var r=assign({},o.value,n.state,{forward:e,scroll:computeScrollPosition()});a(r.current,r,!0),a(e,assign({},buildState(i.value,e,null),{position:r.position+1},t),!1),i.value=e},replace:function(e,t){a(e,assign({},n.state,buildState(o.value.back,e,o.value.forward,!0),t,{position:o.value.position}),!0),i.value=e}}}function createWebHistory(e){var t=useHistoryStateNavigation(e=normalizeBase(e)),n=useHistoryListeners(e,t.state,t.location,t.replace);var r=assign({location:"",base:e,go:function(e,t){void 0===t&&(t=!0),t||n.pauseListeners(),history.go(e)},createHref:createHref.bind(null,e)},t,n);return Object.defineProperty(r,"location",{get:function(){return t.location.value}}),Object.defineProperty(r,"state",{get:function(){return t.state.value}}),r}function isRouteLocation(e){return"string"==typeof e||e&&"object"==typeof e}function isRouteName(e){return"string"==typeof e||"symbol"==typeof e}var START_LOCATION_NORMALIZED={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},NavigationFailureSymbol=PolySymbol("nf"),NavigationFailureType;function createRouterError(e,t){var n;return assign(new Error,((n={type:e})[NavigationFailureSymbol]=!0,n),t)}function isNavigationFailure(e,t){return e instanceof Error&&NavigationFailureSymbol in e&&(null==t||!!(e.type&t))}!function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"}(NavigationFailureType||(NavigationFailureType={}));var BASE_PARAM_PATTERN="[^/]+?",BASE_PATH_PARSER_OPTIONS={sensitive:!1,strict:!1,start:!0,end:!0},REGEX_CHARS_RE=/[.+*?^${}()[\]/\\]/g;function tokensToParser(e,t){for(var n,r=assign({},BASE_PATH_PARSER_OPTIONS,t),i=[],o=r.start?"^":"",a=[],s=_createForOfIteratorHelperLoose(e);!(n=s()).done;){var u=n.value,c=u.length?[]:[90];r.strict&&!u.length&&(o+="/");for(var l=0;l<u.length;l++){var f=u[l],h=40+(r.sensitive?.25:0);if(0===f.type)l||(o+="/"),o+=f.value.replace(REGEX_CHARS_RE,"\\$&"),h+=40;else if(1===f.type){var d=f.value,p=f.repeatable,v=f.optional,g=f.regexp;a.push({name:d,repeatable:p,optional:v});var _=g||BASE_PARAM_PATTERN;if(_!==BASE_PARAM_PATTERN){h+=10;try{new RegExp("("+_+")")}catch(E){throw new Error('Invalid custom RegExp for param "'+d+'" ('+_+"): "+E.message)}}var m=p?"((?:"+_+")(?:/(?:"+_+"))*)":"("+_+")";l||(m=v&&u.length<2?"(?:/"+m+")":"/"+m),v&&(m+="?"),o+=m,h+=20,v&&(h+=-8),p&&(h+=-20),".*"===_&&(h+=-50)}c.push(h)}i.push(c)}if(r.strict&&r.end){var y=i.length-1;i[y][i[y].length-1]+=.7000000000000001}r.strict||(o+="/?"),r.end?o+="$":r.strict&&(o+="(?:/|$)");var b=new RegExp(o,r.sensitive?"":"i");return{re:b,score:i,keys:a,parse:function(e){var t=e.match(b),n={};if(!t)return null;for(var r=1;r<t.length;r++){var i=t[r]||"",o=a[r-1];n[o.name]=i&&o.repeatable?i.split("/"):i}return n},stringify:function(t){for(var n,r="",i=!1,o=_createForOfIteratorHelperLoose(e);!(n=o()).done;){var a=n.value;i&&r.endsWith("/")||(r+="/"),i=!1;for(var s,u=_createForOfIteratorHelperLoose(a);!(s=u()).done;){var c=s.value;if(0===c.type)r+=c.value;else if(1===c.type){var l=c.value,f=c.repeatable,h=c.optional,d=l in t?t[l]:"";if(Array.isArray(d)&&!f)throw new Error('Provided param "'+l+'" is an array but it is not repeatable (* or + modifiers)');var p=Array.isArray(d)?d.join("/"):d;if(!p){if(!h)throw new Error('Missing required param "'+l+'"');a.length<2&&(r.endsWith("/")?r=r.slice(0,-1):i=!0)}r+=p}}}return r}}}function compareScoreArray(e,t){for(var n=0;n<e.length&&n<t.length;){var r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function comparePathParserScore(e,t){for(var n=0,r=e.score,i=t.score;n<r.length&&n<i.length;){var o=compareScoreArray(r[n],i[n]);if(o)return o;n++}return i.length-r.length}var ROOT_TOKEN={type:0,value:""},VALID_PARAM_RE=/[a-zA-Z0-9_]/;function tokenizePath(e){if(!e)return[[]];if("/"===e)return[[ROOT_TOKEN]];if(!e.startsWith("/"))throw new Error('Invalid path "'+e+'"');function t(e){throw new Error("ERR ("+r+')/"'+c+'": '+e)}var n,r=0,i=r,o=[];function a(){n&&o.push(n),n=[]}var s,u=0,c="",l="";function f(){c&&(0===r?n.push({type:0,value:c}):1===r||2===r||3===r?(n.length>1&&("*"===s||"+"===s)&&t("A repeatable param ("+c+") must be alone in its segment. eg: '/:ids+."),n.push({type:1,value:c,regexp:l,repeatable:"*"===s||"+"===s,optional:"*"===s||"?"===s})):t("Invalid state to consume buffer"),c="")}function h(){c+=s}for(;u<e.length;)if("\\"!==(s=e[u++])||2===r)switch(r){case 0:"/"===s?(c&&f(),a()):":"===s?(f(),r=1):h();break;case 4:h(),r=i;break;case 1:"("===s?r=2:VALID_PARAM_RE.test(s)?h():(f(),r=0,"*"!==s&&"?"!==s&&"+"!==s&&u--);break;case 2:")"===s?"\\"==l[l.length-1]?l=l.slice(0,-1)+s:r=3:l+=s;break;case 3:f(),r=0,"*"!==s&&"?"!==s&&"+"!==s&&u--,l="";break;default:t("Unknown state")}else i=r,r=4;return 2===r&&t('Unfinished custom RegExp for param "'+c+'"'),f(),a(),o}function createRouteRecordMatcher(e,t,n){var r=tokensToParser(tokenizePath(e.path),n),i=assign(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function createRouterMatcher(e,t){var n=[],r=new Map;function i(e,n,r){var s=!r,u=normalizeRouteRecord(e);u.aliasOf=r&&r.record;var c,l,f=mergeOptions$1(t,e),h=[u];if("alias"in e)for(var d,p=_createForOfIteratorHelperLoose("string"==typeof e.alias?[e.alias]:e.alias);!(d=p()).done;){var v=d.value;h.push(assign({},u,{components:r?r.record.components:u.components,path:v,aliasOf:r?r.record:u}))}for(var g=0,_=h;g<_.length;g++){var m=_[g],y=m.path;if(n&&"/"!==y[0]){var b=n.record.path,E="/"===b[b.length-1]?"":"/";m.path=n.record.path+(y&&E+y)}if(c=createRouteRecordMatcher(m,n,f),r?r.alias.push(c):((l=l||c)!==c&&l.alias.push(c),s&&e.name&&!isAliasRecord(c)&&o(e.name)),"children"in u)for(var C=u.children,S=0;S<C.length;S++)i(C[S],c,r&&r.children[S]);r=r||c,a(c)}return l?function(){o(l)}:noop}function o(e){if(isRouteName(e)){var t=r.get(e);t&&(r.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(o),t.alias.forEach(o))}else{var i=n.indexOf(e);i>-1&&(n.splice(i,1),e.record.name&&r.delete(e.record.name),e.children.forEach(o),e.alias.forEach(o))}}function a(e){for(var t=0;t<n.length&&comparePathParserScore(e,n[t])>=0;)t++;n.splice(t,0,e),e.record.name&&!isAliasRecord(e)&&r.set(e.record.name,e)}return t=mergeOptions$1({strict:!1,end:!0,sensitive:!1},t),e.forEach((function(e){return i(e)})),{addRoute:i,resolve:function(e,t){var i,o,a,s={};if("name"in e&&e.name){if(!(i=r.get(e.name)))throw createRouterError(1,{location:e});a=i.record.name,s=assign(paramsFromLocation(t.params,i.keys.filter((function(e){return!e.optional})).map((function(e){return e.name}))),e.params),o=i.stringify(s)}else if("path"in e)o=e.path,(i=n.find((function(e){return e.re.test(o)})))&&(s=i.parse(o),a=i.record.name);else{if(!(i=t.name?r.get(t.name):n.find((function(e){return e.re.test(t.path)}))))throw createRouterError(1,{location:e,currentLocation:t});a=i.record.name,s=assign({},t.params,e.params),o=i.stringify(s)}for(var u=[],c=i;c;)u.unshift(c.record),c=c.parent;return{name:a,path:o,params:s,matched:u,meta:mergeMetaFields(u)}},removeRoute:o,getRoutes:function(){return n},getRecordMatcher:function(e){return r.get(e)}}}function paramsFromLocation(e,t){for(var n,r={},i=_createForOfIteratorHelperLoose(t);!(n=i()).done;){var o=n.value;o in e&&(r[o]=e[o])}return r}function normalizeRouteRecord(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:normalizeRecordProps(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||{}:{default:e.component}}}function normalizeRecordProps(e){var t={},n=e.props||!1;if("component"in e)t.default=n;else for(var r in e.components)t[r]="boolean"==typeof n?n:n[r];return t}function isAliasRecord(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function mergeMetaFields(e){return e.reduce((function(e,t){return assign(e,t.meta)}),{})}function mergeOptions$1(e,t){var n={};for(var r in e)n[r]=r in t?t[r]:e[r];return n}var HASH_RE=/#/g,AMPERSAND_RE=/&/g,SLASH_RE=/\//g,EQUAL_RE=/=/g,IM_RE=/\?/g,PLUS_RE=/\+/g,ENC_BRACKET_OPEN_RE=/%5B/g,ENC_BRACKET_CLOSE_RE=/%5D/g,ENC_CARET_RE=/%5E/g,ENC_BACKTICK_RE=/%60/g,ENC_CURLY_OPEN_RE=/%7B/g,ENC_PIPE_RE=/%7C/g,ENC_CURLY_CLOSE_RE=/%7D/g,ENC_SPACE_RE=/%20/g;function commonEncode(e){return encodeURI(""+e).replace(ENC_PIPE_RE,"|").replace(ENC_BRACKET_OPEN_RE,"[").replace(ENC_BRACKET_CLOSE_RE,"]")}function encodeHash(e){return commonEncode(e).replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryValue(e){return commonEncode(e).replace(PLUS_RE,"%2B").replace(ENC_SPACE_RE,"+").replace(HASH_RE,"%23").replace(AMPERSAND_RE,"%26").replace(ENC_BACKTICK_RE,"`").replace(ENC_CURLY_OPEN_RE,"{").replace(ENC_CURLY_CLOSE_RE,"}").replace(ENC_CARET_RE,"^")}function encodeQueryKey(e){return encodeQueryValue(e).replace(EQUAL_RE,"%3D")}function encodePath(e){return commonEncode(e).replace(HASH_RE,"%23").replace(IM_RE,"%3F")}function encodeParam(e){return encodePath(e).replace(SLASH_RE,"%2F")}function decode(e){try{return decodeURIComponent(""+e)}catch(t){}return""+e}function parseQuery(e){var t={};if(""===e||"?"===e)return t;for(var n=("?"===e[0]?e.slice(1):e).split("&"),r=0;r<n.length;++r){var i=n[r].replace(PLUS_RE," "),o=i.indexOf("="),a=decode(o<0?i:i.slice(0,o)),s=o<0?null:decode(i.slice(o+1));if(a in t){var u=t[a];Array.isArray(u)||(u=t[a]=[u]),u.push(s)}else t[a]=s}return t}function stringifyQuery(e){var t="";for(var n in e){t.length&&(t+="&");var r=e[n];if(n=encodeQueryKey(n),null!=r)for(var i=Array.isArray(r)?r.map((function(e){return e&&encodeQueryValue(e)})):[r&&encodeQueryValue(r)],o=0;o<i.length;o++)t+=(o?"&":"")+n,null!=i[o]&&(t+="="+i[o]);else void 0!==r&&(t+=n)}return t}function normalizeQuery(e){var t={};for(var n in e){var r=e[n];void 0!==r&&(t[n]=Array.isArray(r)?r.map((function(e){return null==e?null:""+e})):null==r?r:""+r)}return t}function useCallbacks(){var e=[];return{add:function(t){return e.push(t),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}},list:function(){return e},reset:function(){e=[]}}}function guardToPromiseFn(e,t,n,r,i){var o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return function(){return new Promise((function(a,s){var u=function(e){!1===e?s(createRouterError(4,{from:n,to:t})):e instanceof Error?s(e):isRouteLocation(e)?s(createRouterError(2,{from:t,to:e})):(o&&r.enterCallbacks[i]===o&&"function"==typeof e&&o.push(e),a())},c=e.call(r&&r.instances[i],t,n,u),l=Promise.resolve(c);e.length<3&&(l=l.then(u)),l.catch((function(e){return s(e)}))}))}}function extractComponentsGuards(e,t,n,r){for(var i,o=[],a=function(){var e=i.value,a=function(i){var a=e.components[i];if("beforeRouteEnter"!==t&&!e.instances[i])return"continue";if(isRouteComponent(a)){var s=(a.__vccOpts||a)[t];s&&o.push(guardToPromiseFn(s,n,r,e,i))}else{var u=a();u=u.catch(console.error),o.push((function(){return u.then((function(o){if(!o)return Promise.reject(new Error("Couldn't resolve component \""+i+'" at "'+e.path+'"'));var a=isESModule(o)?o.default:o;e.components[i]=a;var s=(a.__vccOpts||a)[t];return s&&guardToPromiseFn(s,n,r,e,i)()}))}))}};for(var s in e.components)a(s)},s=_createForOfIteratorHelperLoose(e);!(i=s()).done;)a();return o}function isRouteComponent(e){return"object"==typeof e||"displayName"in e||"props"in e||"__vccOpts"in e}function useLink(e){var t=inject(routerKey),n=inject(routeLocationKey),r=computed$1((function(){return t.resolve(unref(e.to))})),i=computed$1((function(){var e=r.value.matched,t=e.length,i=e[t-1],o=n.matched;if(!i||!o.length)return-1;var a=o.findIndex(isSameRouteRecord.bind(null,i));if(a>-1)return a;var s=getOriginalPath(e[t-2]);return t>1&&getOriginalPath(i)===s&&o[o.length-1].path!==s?o.findIndex(isSameRouteRecord.bind(null,e[t-2])):a})),o=computed$1((function(){return i.value>-1&&includesParams(n.params,r.value.params)})),a=computed$1((function(){return i.value>-1&&i.value===n.matched.length-1&&isSameRouteLocationParams(n.params,r.value.params)}));return{route:r,href:computed$1((function(){return r.value.href})),isActive:o,isExactActive:a,navigate:function(n){return void 0===n&&(n={}),guardEvent(n)?t[unref(e.replace)?"replace":"push"](unref(e.to)):Promise.resolve()}}}var RouterLinkImpl=defineComponent({name:"RouterLink",props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},setup:function(e,t){var n=t.slots,r=t.attrs,i=reactive(useLink(e)),o=inject(routerKey).options,a=computed$1((function(){var t;return(t={})[getLinkClass(e.activeClass,o.linkActiveClass,"router-link-active")]=i.isActive,t[getLinkClass(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]=i.isExactActive,t}));return function(){var t=n.default&&n.default(i);return e.custom?t:h("a",assign({"aria-current":i.isExactActive?e.ariaCurrentValue:null,onClick:i.navigate,href:i.href},r,{class:a.value}),t)}}}),RouterLink=RouterLinkImpl;function guardEvent(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey||e.defaultPrevented||void 0!==e.button&&0!==e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){var t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function includesParams(e,t){var n=function(n){var r=t[n],i=e[n];if("string"==typeof r){if(r!==i)return{v:!1}}else if(!Array.isArray(i)||i.length!==r.length||r.some((function(e,t){return e!==i[t]})))return{v:!1}};for(var r in t){var i=n(r);if("object"==typeof i)return i.v}return!0}function getOriginalPath(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}var getLinkClass=function(e,t,n){return null!=e?e:null!=t?t:n},RouterViewImpl=defineComponent({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},setup:function(e,t){var n=t.attrs,r=t.slots,i=inject(routerViewLocationKey),o=computed$1((function(){return e.route||i.value})),a=inject(viewDepthKey,0),s=computed$1((function(){return o.value.matched[a]}));provide(viewDepthKey,a+1),provide(matchedRouteKey,s),provide(routerViewLocationKey,o);var u=ref();return watch((function(){return[u.value,s.value,e.name]}),(function(e,t){var n=e[0],r=e[1],i=e[2],o=t[0],a=t[1];t[2];r&&(r.instances[i]=n,a&&a!==r&&n&&n===o&&(r.leaveGuards=a.leaveGuards,r.updateGuards=a.updateGuards)),!n||!r||a&&isSameRouteRecord(r,a)&&o||(r.enterCallbacks[i]||[]).forEach((function(e){return e(n)}))}),{flush:"post"}),function(){var t=o.value,i=s.value,a=i&&i.components[e.name],c=e.name;if(!a)return normalizeSlot$1(r.default,{Component:a,route:t});var l=i.props[e.name],f=l?!0===l?t.params:"function"==typeof l?l(t):l:null,d=h(a,assign({},f,n,{onVnodeUnmounted:function(e){e.component.isUnmounted&&(i.instances[c]=null)},ref:u}));return normalizeSlot$1(r.default,{Component:d,route:t})||d}}});function normalizeSlot$1(e,t){if(!e)return null;var n=e(t);return 1===n.length?n[0]:n}var RouterView=RouterViewImpl;function createRouter(e){var t=createRouterMatcher(e.routes,e),n=e.parseQuery||parseQuery,r=e.stringifyQuery||stringifyQuery,i=e.history,o=useCallbacks(),a=useCallbacks(),s=useCallbacks(),u=shallowRef(START_LOCATION_NORMALIZED),c=START_LOCATION_NORMALIZED;isBrowser$1&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");var l,f=applyToParams.bind(null,(function(e){return""+e})),h=applyToParams.bind(null,encodeParam),d=applyToParams.bind(null,decode);function p(e,o){if(o=assign({},o||u.value),"string"==typeof e){var a=parseURL(n,e,o.path),s=t.resolve({path:a.path},o),c=i.createHref(a.fullPath);return assign(a,s,{params:d(s.params),hash:decode(a.hash),redirectedFrom:void 0,href:c})}var l;"path"in e?l=assign({},e,{path:parseURL(n,e.path,o.path).path}):(l=assign({},e,{params:h(e.params)}),o.params=h(o.params));var p=t.resolve(l,o),v=e.hash||"";p.params=f(d(p.params));var g=stringifyURL(r,assign({},e,{hash:encodeHash(v),path:p.path})),_=i.createHref(g);return assign({fullPath:g,hash:v,query:r===stringifyQuery?normalizeQuery(e.query):e.query},p,{redirectedFrom:void 0,href:_})}function v(e){return"string"==typeof e?parseURL(n,e,u.value.path):assign({},e)}function g(e,t){if(c!==e)return createRouterError(8,{from:t,to:e})}function _(e){return y(e)}function m(e){var t=e.matched[e.matched.length-1];if(t&&t.redirect){var n=t.redirect,r="function"==typeof n?n(e):n;return"string"==typeof r&&(r=r.indexOf("?")>-1||r.indexOf("#")>-1?r=v(r):{path:r}),assign({query:e.query,hash:e.hash,params:e.params},r)}}function y(e,t){var n=c=p(e),i=u.value,o=e.state,a=e.force,s=!0===e.replace,l=m(n);if(l)return y(assign(v(l),{state:o,force:a,replace:s}),t||n);var f,h=n;return h.redirectedFrom=t,!a&&isSameRouteLocation(r,i,n)&&(f=createRouterError(16,{to:h,from:i}),A(i,i,!0,!1)),(f?Promise.resolve(f):E(h,i)).catch((function(e){return isNavigationFailure(e)?e:R(e)})).then((function(e){if(e){if(isNavigationFailure(e,2))return y(assign(v(e.to),{state:o,force:a,replace:s}),t||h)}else e=S(h,i,!0,s,o);return C(h,i,e),e}))}function b(e,t){var n=g(e,t);return n?Promise.reject(n):Promise.resolve()}function E(e,t){var n,r=extractChangingRecords(e,t),i=r[0],s=r[1],u=r[2];n=extractComponentsGuards(i.reverse(),"beforeRouteLeave",e,t);for(var c,l=_createForOfIteratorHelperLoose(i);!(c=l()).done;){c.value.leaveGuards.forEach((function(r){n.push(guardToPromiseFn(r,e,t))}))}var f=b.bind(null,e,t);return n.push(f),runGuardQueue(n).then((function(){n=[];for(var r,i=_createForOfIteratorHelperLoose(o.list());!(r=i()).done;){var a=r.value;n.push(guardToPromiseFn(a,e,t))}return n.push(f),runGuardQueue(n)})).then((function(){n=extractComponentsGuards(s,"beforeRouteUpdate",e,t);for(var r,i=_createForOfIteratorHelperLoose(s);!(r=i()).done;){r.value.updateGuards.forEach((function(r){n.push(guardToPromiseFn(r,e,t))}))}return n.push(f),runGuardQueue(n)})).then((function(){n=[];for(var r,i=_createForOfIteratorHelperLoose(e.matched);!(r=i()).done;){var o=r.value;if(o.beforeEnter&&t.matched.indexOf(o)<0)if(Array.isArray(o.beforeEnter))for(var a,s=_createForOfIteratorHelperLoose(o.beforeEnter);!(a=s()).done;){var u=a.value;n.push(guardToPromiseFn(u,e,t))}else n.push(guardToPromiseFn(o.beforeEnter,e,t))}return n.push(f),runGuardQueue(n)})).then((function(){return e.matched.forEach((function(e){return e.enterCallbacks={}})),(n=extractComponentsGuards(u,"beforeRouteEnter",e,t)).push(f),runGuardQueue(n)})).then((function(){n=[];for(var r,i=_createForOfIteratorHelperLoose(a.list());!(r=i()).done;){var o=r.value;n.push(guardToPromiseFn(o,e,t))}return n.push(f),runGuardQueue(n)})).catch((function(e){return isNavigationFailure(e,8)?e:Promise.reject(e)}))}function C(e,t,n){for(var r,i=_createForOfIteratorHelperLoose(s.list());!(r=i()).done;){(0,r.value)(e,t,n)}}function S(e,t,n,r,o){var a=g(e,t);if(a)return a;var s=t===START_LOCATION_NORMALIZED,c=isBrowser$1?history.state:{};n&&(r||s?i.replace(e.fullPath,assign({scroll:s&&c&&c.scroll},o)):i.push(e.fullPath,o)),u.value=e,A(e,t,n,s),P()}var w,x=useCallbacks(),T=useCallbacks();function R(e){return P(e),T.list().forEach((function(t){return t(e)})),Promise.reject(e)}function P(e){w||(w=!0,l=i.listen((function(e,t,n){var r=p(e),o=m(r);if(o)y(assign(o,{replace:!0}),r).catch(noop);else{c=r;var a=u.value;isBrowser$1&&saveScrollPosition(getScrollKey(a.fullPath,n.delta),computeScrollPosition()),E(r,a).catch((function(e){return isNavigationFailure(e,12)?e:isNavigationFailure(e,2)?(y(e.to,r).catch(noop),Promise.reject()):(n.delta&&i.go(-n.delta,!1),R(e))})).then((function(e){(e=e||S(r,a,!1))&&n.delta&&i.go(-n.delta,!1),C(r,a,e)})).catch(noop)}})),x.list().forEach((function(t){var n=t[0],r=t[1];return e?r(e):n()})),x.reset())}function A(t,n,r,i){var o=e.scrollBehavior;if(!isBrowser$1||!o)return Promise.resolve();var a=!r&&getSavedScrollPosition(getScrollKey(t.fullPath,0))||(i||!r)&&history.state&&history.state.scroll||null;return nextTick().then((function(){return o(t,n,a)})).then((function(e){return e&&scrollToPosition(e)})).catch(R)}var I,O=function(e){return i.go(e)},N=new Set;return{currentRoute:u,addRoute:function(e,n){var r,i;return isRouteName(e)?(r=t.getRecordMatcher(e),i=n):i=e,t.addRoute(i,r)},removeRoute:function(e){var n=t.getRecordMatcher(e);n&&t.removeRoute(n)},hasRoute:function(e){return!!t.getRecordMatcher(e)},getRoutes:function(){return t.getRoutes().map((function(e){return e.record}))},resolve:p,options:e,push:_,replace:function(e){return _(assign(v(e),{replace:!0}))},go:O,back:function(){return O(-1)},forward:function(){return O(1)},beforeEach:o.add,beforeResolve:a.add,afterEach:s.add,onError:T.add,isReady:function(){return w&&u.value!==START_LOCATION_NORMALIZED?Promise.resolve():new Promise((function(e,t){x.add([e,t])}))},install:function(e){e.component("RouterLink",RouterLink),e.component("RouterView",RouterView),e.config.globalProperties.$router=this,Object.defineProperty(e.config.globalProperties,"$route",{get:function(){return unref(u)}}),isBrowser$1&&!I&&u.value===START_LOCATION_NORMALIZED&&(I=!0,_(i.location).catch((function(e){})));var t={},n=function(e){t[e]=computed$1((function(){return u.value[e]}))};for(var r in START_LOCATION_NORMALIZED)n(r);e.provide(routerKey,this),e.provide(routeLocationKey,reactive(t)),e.provide(routerViewLocationKey,u);var o=e.unmount;N.add(e),e.unmount=function(){N.delete(e),N.size<1&&(l(),u.value=START_LOCATION_NORMALIZED,I=!1,w=!1),o.call(this,arguments)}}}}function runGuardQueue(e){return e.reduce((function(e,t){return e.then((function(){return t()}))}),Promise.resolve())}function extractChangingRecords(e,t){for(var n=[],r=[],i=[],o=Math.max(t.matched.length,e.matched.length),a=0;a<o;a++){var s=t.matched[a];s&&(e.matched.indexOf(s)<0?n.push(s):r.push(s));var u=e.matched[a];u&&t.matched.indexOf(u)<0&&i.push(u)}return[n,r,i]}function useRouter(){return inject(routerKey)}function useRoute(){return inject(routeLocationKey)}var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function createCommonjsModule(e){var t={exports:{}};return e(t,t.exports),t.exports
/**
             * @license
             * Lodash <https://lodash.com/>
             * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
             * Released under MIT license <https://lodash.com/license>
             * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
             * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
             */}var lodash=exports("z",createCommonjsModule((function(e,t){(function(){var n,r="Expected a function",i="__lodash_hash_undefined__",o="__lodash_placeholder__",a=16,s=32,u=64,c=128,l=256,f=1/0,h=9007199254740991,d=NaN,p=4294967295,v=[["ary",c],["bind",1],["bindKey",2],["curry",8],["curryRight",a],["flip",512],["partial",s],["partialRight",u],["rearg",l]],g="[object Arguments]",_="[object Array]",m="[object Boolean]",y="[object Date]",b="[object Error]",E="[object Function]",C="[object GeneratorFunction]",S="[object Map]",w="[object Number]",x="[object Object]",T="[object Promise]",R="[object RegExp]",P="[object Set]",A="[object String]",I="[object Symbol]",O="[object WeakMap]",N="[object ArrayBuffer]",k="[object DataView]",M="[object Float32Array]",L="[object Float64Array]",F="[object Int8Array]",D="[object Int16Array]",$="[object Int32Array]",j="[object Uint8Array]",B="[object Uint8ClampedArray]",V="[object Uint16Array]",H="[object Uint32Array]",U=/\b__p \+= '';/g,W=/\b(__p \+=) '' \+/g,G=/(__e\(.*?\)|\b__t\)) \+\n'';/g,z=/&(?:amp|lt|gt|quot|#39);/g,q=/[&<>"']/g,Y=RegExp(z.source),K=RegExp(q.source),Q=/<%-([\s\S]+?)%>/g,X=/<%([\s\S]+?)%>/g,J=/<%=([\s\S]+?)%>/g,Z=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ee=/^\w*$/,te=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ne=/[\\^$.*+?()[\]{}|]/g,re=RegExp(ne.source),ie=/^\s+/,oe=/\s/,ae=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,se=/\{\n\/\* \[wrapped with (.+)\] \*/,ue=/,? & /,ce=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,le=/[()=,{}\[\]\/\s]/,fe=/\\(\\)?/g,he=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,de=/\w*$/,pe=/^[-+]0x[0-9a-f]+$/i,ve=/^0b[01]+$/i,ge=/^\[object .+?Constructor\]$/,_e=/^0o[0-7]+$/i,me=/^(?:0|[1-9]\d*)$/,ye=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,be=/($^)/,Ee=/['\n\r\u2028\u2029\\]/g,Ce="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Se="\\u2700-\\u27bf",we="a-z\\xdf-\\xf6\\xf8-\\xff",xe="A-Z\\xc0-\\xd6\\xd8-\\xde",Te="\\ufe0e\\ufe0f",Re="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Pe="['’]",Ae="[\\ud800-\\udfff]",Ie="["+Re+"]",Oe="["+Ce+"]",Ne="\\d+",ke="[\\u2700-\\u27bf]",Me="["+we+"]",Le="[^\\ud800-\\udfff"+Re+Ne+Se+we+xe+"]",Fe="\\ud83c[\\udffb-\\udfff]",De="[^\\ud800-\\udfff]",$e="(?:\\ud83c[\\udde6-\\uddff]){2}",je="[\\ud800-\\udbff][\\udc00-\\udfff]",Be="["+xe+"]",Ve="(?:"+Me+"|"+Le+")",He="(?:"+Be+"|"+Le+")",Ue="(?:['’](?:d|ll|m|re|s|t|ve))?",We="(?:['’](?:D|LL|M|RE|S|T|VE))?",Ge="(?:"+Oe+"|"+Fe+")"+"?",ze="[\\ufe0e\\ufe0f]?",qe=ze+Ge+("(?:\\u200d(?:"+[De,$e,je].join("|")+")"+ze+Ge+")*"),Ye="(?:"+[ke,$e,je].join("|")+")"+qe,Ke="(?:"+[De+Oe+"?",Oe,$e,je,Ae].join("|")+")",Qe=RegExp(Pe,"g"),Xe=RegExp(Oe,"g"),Je=RegExp(Fe+"(?="+Fe+")|"+Ke+qe,"g"),Ze=RegExp([Be+"?"+Me+"+"+Ue+"(?="+[Ie,Be,"$"].join("|")+")",He+"+"+We+"(?="+[Ie,Be+Ve,"$"].join("|")+")",Be+"?"+Ve+"+"+Ue,Be+"+"+We,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ne,Ye].join("|"),"g"),et=RegExp("[\\u200d\\ud800-\\udfff"+Ce+Te+"]"),tt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,nt=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],rt=-1,it={};it[M]=it[L]=it[F]=it[D]=it[$]=it[j]=it[B]=it[V]=it[H]=!0,it[g]=it[_]=it[N]=it[m]=it[k]=it[y]=it[b]=it[E]=it[S]=it[w]=it[x]=it[R]=it[P]=it[A]=it[O]=!1;var ot={};ot[g]=ot[_]=ot[N]=ot[k]=ot[m]=ot[y]=ot[M]=ot[L]=ot[F]=ot[D]=ot[$]=ot[S]=ot[w]=ot[x]=ot[R]=ot[P]=ot[A]=ot[I]=ot[j]=ot[B]=ot[V]=ot[H]=!0,ot[b]=ot[E]=ot[O]=!1;var at={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},st=parseFloat,ut=parseInt,ct="object"==typeof commonjsGlobal&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,lt="object"==typeof self&&self&&self.Object===Object&&self,ft=ct||lt||Function("return this")(),ht=t&&!t.nodeType&&t,dt=ht&&e&&!e.nodeType&&e,pt=dt&&dt.exports===ht,vt=pt&&ct.process,gt=function(){try{var e=dt&&dt.require&&dt.require("util").types;return e||vt&&vt.binding&&vt.binding("util")}catch(t){}}(),_t=gt&&gt.isArrayBuffer,mt=gt&&gt.isDate,yt=gt&&gt.isMap,bt=gt&&gt.isRegExp,Et=gt&&gt.isSet,Ct=gt&&gt.isTypedArray;function St(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function wt(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function xt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Tt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function Rt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Pt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function At(e,t){return!!(null==e?0:e.length)&&jt(e,t,0)>-1}function It(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Ot(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Nt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function kt(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Mt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Lt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Ft=Ut("length");function Dt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function $t(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function jt(e,t,n){return t==t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):$t(e,Vt,n)}function Bt(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function Vt(e){return e!=e}function Ht(e,t){var n=null==e?0:e.length;return n?zt(e,t)/n:d}function Ut(e){return function(t){return null==t?n:t[e]}}function Wt(e){return function(t){return null==e?n:e[t]}}function Gt(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function zt(e,t){for(var r,i=-1,o=e.length;++i<o;){var a=t(e[i]);a!==n&&(r=r===n?a:r+a)}return r}function qt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Yt(e){return e?e.slice(0,dn(e)+1).replace(ie,""):e}function Kt(e){return function(t){return e(t)}}function Qt(e,t){return Ot(t,(function(t){return e[t]}))}function Xt(e,t){return e.has(t)}function Jt(e,t){for(var n=-1,r=e.length;++n<r&&jt(t,e[n],0)>-1;);return n}function Zt(e,t){for(var n=e.length;n--&&jt(t,e[n],0)>-1;);return n}function en(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var tn=Wt({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),nn=Wt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function rn(e){return"\\"+at[e]}function on(e){return et.test(e)}function an(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function sn(e,t){return function(n){return e(t(n))}}function un(e,t){for(var n=-1,r=e.length,i=0,a=[];++n<r;){var s=e[n];s!==t&&s!==o||(e[n]=o,a[i++]=n)}return a}function cn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function ln(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function fn(e){return on(e)?function(e){var t=Je.lastIndex=0;for(;Je.test(e);)++t;return t}(e):Ft(e)}function hn(e){return on(e)?function(e){return e.match(Je)||[]}(e):function(e){return e.split("")}(e)}function dn(e){for(var t=e.length;t--&&oe.test(e.charAt(t)););return t}var pn=Wt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var vn=function e(t){var oe=(t=null==t?ft:vn.defaults(ft.Object(),t,vn.pick(ft,nt))).Array,Ce=t.Date,Se=t.Error,we=t.Function,xe=t.Math,Te=t.Object,Re=t.RegExp,Pe=t.String,Ae=t.TypeError,Ie=oe.prototype,Oe=we.prototype,Ne=Te.prototype,ke=t["__core-js_shared__"],Me=Oe.toString,Le=Ne.hasOwnProperty,Fe=0,De=function(){var e=/[^.]+$/.exec(ke&&ke.keys&&ke.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),$e=Ne.toString,je=Me.call(Te),Be=ft._,Ve=Re("^"+Me.call(Le).replace(ne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),He=pt?t.Buffer:n,Ue=t.Symbol,We=t.Uint8Array,Ge=He?He.allocUnsafe:n,ze=sn(Te.getPrototypeOf,Te),qe=Te.create,Ye=Ne.propertyIsEnumerable,Ke=Ie.splice,Je=Ue?Ue.isConcatSpreadable:n,et=Ue?Ue.iterator:n,at=Ue?Ue.toStringTag:n,ct=function(){try{var e=ho(Te,"defineProperty");return e({},"",{}),e}catch(t){}}(),lt=t.clearTimeout!==ft.clearTimeout&&t.clearTimeout,ht=Ce&&Ce.now!==ft.Date.now&&Ce.now,dt=t.setTimeout!==ft.setTimeout&&t.setTimeout,vt=xe.ceil,gt=xe.floor,Ft=Te.getOwnPropertySymbols,Wt=He?He.isBuffer:n,gn=t.isFinite,_n=Ie.join,mn=sn(Te.keys,Te),yn=xe.max,bn=xe.min,En=Ce.now,Cn=t.parseInt,Sn=xe.random,wn=Ie.reverse,xn=ho(t,"DataView"),Tn=ho(t,"Map"),Rn=ho(t,"Promise"),Pn=ho(t,"Set"),An=ho(t,"WeakMap"),In=ho(Te,"create"),On=An&&new An,Nn={},kn=Bo(xn),Mn=Bo(Tn),Ln=Bo(Rn),Fn=Bo(Pn),Dn=Bo(An),$n=Ue?Ue.prototype:n,jn=$n?$n.valueOf:n,Bn=$n?$n.toString:n;function Vn(e){if(rs(e)&&!za(e)&&!(e instanceof Gn)){if(e instanceof Wn)return e;if(Le.call(e,"__wrapped__"))return Vo(e)}return new Wn(e)}var Hn=function(){function e(){}return function(t){if(!ns(t))return{};if(qe)return qe(t);e.prototype=t;var r=new e;return e.prototype=n,r}}();function Un(){}function Wn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=n}function Gn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=p,this.__views__=[]}function zn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Kn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Yn;++t<n;)this.add(e[t])}function Qn(e){var t=this.__data__=new qn(e);this.size=t.size}function Xn(e,t){var n=za(e),r=!n&&Ga(e),i=!n&&!r&&Qa(e),o=!n&&!r&&!i&&fs(e),a=n||r||i||o,s=a?qt(e.length,Pe):[],u=s.length;for(var c in e)!t&&!Le.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||bo(c,u))||s.push(c);return s}function Jn(e){var t=e.length;return t?e[Kr(0,t-1)]:n}function Zn(e,t){return Do(Ii(e),ur(t,0,e.length))}function er(e){return Do(Ii(e))}function tr(e,t,r){(r!==n&&!Ha(e[t],r)||r===n&&!(t in e))&&ar(e,t,r)}function nr(e,t,r){var i=e[t];Le.call(e,t)&&Ha(i,r)&&(r!==n||t in e)||ar(e,t,r)}function rr(e,t){for(var n=e.length;n--;)if(Ha(e[n][0],t))return n;return-1}function ir(e,t,n,r){return dr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function or(e,t){return e&&Oi(t,ks(t),e)}function ar(e,t,n){"__proto__"==t&&ct?ct(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function sr(e,t){for(var r=-1,i=t.length,o=oe(i),a=null==e;++r<i;)o[r]=a?n:Ps(e,t[r]);return o}function ur(e,t,r){return e==e&&(r!==n&&(e=e<=r?e:r),t!==n&&(e=e>=t?e:t)),e}function cr(e,t,r,i,o,a){var s,u=1&t,c=2&t,l=4&t;if(r&&(s=o?r(e,i,o,a):r(e)),s!==n)return s;if(!ns(e))return e;var f=za(e);if(f){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Le.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!u)return Ii(e,s)}else{var h=go(e),d=h==E||h==C;if(Qa(e))return wi(e,u);if(h==x||h==g||d&&!o){if(s=c||d?{}:mo(e),!u)return c?function(e,t){return Oi(e,vo(e),t)}(e,function(e,t){return e&&Oi(t,Ms(t),e)}(s,e)):function(e,t){return Oi(e,po(e),t)}(e,or(s,e))}else{if(!ot[h])return o?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case N:return xi(e);case m:case y:return new r(+e);case k:return function(e,t){var n=t?xi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case M:case L:case F:case D:case $:case j:case B:case V:case H:return Ti(e,n);case S:return new r;case w:case A:return new r(e);case R:return function(e){var t=new e.constructor(e.source,de.exec(e));return t.lastIndex=e.lastIndex,t}(e);case P:return new r;case I:return i=e,jn?Te(jn.call(i)):{}}var i}(e,h,u)}}a||(a=new Qn);var p=a.get(e);if(p)return p;a.set(e,s),us(e)?e.forEach((function(n){s.add(cr(n,t,r,n,e,a))})):is(e)&&e.forEach((function(n,i){s.set(i,cr(n,t,r,i,e,a))}));var v=f?n:(l?c?oo:io:c?Ms:ks)(e);return xt(v||e,(function(n,i){v&&(n=e[i=n]),nr(s,i,cr(n,t,r,i,e,a))})),s}function lr(e,t,r){var i=r.length;if(null==e)return!i;for(e=Te(e);i--;){var o=r[i],a=t[o],s=e[o];if(s===n&&!(o in e)||!a(s))return!1}return!0}function fr(e,t,i){if("function"!=typeof e)throw new Ae(r);return ko((function(){e.apply(n,i)}),t)}function hr(e,t,n,r){var i=-1,o=At,a=!0,s=e.length,u=[],c=t.length;if(!s)return u;n&&(t=Ot(t,Kt(n))),r?(o=It,a=!1):t.length>=200&&(o=Xt,a=!1,t=new Kn(t));e:for(;++i<s;){var l=e[i],f=null==n?l:n(l);if(l=r||0!==l?l:0,a&&f==f){for(var h=c;h--;)if(t[h]===f)continue e;u.push(l)}else o(t,f,r)||u.push(l)}return u}Vn.templateSettings={escape:Q,evaluate:X,interpolate:J,variable:"",imports:{_:Vn}},Vn.prototype=Un.prototype,Vn.prototype.constructor=Vn,Wn.prototype=Hn(Un.prototype),Wn.prototype.constructor=Wn,Gn.prototype=Hn(Un.prototype),Gn.prototype.constructor=Gn,zn.prototype.clear=function(){this.__data__=In?In(null):{},this.size=0},zn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},zn.prototype.get=function(e){var t=this.__data__;if(In){var r=t[e];return r===i?n:r}return Le.call(t,e)?t[e]:n},zn.prototype.has=function(e){var t=this.__data__;return In?t[e]!==n:Le.call(t,e)},zn.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=In&&t===n?i:t,this},qn.prototype.clear=function(){this.__data__=[],this.size=0},qn.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ke.call(t,n,1),--this.size,!0)},qn.prototype.get=function(e){var t=this.__data__,r=rr(t,e);return r<0?n:t[r][1]},qn.prototype.has=function(e){return rr(this.__data__,e)>-1},qn.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Yn.prototype.clear=function(){this.size=0,this.__data__={hash:new zn,map:new(Tn||qn),string:new zn}},Yn.prototype.delete=function(e){var t=lo(this,e).delete(e);return this.size-=t?1:0,t},Yn.prototype.get=function(e){return lo(this,e).get(e)},Yn.prototype.has=function(e){return lo(this,e).has(e)},Yn.prototype.set=function(e,t){var n=lo(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Kn.prototype.add=Kn.prototype.push=function(e){return this.__data__.set(e,i),this},Kn.prototype.has=function(e){return this.__data__.has(e)},Qn.prototype.clear=function(){this.__data__=new qn,this.size=0},Qn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Qn.prototype.get=function(e){return this.__data__.get(e)},Qn.prototype.has=function(e){return this.__data__.has(e)},Qn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof qn){var r=n.__data__;if(!Tn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Yn(r)}return n.set(e,t),this.size=n.size,this};var dr=Mi(Er),pr=Mi(Cr,!0);function vr(e,t){var n=!0;return dr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function gr(e,t,r){for(var i=-1,o=e.length;++i<o;){var a=e[i],s=t(a);if(null!=s&&(u===n?s==s&&!ls(s):r(s,u)))var u=s,c=a}return c}function _r(e,t){var n=[];return dr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function mr(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=yo),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?mr(s,t-1,n,r,i):Nt(i,s):r||(i[i.length]=s)}return i}var yr=Li(),br=Li(!0);function Er(e,t){return e&&yr(e,t,ks)}function Cr(e,t){return e&&br(e,t,ks)}function Sr(e,t){return Pt(t,(function(t){return Za(e[t])}))}function wr(e,t){for(var r=0,i=(t=bi(t,e)).length;null!=e&&r<i;)e=e[jo(t[r++])];return r&&r==i?e:n}function xr(e,t,n){var r=t(e);return za(e)?r:Nt(r,n(e))}function Tr(e){return null==e?e===n?"[object Undefined]":"[object Null]":at&&at in Te(e)?function(e){var t=Le.call(e,at),r=e[at];try{e[at]=n;var i=!0}catch(a){}var o=$e.call(e);i&&(t?e[at]=r:delete e[at]);return o}(e):function(e){return $e.call(e)}(e)}function Rr(e,t){return e>t}function Pr(e,t){return null!=e&&Le.call(e,t)}function Ar(e,t){return null!=e&&t in Te(e)}function Ir(e,t,r){for(var i=r?It:At,o=e[0].length,a=e.length,s=a,u=oe(a),c=1/0,l=[];s--;){var f=e[s];s&&t&&(f=Ot(f,Kt(t))),c=bn(f.length,c),u[s]=!r&&(t||o>=120&&f.length>=120)?new Kn(s&&f):n}f=e[0];var h=-1,d=u[0];e:for(;++h<o&&l.length<c;){var p=f[h],v=t?t(p):p;if(p=r||0!==p?p:0,!(d?Xt(d,v):i(l,v,r))){for(s=a;--s;){var g=u[s];if(!(g?Xt(g,v):i(e[s],v,r)))continue e}d&&d.push(v),l.push(p)}}return l}function Or(e,t,r){var i=null==(e=Ao(e,t=bi(t,e)))?e:e[jo(Jo(t))];return null==i?n:St(i,e,r)}function Nr(e){return rs(e)&&Tr(e)==g}function kr(e,t,r,i,o){return e===t||(null==e||null==t||!rs(e)&&!rs(t)?e!=e&&t!=t:function(e,t,r,i,o,a){var s=za(e),u=za(t),c=s?_:go(e),l=u?_:go(t),f=(c=c==g?x:c)==x,h=(l=l==g?x:l)==x,d=c==l;if(d&&Qa(e)){if(!Qa(t))return!1;s=!0,f=!1}if(d&&!f)return a||(a=new Qn),s||fs(e)?no(e,t,r,i,o,a):function(e,t,n,r,i,o,a){switch(n){case k:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case N:return!(e.byteLength!=t.byteLength||!o(new We(e),new We(t)));case m:case y:case w:return Ha(+e,+t);case b:return e.name==t.name&&e.message==t.message;case R:case A:return e==t+"";case S:var s=an;case P:var u=1&r;if(s||(s=cn),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var l=no(s(e),s(t),r,i,o,a);return a.delete(e),l;case I:if(jn)return jn.call(e)==jn.call(t)}return!1}(e,t,c,r,i,o,a);if(!(1&r)){var p=f&&Le.call(e,"__wrapped__"),v=h&&Le.call(t,"__wrapped__");if(p||v){var E=p?e.value():e,C=v?t.value():t;return a||(a=new Qn),o(E,C,r,i,a)}}if(!d)return!1;return a||(a=new Qn),function(e,t,r,i,o,a){var s=1&r,u=io(e),c=u.length,l=io(t).length;if(c!=l&&!s)return!1;var f=c;for(;f--;){var h=u[f];if(!(s?h in t:Le.call(t,h)))return!1}var d=a.get(e),p=a.get(t);if(d&&p)return d==t&&p==e;var v=!0;a.set(e,t),a.set(t,e);var g=s;for(;++f<c;){var _=e[h=u[f]],m=t[h];if(i)var y=s?i(m,_,h,t,e,a):i(_,m,h,e,t,a);if(!(y===n?_===m||o(_,m,r,i,a):y)){v=!1;break}g||(g="constructor"==h)}if(v&&!g){var b=e.constructor,E=t.constructor;b==E||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof E&&E instanceof E||(v=!1)}return a.delete(e),a.delete(t),v}(e,t,r,i,o,a)}(e,t,r,i,kr,o))}function Mr(e,t,r,i){var o=r.length,a=o,s=!i;if(null==e)return!a;for(e=Te(e);o--;){var u=r[o];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<a;){var c=(u=r[o])[0],l=e[c],f=u[1];if(s&&u[2]){if(l===n&&!(c in e))return!1}else{var h=new Qn;if(i)var d=i(l,f,c,e,t,h);if(!(d===n?kr(f,l,3,i,h):d))return!1}}return!0}function Lr(e){return!(!ns(e)||(t=e,De&&De in t))&&(Za(e)?Ve:ge).test(Bo(e));var t}function Fr(e){return"function"==typeof e?e:null==e?ou:"object"==typeof e?za(e)?Hr(e[0],e[1]):Vr(e):pu(e)}function Dr(e){if(!xo(e))return mn(e);var t=[];for(var n in Te(e))Le.call(e,n)&&"constructor"!=n&&t.push(n);return t}function $r(e){if(!ns(e))return function(e){var t=[];if(null!=e)for(var n in Te(e))t.push(n);return t}(e);var t=xo(e),n=[];for(var r in e)("constructor"!=r||!t&&Le.call(e,r))&&n.push(r);return n}function jr(e,t){return e<t}function Br(e,t){var n=-1,r=Ya(e)?oe(e.length):[];return dr(e,(function(e,i,o){r[++n]=t(e,i,o)})),r}function Vr(e){var t=fo(e);return 1==t.length&&t[0][2]?Ro(t[0][0],t[0][1]):function(n){return n===e||Mr(n,e,t)}}function Hr(e,t){return Co(e)&&To(t)?Ro(jo(e),t):function(r){var i=Ps(r,e);return i===n&&i===t?As(r,e):kr(t,i,3)}}function Ur(e,t,r,i,o){e!==t&&yr(t,(function(a,s){if(o||(o=new Qn),ns(a))!function(e,t,r,i,o,a,s){var u=Oo(e,r),c=Oo(t,r),l=s.get(c);if(l)return void tr(e,r,l);var f=a?a(u,c,r+"",e,t,s):n,h=f===n;if(h){var d=za(c),p=!d&&Qa(c),v=!d&&!p&&fs(c);f=c,d||p||v?za(u)?f=u:Ka(u)?f=Ii(u):p?(h=!1,f=wi(c,!0)):v?(h=!1,f=Ti(c,!0)):f=[]:as(c)||Ga(c)?(f=u,Ga(u)?f=ys(u):ns(u)&&!Za(u)||(f=mo(c))):h=!1}h&&(s.set(c,f),o(f,c,i,a,s),s.delete(c));tr(e,r,f)}(e,t,s,r,Ur,i,o);else{var u=i?i(Oo(e,s),a,s+"",e,t,o):n;u===n&&(u=a),tr(e,s,u)}}),Ms)}function Wr(e,t){var r=e.length;if(r)return bo(t+=t<0?r:0,r)?e[t]:n}function Gr(e,t,n){t=t.length?Ot(t,(function(e){return za(e)?function(t){return wr(t,1===e.length?e[0]:e)}:e})):[ou];var r=-1;return t=Ot(t,Kt(co())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Br(e,(function(e,n,i){return{criteria:Ot(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;for(;++r<a;){var u=Ri(i[r],o[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function zr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=wr(e,a);n(s,a)&&ei(o,bi(a,e),s)}return o}function qr(e,t,n,r){var i=r?Bt:jt,o=-1,a=t.length,s=e;for(e===t&&(t=Ii(t)),n&&(s=Ot(e,Kt(n)));++o<a;)for(var u=0,c=t[o],l=n?n(c):c;(u=i(s,l,u,r))>-1;)s!==e&&Ke.call(s,u,1),Ke.call(e,u,1);return e}function Yr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;bo(i)?Ke.call(e,i,1):hi(e,i)}}return e}function Kr(e,t){return e+gt(Sn()*(t-e+1))}function Qr(e,t){var n="";if(!e||t<1||t>h)return n;do{t%2&&(n+=e),(t=gt(t/2))&&(e+=e)}while(t);return n}function Xr(e,t){return Mo(Po(e,t,ou),e+"")}function Jr(e){return Jn(Hs(e))}function Zr(e,t){var n=Hs(e);return Do(n,ur(t,0,n.length))}function ei(e,t,r,i){if(!ns(e))return e;for(var o=-1,a=(t=bi(t,e)).length,s=a-1,u=e;null!=u&&++o<a;){var c=jo(t[o]),l=r;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(o!=s){var f=u[c];(l=i?i(f,c,u):n)===n&&(l=ns(f)?f:bo(t[o+1])?[]:{})}nr(u,c,l),u=u[c]}return e}var ti=On?function(e,t){return On.set(e,t),e}:ou,ni=ct?function(e,t){return ct(e,"toString",{configurable:!0,enumerable:!1,value:nu(t),writable:!0})}:ou;function ri(e){return Do(Hs(e))}function ii(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=oe(i);++r<i;)o[r]=e[r+t];return o}function oi(e,t){var n;return dr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function ai(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!ls(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return si(e,t,ou,n)}function si(e,t,r,i){var o=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=r(t))!=t,u=null===t,c=ls(t),l=t===n;o<a;){var f=gt((o+a)/2),h=r(e[f]),d=h!==n,p=null===h,v=h==h,g=ls(h);if(s)var _=i||v;else _=l?v&&(i||d):u?v&&d&&(i||!p):c?v&&d&&!p&&(i||!g):!p&&!g&&(i?h<=t:h<t);_?o=f+1:a=f}return bn(a,4294967294)}function ui(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!Ha(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function ci(e){return"number"==typeof e?e:ls(e)?d:+e}function li(e){if("string"==typeof e)return e;if(za(e))return Ot(e,li)+"";if(ls(e))return Bn?Bn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function fi(e,t,n){var r=-1,i=At,o=e.length,a=!0,s=[],u=s;if(n)a=!1,i=It;else if(o>=200){var c=t?null:Qi(e);if(c)return cn(c);a=!1,i=Xt,u=new Kn}else u=t?[]:s;e:for(;++r<o;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,a&&f==f){for(var h=u.length;h--;)if(u[h]===f)continue e;t&&u.push(f),s.push(l)}else i(u,f,n)||(u!==s&&u.push(f),s.push(l))}return s}function hi(e,t){return null==(e=Ao(e,t=bi(t,e)))||delete e[jo(Jo(t))]}function di(e,t,n,r){return ei(e,t,n(wr(e,t)),r)}function pi(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?ii(e,r?0:o,r?o+1:i):ii(e,r?o+1:0,r?i:o)}function vi(e,t){var n=e;return n instanceof Gn&&(n=n.value()),kt(t,(function(e,t){return t.func.apply(t.thisArg,Nt([e],t.args))}),n)}function gi(e,t,n){var r=e.length;if(r<2)return r?fi(e[0]):[];for(var i=-1,o=oe(r);++i<r;)for(var a=e[i],s=-1;++s<r;)s!=i&&(o[i]=hr(o[i]||a,e[s],t,n));return fi(mr(o,1),t,n)}function _i(e,t,r){for(var i=-1,o=e.length,a=t.length,s={};++i<o;){var u=i<a?t[i]:n;r(s,e[i],u)}return s}function mi(e){return Ka(e)?e:[]}function yi(e){return"function"==typeof e?e:ou}function bi(e,t){return za(e)?e:Co(e,t)?[e]:$o(bs(e))}var Ei=Xr;function Ci(e,t,r){var i=e.length;return r=r===n?i:r,!t&&r>=i?e:ii(e,t,r)}var Si=lt||function(e){return ft.clearTimeout(e)};function wi(e,t){if(t)return e.slice();var n=e.length,r=Ge?Ge(n):new e.constructor(n);return e.copy(r),r}function xi(e){var t=new e.constructor(e.byteLength);return new We(t).set(new We(e)),t}function Ti(e,t){var n=t?xi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ri(e,t){if(e!==t){var r=e!==n,i=null===e,o=e==e,a=ls(e),s=t!==n,u=null===t,c=t==t,l=ls(t);if(!u&&!l&&!a&&e>t||a&&s&&c&&!u&&!l||i&&s&&c||!r&&c||!o)return 1;if(!i&&!a&&!l&&e<t||l&&r&&o&&!i&&!a||u&&r&&o||!s&&o||!c)return-1}return 0}function Pi(e,t,n,r){for(var i=-1,o=e.length,a=n.length,s=-1,u=t.length,c=yn(o-a,0),l=oe(u+c),f=!r;++s<u;)l[s]=t[s];for(;++i<a;)(f||i<o)&&(l[n[i]]=e[i]);for(;c--;)l[s++]=e[i++];return l}function Ai(e,t,n,r){for(var i=-1,o=e.length,a=-1,s=n.length,u=-1,c=t.length,l=yn(o-s,0),f=oe(l+c),h=!r;++i<l;)f[i]=e[i];for(var d=i;++u<c;)f[d+u]=t[u];for(;++a<s;)(h||i<o)&&(f[d+n[a]]=e[i++]);return f}function Ii(e,t){var n=-1,r=e.length;for(t||(t=oe(r));++n<r;)t[n]=e[n];return t}function Oi(e,t,r,i){var o=!r;r||(r={});for(var a=-1,s=t.length;++a<s;){var u=t[a],c=i?i(r[u],e[u],u,r,e):n;c===n&&(c=e[u]),o?ar(r,u,c):nr(r,u,c)}return r}function Ni(e,t){return function(n,r){var i=za(n)?wt:ir,o=t?t():{};return i(n,e,co(r,2),o)}}function ki(e){return Xr((function(t,r){var i=-1,o=r.length,a=o>1?r[o-1]:n,s=o>2?r[2]:n;for(a=e.length>3&&"function"==typeof a?(o--,a):n,s&&Eo(r[0],r[1],s)&&(a=o<3?n:a,o=1),t=Te(t);++i<o;){var u=r[i];u&&e(t,u,i,a)}return t}))}function Mi(e,t){return function(n,r){if(null==n)return n;if(!Ya(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Te(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Li(e){return function(t,n,r){for(var i=-1,o=Te(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}function Fi(e){return function(t){var r=on(t=bs(t))?hn(t):n,i=r?r[0]:t.charAt(0),o=r?Ci(r,1).join(""):t.slice(1);return i[e]()+o}}function Di(e){return function(t){return kt(Zs(Gs(t).replace(Qe,"")),e,"")}}function $i(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Hn(e.prototype),r=e.apply(n,t);return ns(r)?r:n}}function ji(e){return function(t,r,i){var o=Te(t);if(!Ya(t)){var a=co(r,3);t=ks(t),r=function(e){return a(o[e],e,o)}}var s=e(t,r,i);return s>-1?o[a?t[s]:s]:n}}function Bi(e){return ro((function(t){var i=t.length,o=i,a=Wn.prototype.thru;for(e&&t.reverse();o--;){var s=t[o];if("function"!=typeof s)throw new Ae(r);if(a&&!u&&"wrapper"==so(s))var u=new Wn([],!0)}for(o=u?o:i;++o<i;){var c=so(s=t[o]),l="wrapper"==c?ao(s):n;u=l&&So(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?u[so(l[0])].apply(u,l[3]):1==s.length&&So(s)?u[c]():u.thru(s)}return function(){var e=arguments,n=e[0];if(u&&1==e.length&&za(n))return u.plant(n).value();for(var r=0,o=i?t[r].apply(this,e):n;++r<i;)o=t[r].call(this,o);return o}}))}function Vi(e,t,r,i,o,a,s,u,l,f){var h=t&c,d=1&t,p=2&t,v=24&t,g=512&t,_=p?n:$i(e);return function n(){for(var c=arguments.length,m=oe(c),y=c;y--;)m[y]=arguments[y];if(v)var b=uo(n),E=en(m,b);if(i&&(m=Pi(m,i,o,v)),a&&(m=Ai(m,a,s,v)),c-=E,v&&c<f){var C=un(m,b);return Yi(e,t,Vi,n.placeholder,r,m,C,u,l,f-c)}var S=d?r:this,w=p?S[e]:e;return c=m.length,u?m=Io(m,u):g&&c>1&&m.reverse(),h&&l<c&&(m.length=l),this&&this!==ft&&this instanceof n&&(w=_||$i(w)),w.apply(S,m)}}function Hi(e,t){return function(n,r){return function(e,t,n,r){return Er(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function Ui(e,t){return function(r,i){var o;if(r===n&&i===n)return t;if(r!==n&&(o=r),i!==n){if(o===n)return i;"string"==typeof r||"string"==typeof i?(r=li(r),i=li(i)):(r=ci(r),i=ci(i)),o=e(r,i)}return o}}function Wi(e){return ro((function(t){return t=Ot(t,Kt(co())),Xr((function(n){var r=this;return e(t,(function(e){return St(e,r,n)}))}))}))}function Gi(e,t){var r=(t=t===n?" ":li(t)).length;if(r<2)return r?Qr(t,e):t;var i=Qr(t,vt(e/fn(t)));return on(t)?Ci(hn(i),0,e).join(""):i.slice(0,e)}function zi(e){return function(t,r,i){return i&&"number"!=typeof i&&Eo(t,r,i)&&(r=i=n),t=vs(t),r===n?(r=t,t=0):r=vs(r),function(e,t,n,r){for(var i=-1,o=yn(vt((t-e)/(n||1)),0),a=oe(o);o--;)a[r?o:++i]=e,e+=n;return a}(t,r,i=i===n?t<r?1:-1:vs(i),e)}}function qi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ms(t),n=ms(n)),e(t,n)}}function Yi(e,t,r,i,o,a,c,l,f,h){var d=8&t;t|=d?s:u,4&(t&=~(d?u:s))||(t&=-4);var p=[e,t,o,d?a:n,d?c:n,d?n:a,d?n:c,l,f,h],v=r.apply(n,p);return So(e)&&No(v,p),v.placeholder=i,Lo(v,e,t)}function Ki(e){var t=xe[e];return function(e,n){if(e=ms(e),(n=null==n?0:bn(gs(n),292))&&gn(e)){var r=(bs(e)+"e").split("e");return+((r=(bs(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Qi=Pn&&1/cn(new Pn([,-0]))[1]==f?function(e){return new Pn(e)}:lu;function Xi(e){return function(t){var n=go(t);return n==S?an(t):n==P?ln(t):function(e,t){return Ot(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ji(e,t,i,f,h,d,p,v){var g=2&t;if(!g&&"function"!=typeof e)throw new Ae(r);var _=f?f.length:0;if(_||(t&=-97,f=h=n),p=p===n?p:yn(gs(p),0),v=v===n?v:gs(v),_-=h?h.length:0,t&u){var m=f,y=h;f=h=n}var b=g?n:ao(e),E=[e,t,i,f,h,m,y,d,p,v];if(b&&function(e,t){var n=e[1],r=t[1],i=n|r,a=i<131,s=r==c&&8==n||r==c&&n==l&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!a&&!s)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var u=t[3];if(u){var f=e[3];e[3]=f?Pi(f,u,t[4]):u,e[4]=f?un(e[3],o):t[4]}(u=t[5])&&(f=e[5],e[5]=f?Ai(f,u,t[6]):u,e[6]=f?un(e[5],o):t[6]);(u=t[7])&&(e[7]=u);r&c&&(e[8]=null==e[8]?t[8]:bn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(E,b),e=E[0],t=E[1],i=E[2],f=E[3],h=E[4],!(v=E[9]=E[9]===n?g?0:e.length:yn(E[9]-_,0))&&24&t&&(t&=-25),t&&1!=t)C=8==t||t==a?function(e,t,r){var i=$i(e);return function o(){for(var a=arguments.length,s=oe(a),u=a,c=uo(o);u--;)s[u]=arguments[u];var l=a<3&&s[0]!==c&&s[a-1]!==c?[]:un(s,c);return(a-=l.length)<r?Yi(e,t,Vi,o.placeholder,n,s,l,n,n,r-a):St(this&&this!==ft&&this instanceof o?i:e,this,s)}}(e,t,v):t!=s&&33!=t||h.length?Vi.apply(n,E):function(e,t,n,r){var i=1&t,o=$i(e);return function t(){for(var a=-1,s=arguments.length,u=-1,c=r.length,l=oe(c+s),f=this&&this!==ft&&this instanceof t?o:e;++u<c;)l[u]=r[u];for(;s--;)l[u++]=arguments[++a];return St(f,i?n:this,l)}}(e,t,i,f);else var C=function(e,t,n){var r=1&t,i=$i(e);return function t(){return(this&&this!==ft&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,i);return Lo((b?ti:No)(C,E),e,t)}function Zi(e,t,r,i){return e===n||Ha(e,Ne[r])&&!Le.call(i,r)?t:e}function eo(e,t,r,i,o,a){return ns(e)&&ns(t)&&(a.set(t,e),Ur(e,t,n,eo,a),a.delete(t)),e}function to(e){return as(e)?n:e}function no(e,t,r,i,o,a){var s=1&r,u=e.length,c=t.length;if(u!=c&&!(s&&c>u))return!1;var l=a.get(e),f=a.get(t);if(l&&f)return l==t&&f==e;var h=-1,d=!0,p=2&r?new Kn:n;for(a.set(e,t),a.set(t,e);++h<u;){var v=e[h],g=t[h];if(i)var _=s?i(g,v,h,t,e,a):i(v,g,h,e,t,a);if(_!==n){if(_)continue;d=!1;break}if(p){if(!Lt(t,(function(e,t){if(!Xt(p,t)&&(v===e||o(v,e,r,i,a)))return p.push(t)}))){d=!1;break}}else if(v!==g&&!o(v,g,r,i,a)){d=!1;break}}return a.delete(e),a.delete(t),d}function ro(e){return Mo(Po(e,n,qo),e+"")}function io(e){return xr(e,ks,po)}function oo(e){return xr(e,Ms,vo)}var ao=On?function(e){return On.get(e)}:lu;function so(e){for(var t=e.name+"",n=Nn[t],r=Le.call(Nn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function uo(e){return(Le.call(Vn,"placeholder")?Vn:e).placeholder}function co(){var e=Vn.iteratee||au;return e=e===au?Fr:e,arguments.length?e(arguments[0],arguments[1]):e}function lo(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function fo(e){for(var t=ks(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,To(i)]}return t}function ho(e,t){var r=function(e,t){return null==e?n:e[t]}(e,t);return Lr(r)?r:n}var po=Ft?function(e){return null==e?[]:(e=Te(e),Pt(Ft(e),(function(t){return Ye.call(e,t)})))}:_u,vo=Ft?function(e){for(var t=[];e;)Nt(t,po(e)),e=ze(e);return t}:_u,go=Tr;function _o(e,t,n){for(var r=-1,i=(t=bi(t,e)).length,o=!1;++r<i;){var a=jo(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&ts(i)&&bo(a,i)&&(za(e)||Ga(e))}function mo(e){return"function"!=typeof e.constructor||xo(e)?{}:Hn(ze(e))}function yo(e){return za(e)||Ga(e)||!!(Je&&e&&e[Je])}function bo(e,t){var n=typeof e;return!!(t=null==t?h:t)&&("number"==n||"symbol"!=n&&me.test(e))&&e>-1&&e%1==0&&e<t}function Eo(e,t,n){if(!ns(n))return!1;var r=typeof t;return!!("number"==r?Ya(n)&&bo(t,n.length):"string"==r&&t in n)&&Ha(n[t],e)}function Co(e,t){if(za(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ls(e))||(ee.test(e)||!Z.test(e)||null!=t&&e in Te(t))}function So(e){var t=so(e),n=Vn[t];if("function"!=typeof n||!(t in Gn.prototype))return!1;if(e===n)return!0;var r=ao(n);return!!r&&e===r[0]}(xn&&go(new xn(new ArrayBuffer(1)))!=k||Tn&&go(new Tn)!=S||Rn&&go(Rn.resolve())!=T||Pn&&go(new Pn)!=P||An&&go(new An)!=O)&&(go=function(e){var t=Tr(e),r=t==x?e.constructor:n,i=r?Bo(r):"";if(i)switch(i){case kn:return k;case Mn:return S;case Ln:return T;case Fn:return P;case Dn:return O}return t});var wo=ke?Za:mu;function xo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ne)}function To(e){return e==e&&!ns(e)}function Ro(e,t){return function(r){return null!=r&&(r[e]===t&&(t!==n||e in Te(r)))}}function Po(e,t,r){return t=yn(t===n?e.length-1:t,0),function(){for(var n=arguments,i=-1,o=yn(n.length-t,0),a=oe(o);++i<o;)a[i]=n[t+i];i=-1;for(var s=oe(t+1);++i<t;)s[i]=n[i];return s[t]=r(a),St(e,this,s)}}function Ao(e,t){return t.length<2?e:wr(e,ii(t,0,-1))}function Io(e,t){for(var r=e.length,i=bn(t.length,r),o=Ii(e);i--;){var a=t[i];e[i]=bo(a,r)?o[a]:n}return e}function Oo(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var No=Fo(ti),ko=dt||function(e,t){return ft.setTimeout(e,t)},Mo=Fo(ni);function Lo(e,t,n){var r=t+"";return Mo(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ae,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return xt(v,(function(n){var r="_."+n[0];t&n[1]&&!At(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(se);return t?t[1].split(ue):[]}(r),n)))}function Fo(e){var t=0,r=0;return function(){var i=En(),o=16-(i-r);if(r=i,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(n,arguments)}}function Do(e,t){var r=-1,i=e.length,o=i-1;for(t=t===n?i:t;++r<t;){var a=Kr(r,o),s=e[a];e[a]=e[r],e[r]=s}return e.length=t,e}var $o=function(e){var t=Fa(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(te,(function(e,n,r,i){t.push(r?i.replace(fe,"$1"):n||e)})),t}));function jo(e){if("string"==typeof e||ls(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Bo(e){if(null!=e){try{return Me.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Vo(e){if(e instanceof Gn)return e.clone();var t=new Wn(e.__wrapped__,e.__chain__);return t.__actions__=Ii(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Ho=Xr((function(e,t){return Ka(e)?hr(e,mr(t,1,Ka,!0)):[]})),Uo=Xr((function(e,t){var r=Jo(t);return Ka(r)&&(r=n),Ka(e)?hr(e,mr(t,1,Ka,!0),co(r,2)):[]})),Wo=Xr((function(e,t){var r=Jo(t);return Ka(r)&&(r=n),Ka(e)?hr(e,mr(t,1,Ka,!0),n,r):[]}));function Go(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:gs(n);return i<0&&(i=yn(r+i,0)),$t(e,co(t,3),i)}function zo(e,t,r){var i=null==e?0:e.length;if(!i)return-1;var o=i-1;return r!==n&&(o=gs(r),o=r<0?yn(i+o,0):bn(o,i-1)),$t(e,co(t,3),o,!0)}function qo(e){return(null==e?0:e.length)?mr(e,1):[]}function Yo(e){return e&&e.length?e[0]:n}var Ko=Xr((function(e){var t=Ot(e,mi);return t.length&&t[0]===e[0]?Ir(t):[]})),Qo=Xr((function(e){var t=Jo(e),r=Ot(e,mi);return t===Jo(r)?t=n:r.pop(),r.length&&r[0]===e[0]?Ir(r,co(t,2)):[]})),Xo=Xr((function(e){var t=Jo(e),r=Ot(e,mi);return(t="function"==typeof t?t:n)&&r.pop(),r.length&&r[0]===e[0]?Ir(r,n,t):[]}));function Jo(e){var t=null==e?0:e.length;return t?e[t-1]:n}var Zo=Xr(ea);function ea(e,t){return e&&e.length&&t&&t.length?qr(e,t):e}var ta=ro((function(e,t){var n=null==e?0:e.length,r=sr(e,t);return Yr(e,Ot(t,(function(e){return bo(e,n)?+e:e})).sort(Ri)),r}));function na(e){return null==e?e:wn.call(e)}var ra=Xr((function(e){return fi(mr(e,1,Ka,!0))})),ia=Xr((function(e){var t=Jo(e);return Ka(t)&&(t=n),fi(mr(e,1,Ka,!0),co(t,2))})),oa=Xr((function(e){var t=Jo(e);return t="function"==typeof t?t:n,fi(mr(e,1,Ka,!0),n,t)}));function aa(e){if(!e||!e.length)return[];var t=0;return e=Pt(e,(function(e){if(Ka(e))return t=yn(e.length,t),!0})),qt(t,(function(t){return Ot(e,Ut(t))}))}function sa(e,t){if(!e||!e.length)return[];var r=aa(e);return null==t?r:Ot(r,(function(e){return St(t,n,e)}))}var ua=Xr((function(e,t){return Ka(e)?hr(e,t):[]})),ca=Xr((function(e){return gi(Pt(e,Ka))})),la=Xr((function(e){var t=Jo(e);return Ka(t)&&(t=n),gi(Pt(e,Ka),co(t,2))})),fa=Xr((function(e){var t=Jo(e);return t="function"==typeof t?t:n,gi(Pt(e,Ka),n,t)})),ha=Xr(aa);var da=Xr((function(e){var t=e.length,r=t>1?e[t-1]:n;return r="function"==typeof r?(e.pop(),r):n,sa(e,r)}));function pa(e){var t=Vn(e);return t.__chain__=!0,t}function va(e,t){return t(e)}var ga=ro((function(e){var t=e.length,r=t?e[0]:0,i=this.__wrapped__,o=function(t){return sr(t,e)};return!(t>1||this.__actions__.length)&&i instanceof Gn&&bo(r)?((i=i.slice(r,+r+(t?1:0))).__actions__.push({func:va,args:[o],thisArg:n}),new Wn(i,this.__chain__).thru((function(e){return t&&!e.length&&e.push(n),e}))):this.thru(o)}));var _a=Ni((function(e,t,n){Le.call(e,n)?++e[n]:ar(e,n,1)}));var ma=ji(Go),ya=ji(zo);function ba(e,t){return(za(e)?xt:dr)(e,co(t,3))}function Ea(e,t){return(za(e)?Tt:pr)(e,co(t,3))}var Ca=Ni((function(e,t,n){Le.call(e,n)?e[n].push(t):ar(e,n,[t])}));var Sa=Xr((function(e,t,n){var r=-1,i="function"==typeof t,o=Ya(e)?oe(e.length):[];return dr(e,(function(e){o[++r]=i?St(t,e,n):Or(e,t,n)})),o})),wa=Ni((function(e,t,n){ar(e,n,t)}));function xa(e,t){return(za(e)?Ot:Br)(e,co(t,3))}var Ta=Ni((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Ra=Xr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&Eo(e,t[0],t[1])?t=[]:n>2&&Eo(t[0],t[1],t[2])&&(t=[t[0]]),Gr(e,mr(t,1),[])})),Pa=ht||function(){return ft.Date.now()};function Aa(e,t,r){return t=r?n:t,t=e&&null==t?e.length:t,Ji(e,c,n,n,n,n,t)}function Ia(e,t){var i;if("function"!=typeof t)throw new Ae(r);return e=gs(e),function(){return--e>0&&(i=t.apply(this,arguments)),e<=1&&(t=n),i}}var Oa=Xr((function(e,t,n){var r=1;if(n.length){var i=un(n,uo(Oa));r|=s}return Ji(e,r,t,n,i)})),Na=Xr((function(e,t,n){var r=3;if(n.length){var i=un(n,uo(Na));r|=s}return Ji(t,r,e,n,i)}));function ka(e,t,i){var o,a,s,u,c,l,f=0,h=!1,d=!1,p=!0;if("function"!=typeof e)throw new Ae(r);function v(t){var r=o,i=a;return o=a=n,f=t,u=e.apply(i,r)}function g(e){return f=e,c=ko(m,t),h?v(e):u}function _(e){var r=e-l;return l===n||r>=t||r<0||d&&e-f>=s}function m(){var e=Pa();if(_(e))return y(e);c=ko(m,function(e){var n=t-(e-l);return d?bn(n,s-(e-f)):n}(e))}function y(e){return c=n,p&&o?v(e):(o=a=n,u)}function b(){var e=Pa(),r=_(e);if(o=arguments,a=this,l=e,r){if(c===n)return g(l);if(d)return Si(c),c=ko(m,t),v(l)}return c===n&&(c=ko(m,t)),u}return t=ms(t)||0,ns(i)&&(h=!!i.leading,s=(d="maxWait"in i)?yn(ms(i.maxWait)||0,t):s,p="trailing"in i?!!i.trailing:p),b.cancel=function(){c!==n&&Si(c),f=0,o=l=a=c=n},b.flush=function(){return c===n?u:y(Pa())},b}var Ma=Xr((function(e,t){return fr(e,1,t)})),La=Xr((function(e,t,n){return fr(e,ms(t)||0,n)}));function Fa(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ae(r);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(Fa.Cache||Yn),n}function Da(e){if("function"!=typeof e)throw new Ae(r);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Fa.Cache=Yn;var $a=Ei((function(e,t){var n=(t=1==t.length&&za(t[0])?Ot(t[0],Kt(co())):Ot(mr(t,1),Kt(co()))).length;return Xr((function(r){for(var i=-1,o=bn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return St(e,this,r)}))})),ja=Xr((function(e,t){var r=un(t,uo(ja));return Ji(e,s,n,t,r)})),Ba=Xr((function(e,t){var r=un(t,uo(Ba));return Ji(e,u,n,t,r)})),Va=ro((function(e,t){return Ji(e,l,n,n,n,t)}));function Ha(e,t){return e===t||e!=e&&t!=t}var Ua=qi(Rr),Wa=qi((function(e,t){return e>=t})),Ga=Nr(function(){return arguments}())?Nr:function(e){return rs(e)&&Le.call(e,"callee")&&!Ye.call(e,"callee")},za=oe.isArray,qa=_t?Kt(_t):function(e){return rs(e)&&Tr(e)==N};function Ya(e){return null!=e&&ts(e.length)&&!Za(e)}function Ka(e){return rs(e)&&Ya(e)}var Qa=Wt||mu,Xa=mt?Kt(mt):function(e){return rs(e)&&Tr(e)==y};function Ja(e){if(!rs(e))return!1;var t=Tr(e);return t==b||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!as(e)}function Za(e){if(!ns(e))return!1;var t=Tr(e);return t==E||t==C||"[object AsyncFunction]"==t||"[object Proxy]"==t}function es(e){return"number"==typeof e&&e==gs(e)}function ts(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=h}function ns(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function rs(e){return null!=e&&"object"==typeof e}var is=yt?Kt(yt):function(e){return rs(e)&&go(e)==S};function os(e){return"number"==typeof e||rs(e)&&Tr(e)==w}function as(e){if(!rs(e)||Tr(e)!=x)return!1;var t=ze(e);if(null===t)return!0;var n=Le.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Me.call(n)==je}var ss=bt?Kt(bt):function(e){return rs(e)&&Tr(e)==R};var us=Et?Kt(Et):function(e){return rs(e)&&go(e)==P};function cs(e){return"string"==typeof e||!za(e)&&rs(e)&&Tr(e)==A}function ls(e){return"symbol"==typeof e||rs(e)&&Tr(e)==I}var fs=Ct?Kt(Ct):function(e){return rs(e)&&ts(e.length)&&!!it[Tr(e)]};var hs=qi(jr),ds=qi((function(e,t){return e<=t}));function ps(e){if(!e)return[];if(Ya(e))return cs(e)?hn(e):Ii(e);if(et&&e[et])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[et]());var t=go(e);return(t==S?an:t==P?cn:Hs)(e)}function vs(e){return e?(e=ms(e))===f||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function gs(e){var t=vs(e),n=t%1;return t==t?n?t-n:t:0}function _s(e){return e?ur(gs(e),0,p):0}function ms(e){if("number"==typeof e)return e;if(ls(e))return d;if(ns(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ns(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Yt(e);var n=ve.test(e);return n||_e.test(e)?ut(e.slice(2),n?2:8):pe.test(e)?d:+e}function ys(e){return Oi(e,Ms(e))}function bs(e){return null==e?"":li(e)}var Es=ki((function(e,t){if(xo(t)||Ya(t))Oi(t,ks(t),e);else for(var n in t)Le.call(t,n)&&nr(e,n,t[n])})),Cs=ki((function(e,t){Oi(t,Ms(t),e)})),Ss=ki((function(e,t,n,r){Oi(t,Ms(t),e,r)})),ws=ki((function(e,t,n,r){Oi(t,ks(t),e,r)})),xs=ro(sr);var Ts=Xr((function(e,t){e=Te(e);var r=-1,i=t.length,o=i>2?t[2]:n;for(o&&Eo(t[0],t[1],o)&&(i=1);++r<i;)for(var a=t[r],s=Ms(a),u=-1,c=s.length;++u<c;){var l=s[u],f=e[l];(f===n||Ha(f,Ne[l])&&!Le.call(e,l))&&(e[l]=a[l])}return e})),Rs=Xr((function(e){return e.push(n,eo),St(Fs,n,e)}));function Ps(e,t,r){var i=null==e?n:wr(e,t);return i===n?r:i}function As(e,t){return null!=e&&_o(e,t,Ar)}var Is=Hi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=$e.call(t)),e[t]=n}),nu(ou)),Os=Hi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=$e.call(t)),Le.call(e,t)?e[t].push(n):e[t]=[n]}),co),Ns=Xr(Or);function ks(e){return Ya(e)?Xn(e):Dr(e)}function Ms(e){return Ya(e)?Xn(e,!0):$r(e)}var Ls=ki((function(e,t,n){Ur(e,t,n)})),Fs=ki((function(e,t,n,r){Ur(e,t,n,r)})),Ds=ro((function(e,t){var n={};if(null==e)return n;var r=!1;t=Ot(t,(function(t){return t=bi(t,e),r||(r=t.length>1),t})),Oi(e,oo(e),n),r&&(n=cr(n,7,to));for(var i=t.length;i--;)hi(n,t[i]);return n}));var $s=ro((function(e,t){return null==e?{}:function(e,t){return zr(e,t,(function(t,n){return As(e,n)}))}(e,t)}));function js(e,t){if(null==e)return{};var n=Ot(oo(e),(function(e){return[e]}));return t=co(t),zr(e,n,(function(e,n){return t(e,n[0])}))}var Bs=Xi(ks),Vs=Xi(Ms);function Hs(e){return null==e?[]:Qt(e,ks(e))}var Us=Di((function(e,t,n){return t=t.toLowerCase(),e+(n?Ws(t):t)}));function Ws(e){return Js(bs(e).toLowerCase())}function Gs(e){return(e=bs(e))&&e.replace(ye,tn).replace(Xe,"")}var zs=Di((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),qs=Di((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ys=Fi("toLowerCase");var Ks=Di((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Qs=Di((function(e,t,n){return e+(n?" ":"")+Js(t)}));var Xs=Di((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Js=Fi("toUpperCase");function Zs(e,t,r){return e=bs(e),(t=r?n:t)===n?function(e){return tt.test(e)}(e)?function(e){return e.match(Ze)||[]}(e):function(e){return e.match(ce)||[]}(e):e.match(t)||[]}var eu=Xr((function(e,t){try{return St(e,n,t)}catch(r){return Ja(r)?r:new Se(r)}})),tu=ro((function(e,t){return xt(t,(function(t){t=jo(t),ar(e,t,Oa(e[t],e))})),e}));function nu(e){return function(){return e}}var ru=Bi(),iu=Bi(!0);function ou(e){return e}function au(e){return Fr("function"==typeof e?e:cr(e,1))}var su=Xr((function(e,t){return function(n){return Or(n,e,t)}})),uu=Xr((function(e,t){return function(n){return Or(e,n,t)}}));function cu(e,t,n){var r=ks(t),i=Sr(t,r);null!=n||ns(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Sr(t,ks(t)));var o=!(ns(n)&&"chain"in n&&!n.chain),a=Za(e);return xt(i,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=Ii(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Nt([this.value()],arguments))})})),e}function lu(){}var fu=Wi(Ot),hu=Wi(Rt),du=Wi(Lt);function pu(e){return Co(e)?Ut(jo(e)):function(e){return function(t){return wr(t,e)}}(e)}var vu=zi(),gu=zi(!0);function _u(){return[]}function mu(){return!1}var yu=Ui((function(e,t){return e+t}),0),bu=Ki("ceil"),Eu=Ui((function(e,t){return e/t}),1),Cu=Ki("floor");var Su,wu=Ui((function(e,t){return e*t}),1),xu=Ki("round"),Tu=Ui((function(e,t){return e-t}),0);return Vn.after=function(e,t){if("function"!=typeof t)throw new Ae(r);return e=gs(e),function(){if(--e<1)return t.apply(this,arguments)}},Vn.ary=Aa,Vn.assign=Es,Vn.assignIn=Cs,Vn.assignInWith=Ss,Vn.assignWith=ws,Vn.at=xs,Vn.before=Ia,Vn.bind=Oa,Vn.bindAll=tu,Vn.bindKey=Na,Vn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return za(e)?e:[e]},Vn.chain=pa,Vn.chunk=function(e,t,r){t=(r?Eo(e,t,r):t===n)?1:yn(gs(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var o=0,a=0,s=oe(vt(i/t));o<i;)s[a++]=ii(e,o,o+=t);return s},Vn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},Vn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=oe(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return Nt(za(n)?Ii(n):[n],mr(t,1))},Vn.cond=function(e){var t=null==e?0:e.length,n=co();return e=t?Ot(e,(function(e){if("function"!=typeof e[1])throw new Ae(r);return[n(e[0]),e[1]]})):[],Xr((function(n){for(var r=-1;++r<t;){var i=e[r];if(St(i[0],this,n))return St(i[1],this,n)}}))},Vn.conforms=function(e){return function(e){var t=ks(e);return function(n){return lr(n,e,t)}}(cr(e,1))},Vn.constant=nu,Vn.countBy=_a,Vn.create=function(e,t){var n=Hn(e);return null==t?n:or(n,t)},Vn.curry=function e(t,r,i){var o=Ji(t,8,n,n,n,n,n,r=i?n:r);return o.placeholder=e.placeholder,o},Vn.curryRight=function e(t,r,i){var o=Ji(t,a,n,n,n,n,n,r=i?n:r);return o.placeholder=e.placeholder,o},Vn.debounce=ka,Vn.defaults=Ts,Vn.defaultsDeep=Rs,Vn.defer=Ma,Vn.delay=La,Vn.difference=Ho,Vn.differenceBy=Uo,Vn.differenceWith=Wo,Vn.drop=function(e,t,r){var i=null==e?0:e.length;return i?ii(e,(t=r||t===n?1:gs(t))<0?0:t,i):[]},Vn.dropRight=function(e,t,r){var i=null==e?0:e.length;return i?ii(e,0,(t=i-(t=r||t===n?1:gs(t)))<0?0:t):[]},Vn.dropRightWhile=function(e,t){return e&&e.length?pi(e,co(t,3),!0,!0):[]},Vn.dropWhile=function(e,t){return e&&e.length?pi(e,co(t,3),!0):[]},Vn.fill=function(e,t,r,i){var o=null==e?0:e.length;return o?(r&&"number"!=typeof r&&Eo(e,t,r)&&(r=0,i=o),function(e,t,r,i){var o=e.length;for((r=gs(r))<0&&(r=-r>o?0:o+r),(i=i===n||i>o?o:gs(i))<0&&(i+=o),i=r>i?0:_s(i);r<i;)e[r++]=t;return e}(e,t,r,i)):[]},Vn.filter=function(e,t){return(za(e)?Pt:_r)(e,co(t,3))},Vn.flatMap=function(e,t){return mr(xa(e,t),1)},Vn.flatMapDeep=function(e,t){return mr(xa(e,t),f)},Vn.flatMapDepth=function(e,t,r){return r=r===n?1:gs(r),mr(xa(e,t),r)},Vn.flatten=qo,Vn.flattenDeep=function(e){return(null==e?0:e.length)?mr(e,f):[]},Vn.flattenDepth=function(e,t){return(null==e?0:e.length)?mr(e,t=t===n?1:gs(t)):[]},Vn.flip=function(e){return Ji(e,512)},Vn.flow=ru,Vn.flowRight=iu,Vn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Vn.functions=function(e){return null==e?[]:Sr(e,ks(e))},Vn.functionsIn=function(e){return null==e?[]:Sr(e,Ms(e))},Vn.groupBy=Ca,Vn.initial=function(e){return(null==e?0:e.length)?ii(e,0,-1):[]},Vn.intersection=Ko,Vn.intersectionBy=Qo,Vn.intersectionWith=Xo,Vn.invert=Is,Vn.invertBy=Os,Vn.invokeMap=Sa,Vn.iteratee=au,Vn.keyBy=wa,Vn.keys=ks,Vn.keysIn=Ms,Vn.map=xa,Vn.mapKeys=function(e,t){var n={};return t=co(t,3),Er(e,(function(e,r,i){ar(n,t(e,r,i),e)})),n},Vn.mapValues=function(e,t){var n={};return t=co(t,3),Er(e,(function(e,r,i){ar(n,r,t(e,r,i))})),n},Vn.matches=function(e){return Vr(cr(e,1))},Vn.matchesProperty=function(e,t){return Hr(e,cr(t,1))},Vn.memoize=Fa,Vn.merge=Ls,Vn.mergeWith=Fs,Vn.method=su,Vn.methodOf=uu,Vn.mixin=cu,Vn.negate=Da,Vn.nthArg=function(e){return e=gs(e),Xr((function(t){return Wr(t,e)}))},Vn.omit=Ds,Vn.omitBy=function(e,t){return js(e,Da(co(t)))},Vn.once=function(e){return Ia(2,e)},Vn.orderBy=function(e,t,r,i){return null==e?[]:(za(t)||(t=null==t?[]:[t]),za(r=i?n:r)||(r=null==r?[]:[r]),Gr(e,t,r))},Vn.over=fu,Vn.overArgs=$a,Vn.overEvery=hu,Vn.overSome=du,Vn.partial=ja,Vn.partialRight=Ba,Vn.partition=Ta,Vn.pick=$s,Vn.pickBy=js,Vn.property=pu,Vn.propertyOf=function(e){return function(t){return null==e?n:wr(e,t)}},Vn.pull=Zo,Vn.pullAll=ea,Vn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?qr(e,t,co(n,2)):e},Vn.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?qr(e,t,n,r):e},Vn.pullAt=ta,Vn.range=vu,Vn.rangeRight=gu,Vn.rearg=Va,Vn.reject=function(e,t){return(za(e)?Pt:_r)(e,Da(co(t,3)))},Vn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=co(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Yr(e,i),n},Vn.rest=function(e,t){if("function"!=typeof e)throw new Ae(r);return Xr(e,t=t===n?t:gs(t))},Vn.reverse=na,Vn.sampleSize=function(e,t,r){return t=(r?Eo(e,t,r):t===n)?1:gs(t),(za(e)?Zn:Zr)(e,t)},Vn.set=function(e,t,n){return null==e?e:ei(e,t,n)},Vn.setWith=function(e,t,r,i){return i="function"==typeof i?i:n,null==e?e:ei(e,t,r,i)},Vn.shuffle=function(e){return(za(e)?er:ri)(e)},Vn.slice=function(e,t,r){var i=null==e?0:e.length;return i?(r&&"number"!=typeof r&&Eo(e,t,r)?(t=0,r=i):(t=null==t?0:gs(t),r=r===n?i:gs(r)),ii(e,t,r)):[]},Vn.sortBy=Ra,Vn.sortedUniq=function(e){return e&&e.length?ui(e):[]},Vn.sortedUniqBy=function(e,t){return e&&e.length?ui(e,co(t,2)):[]},Vn.split=function(e,t,r){return r&&"number"!=typeof r&&Eo(e,t,r)&&(t=r=n),(r=r===n?p:r>>>0)?(e=bs(e))&&("string"==typeof t||null!=t&&!ss(t))&&!(t=li(t))&&on(e)?Ci(hn(e),0,r):e.split(t,r):[]},Vn.spread=function(e,t){if("function"!=typeof e)throw new Ae(r);return t=null==t?0:yn(gs(t),0),Xr((function(n){var r=n[t],i=Ci(n,0,t);return r&&Nt(i,r),St(e,this,i)}))},Vn.tail=function(e){var t=null==e?0:e.length;return t?ii(e,1,t):[]},Vn.take=function(e,t,r){return e&&e.length?ii(e,0,(t=r||t===n?1:gs(t))<0?0:t):[]},Vn.takeRight=function(e,t,r){var i=null==e?0:e.length;return i?ii(e,(t=i-(t=r||t===n?1:gs(t)))<0?0:t,i):[]},Vn.takeRightWhile=function(e,t){return e&&e.length?pi(e,co(t,3),!1,!0):[]},Vn.takeWhile=function(e,t){return e&&e.length?pi(e,co(t,3)):[]},Vn.tap=function(e,t){return t(e),e},Vn.throttle=function(e,t,n){var i=!0,o=!0;if("function"!=typeof e)throw new Ae(r);return ns(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),ka(e,t,{leading:i,maxWait:t,trailing:o})},Vn.thru=va,Vn.toArray=ps,Vn.toPairs=Bs,Vn.toPairsIn=Vs,Vn.toPath=function(e){return za(e)?Ot(e,jo):ls(e)?[e]:Ii($o(bs(e)))},Vn.toPlainObject=ys,Vn.transform=function(e,t,n){var r=za(e),i=r||Qa(e)||fs(e);if(t=co(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:ns(e)&&Za(o)?Hn(ze(e)):{}}return(i?xt:Er)(e,(function(e,r,i){return t(n,e,r,i)})),n},Vn.unary=function(e){return Aa(e,1)},Vn.union=ra,Vn.unionBy=ia,Vn.unionWith=oa,Vn.uniq=function(e){return e&&e.length?fi(e):[]},Vn.uniqBy=function(e,t){return e&&e.length?fi(e,co(t,2)):[]},Vn.uniqWith=function(e,t){return t="function"==typeof t?t:n,e&&e.length?fi(e,n,t):[]},Vn.unset=function(e,t){return null==e||hi(e,t)},Vn.unzip=aa,Vn.unzipWith=sa,Vn.update=function(e,t,n){return null==e?e:di(e,t,yi(n))},Vn.updateWith=function(e,t,r,i){return i="function"==typeof i?i:n,null==e?e:di(e,t,yi(r),i)},Vn.values=Hs,Vn.valuesIn=function(e){return null==e?[]:Qt(e,Ms(e))},Vn.without=ua,Vn.words=Zs,Vn.wrap=function(e,t){return ja(yi(t),e)},Vn.xor=ca,Vn.xorBy=la,Vn.xorWith=fa,Vn.zip=ha,Vn.zipObject=function(e,t){return _i(e||[],t||[],nr)},Vn.zipObjectDeep=function(e,t){return _i(e||[],t||[],ei)},Vn.zipWith=da,Vn.entries=Bs,Vn.entriesIn=Vs,Vn.extend=Cs,Vn.extendWith=Ss,cu(Vn,Vn),Vn.add=yu,Vn.attempt=eu,Vn.camelCase=Us,Vn.capitalize=Ws,Vn.ceil=bu,Vn.clamp=function(e,t,r){return r===n&&(r=t,t=n),r!==n&&(r=(r=ms(r))==r?r:0),t!==n&&(t=(t=ms(t))==t?t:0),ur(ms(e),t,r)},Vn.clone=function(e){return cr(e,4)},Vn.cloneDeep=function(e){return cr(e,5)},Vn.cloneDeepWith=function(e,t){return cr(e,5,t="function"==typeof t?t:n)},Vn.cloneWith=function(e,t){return cr(e,4,t="function"==typeof t?t:n)},Vn.conformsTo=function(e,t){return null==t||lr(e,t,ks(t))},Vn.deburr=Gs,Vn.defaultTo=function(e,t){return null==e||e!=e?t:e},Vn.divide=Eu,Vn.endsWith=function(e,t,r){e=bs(e),t=li(t);var i=e.length,o=r=r===n?i:ur(gs(r),0,i);return(r-=t.length)>=0&&e.slice(r,o)==t},Vn.eq=Ha,Vn.escape=function(e){return(e=bs(e))&&K.test(e)?e.replace(q,nn):e},Vn.escapeRegExp=function(e){return(e=bs(e))&&re.test(e)?e.replace(ne,"\\$&"):e},Vn.every=function(e,t,r){var i=za(e)?Rt:vr;return r&&Eo(e,t,r)&&(t=n),i(e,co(t,3))},Vn.find=ma,Vn.findIndex=Go,Vn.findKey=function(e,t){return Dt(e,co(t,3),Er)},Vn.findLast=ya,Vn.findLastIndex=zo,Vn.findLastKey=function(e,t){return Dt(e,co(t,3),Cr)},Vn.floor=Cu,Vn.forEach=ba,Vn.forEachRight=Ea,Vn.forIn=function(e,t){return null==e?e:yr(e,co(t,3),Ms)},Vn.forInRight=function(e,t){return null==e?e:br(e,co(t,3),Ms)},Vn.forOwn=function(e,t){return e&&Er(e,co(t,3))},Vn.forOwnRight=function(e,t){return e&&Cr(e,co(t,3))},Vn.get=Ps,Vn.gt=Ua,Vn.gte=Wa,Vn.has=function(e,t){return null!=e&&_o(e,t,Pr)},Vn.hasIn=As,Vn.head=Yo,Vn.identity=ou,Vn.includes=function(e,t,n,r){e=Ya(e)?e:Hs(e),n=n&&!r?gs(n):0;var i=e.length;return n<0&&(n=yn(i+n,0)),cs(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&jt(e,t,n)>-1},Vn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:gs(n);return i<0&&(i=yn(r+i,0)),jt(e,t,i)},Vn.inRange=function(e,t,r){return t=vs(t),r===n?(r=t,t=0):r=vs(r),function(e,t,n){return e>=bn(t,n)&&e<yn(t,n)}(e=ms(e),t,r)},Vn.invoke=Ns,Vn.isArguments=Ga,Vn.isArray=za,Vn.isArrayBuffer=qa,Vn.isArrayLike=Ya,Vn.isArrayLikeObject=Ka,Vn.isBoolean=function(e){return!0===e||!1===e||rs(e)&&Tr(e)==m},Vn.isBuffer=Qa,Vn.isDate=Xa,Vn.isElement=function(e){return rs(e)&&1===e.nodeType&&!as(e)},Vn.isEmpty=function(e){if(null==e)return!0;if(Ya(e)&&(za(e)||"string"==typeof e||"function"==typeof e.splice||Qa(e)||fs(e)||Ga(e)))return!e.length;var t=go(e);if(t==S||t==P)return!e.size;if(xo(e))return!Dr(e).length;for(var n in e)if(Le.call(e,n))return!1;return!0},Vn.isEqual=function(e,t){return kr(e,t)},Vn.isEqualWith=function(e,t,r){var i=(r="function"==typeof r?r:n)?r(e,t):n;return i===n?kr(e,t,n,r):!!i},Vn.isError=Ja,Vn.isFinite=function(e){return"number"==typeof e&&gn(e)},Vn.isFunction=Za,Vn.isInteger=es,Vn.isLength=ts,Vn.isMap=is,Vn.isMatch=function(e,t){return e===t||Mr(e,t,fo(t))},Vn.isMatchWith=function(e,t,r){return r="function"==typeof r?r:n,Mr(e,t,fo(t),r)},Vn.isNaN=function(e){return os(e)&&e!=+e},Vn.isNative=function(e){if(wo(e))throw new Se("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Lr(e)},Vn.isNil=function(e){return null==e},Vn.isNull=function(e){return null===e},Vn.isNumber=os,Vn.isObject=ns,Vn.isObjectLike=rs,Vn.isPlainObject=as,Vn.isRegExp=ss,Vn.isSafeInteger=function(e){return es(e)&&e>=-9007199254740991&&e<=h},Vn.isSet=us,Vn.isString=cs,Vn.isSymbol=ls,Vn.isTypedArray=fs,Vn.isUndefined=function(e){return e===n},Vn.isWeakMap=function(e){return rs(e)&&go(e)==O},Vn.isWeakSet=function(e){return rs(e)&&"[object WeakSet]"==Tr(e)},Vn.join=function(e,t){return null==e?"":_n.call(e,t)},Vn.kebabCase=zs,Vn.last=Jo,Vn.lastIndexOf=function(e,t,r){var i=null==e?0:e.length;if(!i)return-1;var o=i;return r!==n&&(o=(o=gs(r))<0?yn(i+o,0):bn(o,i-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):$t(e,Vt,o,!0)},Vn.lowerCase=qs,Vn.lowerFirst=Ys,Vn.lt=hs,Vn.lte=ds,Vn.max=function(e){return e&&e.length?gr(e,ou,Rr):n},Vn.maxBy=function(e,t){return e&&e.length?gr(e,co(t,2),Rr):n},Vn.mean=function(e){return Ht(e,ou)},Vn.meanBy=function(e,t){return Ht(e,co(t,2))},Vn.min=function(e){return e&&e.length?gr(e,ou,jr):n},Vn.minBy=function(e,t){return e&&e.length?gr(e,co(t,2),jr):n},Vn.stubArray=_u,Vn.stubFalse=mu,Vn.stubObject=function(){return{}},Vn.stubString=function(){return""},Vn.stubTrue=function(){return!0},Vn.multiply=wu,Vn.nth=function(e,t){return e&&e.length?Wr(e,gs(t)):n},Vn.noConflict=function(){return ft._===this&&(ft._=Be),this},Vn.noop=lu,Vn.now=Pa,Vn.pad=function(e,t,n){e=bs(e);var r=(t=gs(t))?fn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Gi(gt(i),n)+e+Gi(vt(i),n)},Vn.padEnd=function(e,t,n){e=bs(e);var r=(t=gs(t))?fn(e):0;return t&&r<t?e+Gi(t-r,n):e},Vn.padStart=function(e,t,n){e=bs(e);var r=(t=gs(t))?fn(e):0;return t&&r<t?Gi(t-r,n)+e:e},Vn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),Cn(bs(e).replace(ie,""),t||0)},Vn.random=function(e,t,r){if(r&&"boolean"!=typeof r&&Eo(e,t,r)&&(t=r=n),r===n&&("boolean"==typeof t?(r=t,t=n):"boolean"==typeof e&&(r=e,e=n)),e===n&&t===n?(e=0,t=1):(e=vs(e),t===n?(t=e,e=0):t=vs(t)),e>t){var i=e;e=t,t=i}if(r||e%1||t%1){var o=Sn();return bn(e+o*(t-e+st("1e-"+((o+"").length-1))),t)}return Kr(e,t)},Vn.reduce=function(e,t,n){var r=za(e)?kt:Gt,i=arguments.length<3;return r(e,co(t,4),n,i,dr)},Vn.reduceRight=function(e,t,n){var r=za(e)?Mt:Gt,i=arguments.length<3;return r(e,co(t,4),n,i,pr)},Vn.repeat=function(e,t,r){return t=(r?Eo(e,t,r):t===n)?1:gs(t),Qr(bs(e),t)},Vn.replace=function(){var e=arguments,t=bs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Vn.result=function(e,t,r){var i=-1,o=(t=bi(t,e)).length;for(o||(o=1,e=n);++i<o;){var a=null==e?n:e[jo(t[i])];a===n&&(i=o,a=r),e=Za(a)?a.call(e):a}return e},Vn.round=xu,Vn.runInContext=e,Vn.sample=function(e){return(za(e)?Jn:Jr)(e)},Vn.size=function(e){if(null==e)return 0;if(Ya(e))return cs(e)?fn(e):e.length;var t=go(e);return t==S||t==P?e.size:Dr(e).length},Vn.snakeCase=Ks,Vn.some=function(e,t,r){var i=za(e)?Lt:oi;return r&&Eo(e,t,r)&&(t=n),i(e,co(t,3))},Vn.sortedIndex=function(e,t){return ai(e,t)},Vn.sortedIndexBy=function(e,t,n){return si(e,t,co(n,2))},Vn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ai(e,t);if(r<n&&Ha(e[r],t))return r}return-1},Vn.sortedLastIndex=function(e,t){return ai(e,t,!0)},Vn.sortedLastIndexBy=function(e,t,n){return si(e,t,co(n,2),!0)},Vn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=ai(e,t,!0)-1;if(Ha(e[n],t))return n}return-1},Vn.startCase=Qs,Vn.startsWith=function(e,t,n){return e=bs(e),n=null==n?0:ur(gs(n),0,e.length),t=li(t),e.slice(n,n+t.length)==t},Vn.subtract=Tu,Vn.sum=function(e){return e&&e.length?zt(e,ou):0},Vn.sumBy=function(e,t){return e&&e.length?zt(e,co(t,2)):0},Vn.template=function(e,t,r){var i=Vn.templateSettings;r&&Eo(e,t,r)&&(t=n),e=bs(e),t=Ss({},t,i,Zi);var o,a,s=Ss({},t.imports,i.imports,Zi),u=ks(s),c=Qt(s,u),l=0,f=t.interpolate||be,h="__p += '",d=Re((t.escape||be).source+"|"+f.source+"|"+(f===J?he:be).source+"|"+(t.evaluate||be).source+"|$","g"),p="//# sourceURL="+(Le.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++rt+"]")+"\n";e.replace(d,(function(t,n,r,i,s,u){return r||(r=i),h+=e.slice(l,u).replace(Ee,rn),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),s&&(a=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+t.length,t})),h+="';\n";var v=Le.call(t,"variable")&&t.variable;if(v){if(le.test(v))throw new Se("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(a?h.replace(U,""):h).replace(W,"$1").replace(G,"$1;"),h="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=eu((function(){return we(u,p+"return "+h).apply(n,c)}));if(g.source=h,Ja(g))throw g;return g},Vn.times=function(e,t){if((e=gs(e))<1||e>h)return[];var n=p,r=bn(e,p);t=co(t),e-=p;for(var i=qt(r,t);++n<e;)t(n);return i},Vn.toFinite=vs,Vn.toInteger=gs,Vn.toLength=_s,Vn.toLower=function(e){return bs(e).toLowerCase()},Vn.toNumber=ms,Vn.toSafeInteger=function(e){return e?ur(gs(e),-9007199254740991,h):0===e?e:0},Vn.toString=bs,Vn.toUpper=function(e){return bs(e).toUpperCase()},Vn.trim=function(e,t,r){if((e=bs(e))&&(r||t===n))return Yt(e);if(!e||!(t=li(t)))return e;var i=hn(e),o=hn(t);return Ci(i,Jt(i,o),Zt(i,o)+1).join("")},Vn.trimEnd=function(e,t,r){if((e=bs(e))&&(r||t===n))return e.slice(0,dn(e)+1);if(!e||!(t=li(t)))return e;var i=hn(e);return Ci(i,0,Zt(i,hn(t))+1).join("")},Vn.trimStart=function(e,t,r){if((e=bs(e))&&(r||t===n))return e.replace(ie,"");if(!e||!(t=li(t)))return e;var i=hn(e);return Ci(i,Jt(i,hn(t))).join("")},Vn.truncate=function(e,t){var r=30,i="...";if(ns(t)){var o="separator"in t?t.separator:o;r="length"in t?gs(t.length):r,i="omission"in t?li(t.omission):i}var a=(e=bs(e)).length;if(on(e)){var s=hn(e);a=s.length}if(r>=a)return e;var u=r-fn(i);if(u<1)return i;var c=s?Ci(s,0,u).join(""):e.slice(0,u);if(o===n)return c+i;if(s&&(u+=c.length-u),ss(o)){if(e.slice(u).search(o)){var l,f=c;for(o.global||(o=Re(o.source,bs(de.exec(o))+"g")),o.lastIndex=0;l=o.exec(f);)var h=l.index;c=c.slice(0,h===n?u:h)}}else if(e.indexOf(li(o),u)!=u){var d=c.lastIndexOf(o);d>-1&&(c=c.slice(0,d))}return c+i},Vn.unescape=function(e){return(e=bs(e))&&Y.test(e)?e.replace(z,pn):e},Vn.uniqueId=function(e){var t=++Fe;return bs(e)+t},Vn.upperCase=Xs,Vn.upperFirst=Js,Vn.each=ba,Vn.eachRight=Ea,Vn.first=Yo,cu(Vn,(Su={},Er(Vn,(function(e,t){Le.call(Vn.prototype,t)||(Su[t]=e)})),Su),{chain:!1}),Vn.VERSION="4.17.21",xt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Vn[e].placeholder=Vn})),xt(["drop","take"],(function(e,t){Gn.prototype[e]=function(r){r=r===n?1:yn(gs(r),0);var i=this.__filtered__&&!t?new Gn(this):this.clone();return i.__filtered__?i.__takeCount__=bn(r,i.__takeCount__):i.__views__.push({size:bn(r,p),type:e+(i.__dir__<0?"Right":"")}),i},Gn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),xt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Gn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:co(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),xt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Gn.prototype[e]=function(){return this[n](1).value()[0]}})),xt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Gn.prototype[e]=function(){return this.__filtered__?new Gn(this):this[n](1)}})),Gn.prototype.compact=function(){return this.filter(ou)},Gn.prototype.find=function(e){return this.filter(e).head()},Gn.prototype.findLast=function(e){return this.reverse().find(e)},Gn.prototype.invokeMap=Xr((function(e,t){return"function"==typeof e?new Gn(this):this.map((function(n){return Or(n,e,t)}))})),Gn.prototype.reject=function(e){return this.filter(Da(co(e)))},Gn.prototype.slice=function(e,t){e=gs(e);var r=this;return r.__filtered__&&(e>0||t<0)?new Gn(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==n&&(r=(t=gs(t))<0?r.dropRight(-t):r.take(t-e)),r)},Gn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Gn.prototype.toArray=function(){return this.take(p)},Er(Gn.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),o=Vn[i?"take"+("last"==t?"Right":""):t],a=i||/^find/.test(t);o&&(Vn.prototype[t]=function(){var t=this.__wrapped__,s=i?[1]:arguments,u=t instanceof Gn,c=s[0],l=u||za(t),f=function(e){var t=o.apply(Vn,Nt([e],s));return i&&h?t[0]:t};l&&r&&"function"==typeof c&&1!=c.length&&(u=l=!1);var h=this.__chain__,d=!!this.__actions__.length,p=a&&!h,v=u&&!d;if(!a&&l){t=v?t:new Gn(this);var g=e.apply(t,s);return g.__actions__.push({func:va,args:[f],thisArg:n}),new Wn(g,h)}return p&&v?e.apply(this,s):(g=this.thru(f),p?i?g.value()[0]:g.value():g)})})),xt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ie[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Vn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(za(i)?i:[],e)}return this[n]((function(n){return t.apply(za(n)?n:[],e)}))}})),Er(Gn.prototype,(function(e,t){var n=Vn[t];if(n){var r=n.name+"";Le.call(Nn,r)||(Nn[r]=[]),Nn[r].push({name:t,func:n})}})),Nn[Vi(n,2).name]=[{name:"wrapper",func:n}],Gn.prototype.clone=function(){var e=new Gn(this.__wrapped__);return e.__actions__=Ii(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ii(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ii(this.__views__),e},Gn.prototype.reverse=function(){if(this.__filtered__){var e=new Gn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Gn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=za(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=bn(t,e+a);break;case"takeRight":e=yn(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,f=l.length,h=0,d=bn(u,this.__takeCount__);if(!n||!r&&i==u&&d==u)return vi(e,this.__actions__);var p=[];e:for(;u--&&h<d;){for(var v=-1,g=e[c+=t];++v<f;){var _=l[v],m=_.iteratee,y=_.type,b=m(g);if(2==y)g=b;else if(!b){if(1==y)continue e;break e}}p[h++]=g}return p},Vn.prototype.at=ga,Vn.prototype.chain=function(){return pa(this)},Vn.prototype.commit=function(){return new Wn(this.value(),this.__chain__)},Vn.prototype.next=function(){this.__values__===n&&(this.__values__=ps(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?n:this.__values__[this.__index__++]}},Vn.prototype.plant=function(e){for(var t,r=this;r instanceof Un;){var i=Vo(r);i.__index__=0,i.__values__=n,t?o.__wrapped__=i:t=i;var o=i;r=r.__wrapped__}return o.__wrapped__=e,t},Vn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Gn){var t=e;return this.__actions__.length&&(t=new Gn(this)),(t=t.reverse()).__actions__.push({func:va,args:[na],thisArg:n}),new Wn(t,this.__chain__)}return this.thru(na)},Vn.prototype.toJSON=Vn.prototype.valueOf=Vn.prototype.value=function(){return vi(this.__wrapped__,this.__actions__)},Vn.prototype.first=Vn.prototype.head,et&&(Vn.prototype[et]=function(){return this}),Vn}();dt?((dt.exports=vn)._=vn,ht._=vn):ft._=vn}).call(commonjsGlobal)}))),_extendStatics=function(e,t){return(_extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};
/*! *****************************************************************************
            Copyright (c) Microsoft Corporation.

            Permission to use, copy, modify, and/or distribute this software for any
            purpose with or without fee is hereby granted.

            THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
            REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
            AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
            INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
            LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
            OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
            PERFORMANCE OF THIS SOFTWARE.
            ***************************************************************************** */function __extends(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}_extendStatics(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function __awaiter(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function __generator(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function __values(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(error){i={error:error}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function __spreadArray(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||t)}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var CONSTANTS={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},assert=function(e,t){if(!e)throw assertionError(t)},assertionError=function(e){return new Error("Firebase Database ("+CONSTANTS.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},stringToByteArray=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},byteArrayToString=function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,f=(3&o)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(stringToByteArray(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):byteArrayToString(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},base64Encode=function(e){var t=stringToByteArray(e);return base64.encodeByteArray(t,!0)},base64Decode=function(e){try{return base64.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function deepCopy(e){return deepExtend(void 0,e)}function deepExtend(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&isValidKey(n)&&(e[n]=deepExtend(e[n],t[n]));return e}function isValidKey(e){return"__proto__"!==e}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var Deferred=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function getUA(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function isMobileCordova(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())}function isReactNative(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function isNodeSdk(){return!0===CONSTANTS.NODE_ADMIN}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var ERROR_NAME="FirebaseError",FirebaseError=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name=ERROR_NAME,Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,ErrorFactory.prototype.create),o}return __extends(t,e),t}(Error),ErrorFactory=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?replaceTemplate(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new FirebaseError(i,s,r);return u},e}();function replaceTemplate(e,t){return e.replace(PATTERN,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var PATTERN=/\{\$([^}]+)}/g;
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function jsonEval(e){return JSON.parse(e)}function stringify(e){return JSON.stringify(e)}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var decode$1=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=jsonEval(base64Decode(o[0])||""),n=jsonEval(base64Decode(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:t,claims:n,data:r,signature:i}},isValidFormat=function(e){var t=decode$1(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},isAdmin=function(e){var t=decode$1(e).claims;return"object"==typeof t&&!0===t.admin};
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function contains(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function safeGet(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function isEmpty(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function map(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function querystring(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var Sha1=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"==typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+f+a+n[r]&4294967295;f=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function errorPrefix(e,t){return e+" failed: "+t+" argument "}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var stringToByteArray$1=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,assert(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},stringLength=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};
/**
             * @license
             * Copyright 2021 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function getModularInstance(e){return e&&e._delegate?e._delegate:e}var Component=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),DEFAULT_ENTRY_NAME="[DEFAULT]",Provider=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new Deferred;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(isComponentEager(e))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME})}catch(l){}try{for(var r=__values(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=__read(i.value,2),a=o[0],s=o[1],u=this.normalizeInstanceIdentifier(a);try{var c=this.getOrInitializeService({instanceIdentifier:u});s.resolve(c)}catch(l){}}}catch(f){t={error:f}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=DEFAULT_ENTRY_NAME),this.instancesDeferred.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return __awaiter(this,void 0,void 0,(function(){var e;return __generator(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all(__spreadArray(__spreadArray([],__read(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),__read(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=DEFAULT_ENTRY_NAME),this.instances.has(e)},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var r=e.options,i=void 0===r?{}:r,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:i});try{for(var s=__values(this.instancesDeferred.entries()),u=s.next();!u.done;u=s.next()){var c=__read(u.value,2),l=c[0],f=c[1];o===this.normalizeInstanceIdentifier(l)&&f.resolve(a)}}catch(h){t={error:h}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return this.invokeOnInitCallbacks(a,o),a},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,r,i=this.onInitCallbacks.get(t);if(i)try{for(var o=__values(i),a=o.next();!a.done;a=o.next()){var s=a.value;try{s(e,t)}catch(u){}}}catch(c){n={error:c}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t=e.instanceIdentifier,n=e.options,r=void 0===n?{}:n,i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(t),options:r}),this.instances.set(t,i),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch(o){}return i||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=DEFAULT_ENTRY_NAME),this.component?this.component.multipleInstances?e:DEFAULT_ENTRY_NAME:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function normalizeIdentifierForFactory(e){return e===DEFAULT_ENTRY_NAME?void 0:e}function isComponentEager(e){return"EAGER"===e.instantiationMode}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var ComponentContainer=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Provider(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}(),_a,LogLevel;
/*! *****************************************************************************
            Copyright (c) Microsoft Corporation. All rights reserved.
            Licensed under the Apache License, Version 2.0 (the "License"); you may not use
            this file except in compliance with the License. You may obtain a copy of the
            License at http://www.apache.org/licenses/LICENSE-2.0

            THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
            KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
            WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
            MERCHANTABLITY OR NON-INFRINGEMENT.

            See the Apache Version 2.0 License for specific language governing permissions
            and limitations under the License.
            ***************************************************************************** */function __spreadArrays(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(LogLevel||(LogLevel={}));var levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod=(_a={},_a[LogLevel.DEBUG]="log",_a[LogLevel.VERBOSE]="log",_a[LogLevel.INFO]="info",_a[LogLevel.WARN]="warn",_a[LogLevel.ERROR]="error",_a),defaultLogHandler=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(t<e.logLevel)){var i=(new Date).toISOString(),o=ConsoleMethod[t];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[o].apply(console,__spreadArrays(["["+i+"]  "+e.name+":"],n))}},Logger=function(){function e(e){this.name=e,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in LogLevel))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"==typeof e?levelStringToEnum[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,__spreadArrays([this,LogLevel.DEBUG],e)),this._logHandler.apply(this,__spreadArrays([this,LogLevel.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,__spreadArrays([this,LogLevel.VERBOSE],e)),this._logHandler.apply(this,__spreadArrays([this,LogLevel.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,__spreadArrays([this,LogLevel.INFO],e)),this._logHandler.apply(this,__spreadArrays([this,LogLevel.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,__spreadArrays([this,LogLevel.WARN],e)),this._logHandler.apply(this,__spreadArrays([this,LogLevel.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,__spreadArrays([this,LogLevel.ERROR],e)),this._logHandler.apply(this,__spreadArrays([this,LogLevel.ERROR],e))},e}(),PlatformLoggerServiceImpl=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(isVersionServiceProvider(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();function isVersionServiceProvider(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}var name$o="@firebase/app-exp",version$1="0.0.900-exp.f43d0c698",logger=new Logger("@firebase/app"),name$n="@firebase/app-compat",name$m="@firebase/analytics-compat",name$l="@firebase/analytics-exp",name$k="@firebase/app-check-compat",name$j="@firebase/app-check-exp",name$i="@firebase/auth-exp",name$h="@firebase/auth-compat",name$g="@firebase/database",name$f="@firebase/database-compat",name$e="@firebase/functions-exp",name$d="@firebase/functions-compat",name$c="@firebase/installations-exp",name$b="@firebase/installations-compat",name$a="@firebase/messaging-exp",name$9="@firebase/messaging-compat",name$8="@firebase/performance-exp",name$7="@firebase/performance-compat",name$6="@firebase/remote-config-exp",name$5="@firebase/remote-config-compat",name$4="@firebase/storage",name$3="@firebase/storage-compat",name$2="@firebase/firestore",name$1="@firebase/firestore-compat",name="firebase-exp",version$2="9.0.0-beta.6",DEFAULT_ENTRY_NAME$1="[DEFAULT]",PLATFORM_LOG_STRING=(_PLATFORM_LOG_STRING={},_PLATFORM_LOG_STRING[name$o]="fire-core",_PLATFORM_LOG_STRING[name$n]="fire-core-compat",_PLATFORM_LOG_STRING[name$l]="fire-analytics",_PLATFORM_LOG_STRING[name$m]="fire-analytics-compat",_PLATFORM_LOG_STRING[name$j]="fire-app-check",_PLATFORM_LOG_STRING[name$k]="fire-app-check-compat",_PLATFORM_LOG_STRING[name$i]="fire-auth",_PLATFORM_LOG_STRING[name$h]="fire-auth-compat",_PLATFORM_LOG_STRING[name$g]="fire-rtdb",_PLATFORM_LOG_STRING[name$f]="fire-rtdb-compat",_PLATFORM_LOG_STRING[name$e]="fire-fn",_PLATFORM_LOG_STRING[name$d]="fire-fn-compat",_PLATFORM_LOG_STRING[name$c]="fire-iid",_PLATFORM_LOG_STRING[name$b]="fire-iid-compat",_PLATFORM_LOG_STRING[name$a]="fire-fcm",_PLATFORM_LOG_STRING[name$9]="fire-fcm-compat",_PLATFORM_LOG_STRING[name$8]="fire-perf",_PLATFORM_LOG_STRING[name$7]="fire-perf-compat",_PLATFORM_LOG_STRING[name$6]="fire-rc",_PLATFORM_LOG_STRING[name$5]="fire-rc-compat",_PLATFORM_LOG_STRING[name$4]="fire-gcs",_PLATFORM_LOG_STRING[name$3]="fire-gcs-compat",_PLATFORM_LOG_STRING[name$2]="fire-fst",_PLATFORM_LOG_STRING[name$1]="fire-fst-compat",_PLATFORM_LOG_STRING["fire-js"]="fire-js",_PLATFORM_LOG_STRING[name]="fire-js-all",_PLATFORM_LOG_STRING),_apps=new Map,_components=new Map;function _addComponent(e,t){try{e.container.addComponent(t)}catch(n){logger.debug("Component "+t.name+" failed to register with FirebaseApp "+e.name,n)}}function _registerComponent(e){var t=e.name;if(_components.has(t))return logger.debug("There were multiple attempts to register component "+t+"."),!1;_components.set(t,e);for(var n,r=_createForOfIteratorHelperLoose(_apps.values());!(n=r()).done;){_addComponent(n.value,e)}return!0}function _getProvider(e,t){return e.container.getProvider(t)}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var ERRORS=(_ERRORS={},_ERRORS["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",_ERRORS["bad-app-name"]="Illegal App name: '{$appName}",_ERRORS["duplicate-app"]="Firebase App named '{$appName}' already exists",_ERRORS["app-deleted"]="Firebase App named '{$appName}' already deleted",_ERRORS["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",_ERRORS["invalid-log-argument"]="First argument to `onLog` must be null or a function.",_ERRORS),ERROR_FACTORY=new ErrorFactory("app","Firebase",ERRORS),FirebaseAppImpl=function(){function e(e,t,n){var r=this;this._isDeleted=!1,this._options=Object.assign({},e),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Component("app-exp",(function(){return r}),"PUBLIC"))}return e.prototype.checkDestroyed=function(){if(this.isDeleted)throw ERROR_FACTORY.create("app-deleted",{appName:this._name})},_createClass2(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}}]),e}(),SDK_VERSION=version$2;function initializeApp(e,t){(void 0===t&&(t={}),"object"!=typeof t)&&(t={name:t});var n=Object.assign({name:DEFAULT_ENTRY_NAME$1,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw ERROR_FACTORY.create("bad-app-name",{appName:String(r)});if(_apps.has(r))throw ERROR_FACTORY.create("duplicate-app",{appName:r});for(var i,o=new ComponentContainer(r),a=_createForOfIteratorHelperLoose(_components.values());!(i=a()).done;){var s=i.value;o.addComponent(s)}var u=new FirebaseAppImpl(e,n,o);return _apps.set(r,u),u}function getApp(e){void 0===e&&(e=DEFAULT_ENTRY_NAME$1);var t=_apps.get(e);if(!t)throw ERROR_FACTORY.create("no-app",{appName:e});return t}function getApps(){return Array.from(_apps.values())}function registerVersion(e,t,n){var r,i=null!==(r=PLATFORM_LOG_STRING[e])&&void 0!==r?r:e;n&&(i+="-"+n);var o=i.match(/\s|\//),a=t.match(/\s|\//);if(o||a){var s=['Unable to register library "'+i+'" with version "'+t+'":'];return o&&s.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),o&&a&&s.push("and"),a&&s.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void logger.warn(s.join(" "))}_registerComponent(new Component(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function registerCoreComponents(e){_registerComponent(new Component("platform-logger",(function(e){return new PlatformLoggerServiceImpl(e)}),"PRIVATE")),registerVersion(name$o,version$1,e),registerVersion("fire-js","")}registerCoreComponents();var name$p="firebase-exp",version$3="9.0.0-beta.6";
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
registerVersion(name$p,version$3,"app");var name$q="@firebase/database",version$4="0.0.900-exp.f43d0c698",SDK_VERSION$1="";function setSDKVersion(e){SDK_VERSION$1=e}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var DOMStorageWrapper=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}var t=e.prototype;return t.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),stringify(t))},t.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:jsonEval(t)},t.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},t.prefixedName_=function(e){return this.prefix_+e},t.toString=function(){return this.domStorage_.toString()},e}(),MemoryStorage=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}var t=e.prototype;return t.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},t.get=function(e){return contains(this.cache_,e)?this.cache_[e]:null},t.remove=function(e){delete this.cache_[e]},e}(),createStoragefor=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new DOMStorageWrapper(t)}}catch(n){}return new MemoryStorage},PersistentStorage=createStoragefor("localStorage"),SessionStorage=createStoragefor("sessionStorage"),logClient=new Logger("@firebase/database"),LUIDGenerator=(id=1,function(){return id++}),id,sha1=function(e){var t=stringToByteArray$1(e),n=new Sha1;n.update(t);var r=n.digest();return base64.encodeByteArray(r)},buildLogMessage_=function e(){for(var t="",n=0;n<arguments.length;n++){var r=n<0||arguments.length<=n?void 0:arguments[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=e.apply(null,r):t+="object"==typeof r?stringify(r):r,t+=" "}return t},logger$1=null,firstLog_=!0,enableLogging$1=function(e,t){assert(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(logClient.logLevel=LogLevel.VERBOSE,logger$1=logClient.log.bind(logClient),t&&SessionStorage.set("logging_enabled",!0)):"function"==typeof e?logger$1=e:(logger$1=null,SessionStorage.remove("logging_enabled"))},log=function(){if(!0===firstLog_&&(firstLog_=!1,null===logger$1&&!0===SessionStorage.get("logging_enabled")&&enableLogging$1(!0)),logger$1){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=buildLogMessage_.apply(null,t);logger$1(r)}},logWrapper=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];log.apply(void 0,[e].concat(n))}},error=function(){var e="FIREBASE INTERNAL ERROR: "+buildLogMessage_.apply(void 0,arguments);logClient.error(e)},fatal=function(){var e="FIREBASE FATAL ERROR: "+buildLogMessage_.apply(void 0,arguments);throw logClient.error(e),new Error(e)},warn$1=function(){var e="FIREBASE WARNING: "+buildLogMessage_.apply(void 0,arguments);logClient.warn(e)},warnIfPageIsSecure=function(){"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&warn$1("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},isInvalidJSONNumber=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},executeWhenDOMReady=function(e){if("complete"===document.readyState)e();else{var t=!1,n=function n(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}},MIN_NAME="[MIN_NAME]",MAX_NAME="[MAX_NAME]",nameCompare=function(e,t){if(e===t)return 0;if(e===MIN_NAME||t===MAX_NAME)return-1;if(t===MIN_NAME||e===MAX_NAME)return 1;var n=tryParseInt(e),r=tryParseInt(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},stringCompare=function(e,t){return e===t?0:e<t?-1:1},requireKey=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+stringify(t))},ObjectToUniqueKey=function e(t){if("object"!=typeof t||null===t)return stringify(t);var n=[];for(var r in t)n.push(r);n.sort();for(var i="{",o=0;o<n.length;o++)0!==o&&(i+=","),i+=stringify(n[o]),i+=":",i+=e(t[n[o]]);return i+="}"},splitStringBySize=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function each(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var doubleToIEEE754String=function(e){assert(!isInvalidJSONNumber(e),"Invalid JSON number");var t,n,r,i,o,a=1023;0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),a))+a,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var s=[];for(o=52;o;o-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();var u=s.join(""),c="";for(o=0;o<64;o+=8){var l=parseInt(u.substr(o,8),2).toString(16);1===l.length&&(l="0"+l),c+=l}return c.toLowerCase()},isChromeExtensionContentScript=function(){return!("object"!=typeof window||!window.chrome||!window.chrome.extension||/^chrome/.test(window.location.href))},isWindowsStoreApp=function(){return"object"==typeof Windows&&"object"==typeof Windows.UI};function errorForServerCode(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}var INTEGER_REGEXP_=new RegExp("^-?(0*)\\d{1,10}$"),INTEGER_32_MIN=-2147483648,INTEGER_32_MAX=2147483647,tryParseInt=function(e){if(INTEGER_REGEXP_.test(e)){var t=Number(e);if(t>=INTEGER_32_MIN&&t<=INTEGER_32_MAX)return t}return null},exceptionGuard=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw warn$1("Exception was thrown by user callback.",e),t}),Math.floor(0))}},beingCrawled=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},setTimeoutNonBlocking=function(e,t){var n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n},AppCheckTokenProvider=function(){function e(e,t){var n=this;this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then((function(e){return n.appCheck=e}))}var t=e.prototype;return t.getToken=function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))},t.addTokenChangeListener=function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))},t.notifyForInvalidToken=function(){warn$1('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}(),FirebaseAuthTokenProvider=function(){function e(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(e){return r.auth_=e}))}var t=e.prototype;return t.getToken=function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(log("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))},t.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))},t.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},t.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',warn$1(e)},e}(),EmulatorTokenProvider=function(){function e(e){this.accessToken=e}var t=e.prototype;return t.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},t.addTokenChangeListener=function(e){e(this.accessToken)},t.removeTokenChangeListener=function(e){},t.notifyForInvalidToken=function(){},e}();EmulatorTokenProvider.OWNER="owner";
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
var PROTOCOL_VERSION="5",VERSION_PARAM="v",TRANSPORT_SESSION_PARAM="s",REFERER_PARAM="r",FORGE_REF="f",FORGE_DOMAIN_RE=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,LAST_SESSION_PARAM="ls",APPLICATION_ID_PARAM="p",APP_CHECK_TOKEN_PARAM="ac",WEBSOCKET="websocket",LONG_POLLING="long_polling",RepoInfo=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=PersistentStorage.get("host:"+e)||this._host}var t=e.prototype;return t.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},t.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},t.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+t},_createClass2(e,[{key:"host",get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&PersistentStorage.set("host:"+this._host,this.internalHost))}}]),e}();function repoInfoNeedsQueryParam(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function repoInfoConnectionURL(e,t,n){var r;if(assert("string"==typeof t,"typeof type must == string"),assert("object"==typeof n,"typeof params must == object"),t===WEBSOCKET)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==LONG_POLLING)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}repoInfoNeedsQueryParam(e)&&(n.ns=e.namespace);var i=[];return each(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var StatsCollection=function(){function e(){this.counters_={}}var t=e.prototype;return t.incrementCounter=function(e,t){void 0===t&&(t=1),contains(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},t.get=function(){return deepCopy(this.counters_)},e}(),collections={},reporters={};
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function statsManagerGetCollection(e){var t=e.toString();return collections[t]||(collections[t]=new StatsCollection),collections[t]}function statsManagerGetOrCreateReporter(e,t){var n=e.toString();return reporters[n]||(reporters[n]=t()),reporters[n]}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var PacketReceiver=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}var t=e.prototype;return t.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=n.pendingResponses[n.currentResponseNum];delete n.pendingResponses[n.currentResponseNum];for(var t=function(t){e[t]&&exceptionGuard((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(n.currentResponseNum===n.closeAfterResponse)return n.onClose&&(n.onClose(),n.onClose=null),"break";n.currentResponseNum++};this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},e}(),FIREBASE_LONGPOLL_START_PARAM="start",FIREBASE_LONGPOLL_CLOSE_COMMAND="close",FIREBASE_LONGPOLL_COMMAND_CB_NAME="pLPCommand",FIREBASE_LONGPOLL_DATA_CB_NAME="pRTLPCB",FIREBASE_LONGPOLL_ID_PARAM="id",FIREBASE_LONGPOLL_PW_PARAM="pw",FIREBASE_LONGPOLL_SERIAL_PARAM="ser",FIREBASE_LONGPOLL_CALLBACK_ID_PARAM="cb",FIREBASE_LONGPOLL_SEGMENT_NUM_PARAM="seg",FIREBASE_LONGPOLL_SEGMENTS_IN_PACKET="ts",FIREBASE_LONGPOLL_DATA_PARAM="d",FIREBASE_LONGPOLL_DISCONN_FRAME_REQUEST_PARAM="dframe",MAX_URL_DATA_SIZE=1870,SEG_HEADER_SIZE=30,MAX_PAYLOAD_SIZE=MAX_URL_DATA_SIZE-SEG_HEADER_SIZE,KEEPALIVE_REQUEST_INTERVAL=25e3,LP_CONNECT_TIMEOUT=3e4,BrowserPollConnection=function(){function e(e,t,n,r,i,o,a){var s=this;this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=logWrapper(e),this.stats_=statsManagerGetCollection(t),this.urlFn=function(e){return s.appCheckToken&&(e[APP_CHECK_TOKEN_PARAM]=s.appCheckToken),repoInfoConnectionURL(t,LONG_POLLING,e)}}var t=e.prototype;return t.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new PacketReceiver(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(LP_CONNECT_TIMEOUT)),executeWhenDOMReady((function(){if(!n.isClosed_){n.scriptTagHolder=new FirebaseIFrameScriptHolder((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],o=t[1],a=t[2];t[3],t[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===FIREBASE_LONGPOLL_START_PARAM)n.id=o,n.password=a;else{if(i!==FIREBASE_LONGPOLL_CLOSE_COMMAND)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t[0],o=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var e={};e[FIREBASE_LONGPOLL_START_PARAM]="t",e[FIREBASE_LONGPOLL_SERIAL_PARAM]=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e[FIREBASE_LONGPOLL_CALLBACK_ID_PARAM]=n.scriptTagHolder.uniqueCallbackIdentifier),e[VERSION_PARAM]=PROTOCOL_VERSION,n.transportSessionId&&(e[TRANSPORT_SESSION_PARAM]=n.transportSessionId),n.lastSessionId&&(e[LAST_SESSION_PARAM]=n.lastSessionId),n.applicationId&&(e[APPLICATION_ID_PARAM]=n.applicationId),n.appCheckToken&&(e[APP_CHECK_TOKEN_PARAM]=n.appCheckToken),"undefined"!=typeof location&&location.hostname&&FORGE_DOMAIN_RE.test(location.hostname)&&(e[REFERER_PARAM]=FORGE_REF);var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},t.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!!e.forceAllow_||!e.forceDisallow_&&"undefined"!=typeof document&&null!=document.createElement&&!isChromeExtensionContentScript()&&!isWindowsStoreApp()},t.markConnectionHealthy=function(){},t.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.send=function(e){var t=stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=base64Encode(t),r=splitStringBySize(n,MAX_PAYLOAD_SIZE),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.addDisconnectPingFrame=function(e,t){this.myDisconnFrame=document.createElement("iframe");var n={};n[FIREBASE_LONGPOLL_DISCONN_FRAME_REQUEST_PARAM]="t",n[FIREBASE_LONGPOLL_ID_PARAM]=e,n[FIREBASE_LONGPOLL_PW_PARAM]=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},t.incrementIncomingBytes_=function(e){var t=stringify(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),FirebaseIFrameScriptHolder=function(){function e(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,this.uniqueCallbackIdentifier=LUIDGenerator(),window[FIREBASE_LONGPOLL_COMMAND_CB_NAME+this.uniqueCallbackIdentifier]=t,window[FIREBASE_LONGPOLL_DATA_CB_NAME+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(o='<script>document.domain="'+document.domain+'";<\/script>');var a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(s){log("frame writing exception"),s.stack&&log(s.stack),log(s)}}e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||log("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e};var t=e.prototype;return t.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},t.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},t.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e[FIREBASE_LONGPOLL_ID_PARAM]=this.myID,e[FIREBASE_LONGPOLL_PW_PARAM]=this.myPW,e[FIREBASE_LONGPOLL_SERIAL_PARAM]=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+SEG_HEADER_SIZE+n.length<=MAX_URL_DATA_SIZE))break;var i=this.pendingSegs.shift();n=n+"&"+FIREBASE_LONGPOLL_SEGMENT_NUM_PARAM+r+"="+i.seg+"&"+FIREBASE_LONGPOLL_SEGMENTS_IN_PACKET+r+"="+i.ts+"&"+FIREBASE_LONGPOLL_DATA_PARAM+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},t.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},t.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(KEEPALIVE_REQUEST_INTERVAL));this.addTag(e,(function(){clearTimeout(i),r()}))},t.addTag=function(e,t){var n=this;setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){log("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},e}(),WEBSOCKET_MAX_FRAME_SIZE=16384,WEBSOCKET_KEEPALIVE_INTERVAL=45e3,WebSocketImpl=null;
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */"undefined"!=typeof MozWebSocket?WebSocketImpl=MozWebSocket:"undefined"!=typeof WebSocket&&(WebSocketImpl=WebSocket);var WebSocketConnection=function(){function e(t,n,r,i,o,a,s){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=logWrapper(this.connId),this.stats_=statsManagerGetCollection(n),this.connURL=e.connectionURL_(n,a,s,i),this.nodeAdmin=n.nodeAdmin}e.connectionURL_=function(e,t,n,r){var i={};return i[VERSION_PARAM]=PROTOCOL_VERSION,"undefined"!=typeof location&&location.hostname&&FORGE_DOMAIN_RE.test(location.hostname)&&(i[REFERER_PARAM]=FORGE_REF),t&&(i[TRANSPORT_SESSION_PARAM]=t),n&&(i[LAST_SESSION_PARAM]=n),r&&(i[APP_CHECK_TOKEN_PARAM]=r),repoInfoConnectionURL(e,WEBSOCKET,i)};var t=e.prototype;return t.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,PersistentStorage.set("previous_websocket_failure",!0);try{if(isNodeSdk());else{var r={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new WebSocketImpl(this.connURL,[],r)}}catch(o){this.log_("Error instantiating WebSocket.");var i=o.message||o.data;return i&&this.log_(i),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},t.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==WebSocketImpl&&!e.forceDisallow_},e.previouslyFailed=function(){return PersistentStorage.isInMemoryStorage||!0===PersistentStorage.get("previous_websocket_failure")},t.markConnectionHealthy=function(){PersistentStorage.remove("previous_websocket_failure")},t.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=jsonEval(t);this.onMessage(n)}},t.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},t.extractFrameCount_=function(e){if(assert(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},t.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},t.send=function(e){this.resetKeepAlive();var t=stringify(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=splitStringBySize(t,WEBSOCKET_MAX_FRAME_SIZE);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(WEBSOCKET_KEEPALIVE_INTERVAL))},t.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e}();WebSocketConnection.responsesRequiredToBeHealthy=2,WebSocketConnection.healthyTimeout=3e4;
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
var TransportManager=function(){function e(e){this.initTransports_(e)}var t=e.prototype;return t.initTransports_=function(t){var n=WebSocketConnection&&WebSocketConnection.isAvailable(),r=n&&!WebSocketConnection.previouslyFailed();if(t.webSocketOnly&&(n||warn$1("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[WebSocketConnection];else for(var i,o=this.transports_=[],a=_createForOfIteratorHelperLoose(e.ALL_TRANSPORTS);!(i=a()).done;){var s=i.value;s&&s.isAvailable()&&o.push(s)}},t.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},_createClass2(e,null,[{key:"ALL_TRANSPORTS",get:function(){return[BrowserPollConnection,WebSocketConnection]}}]),e}(),UPGRADE_TIMEOUT=6e4,DELAY_BEFORE_SENDING_EXTRA_REQUESTS=5e3,BYTES_SENT_HEALTHY_OVERRIDE=10240,BYTES_RECEIVED_HEALTHY_OVERRIDE=102400,MESSAGE_TYPE="t",MESSAGE_DATA="d",CONTROL_SHUTDOWN="s",CONTROL_RESET="r",CONTROL_ERROR="e",CONTROL_PONG="o",SWITCH_ACK="a",END_TRANSMISSION="n",PING="p",SERVER_HELLO="h",Connection=function(){function e(e,t,n,r,i,o,a,s,u,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=logWrapper("c:"+this.id+":"),this.transportManager_=new TransportManager(t),this.log_("Connection created"),this.start_()}var t=e.prototype;return t.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=setTimeoutNonBlocking((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>BYTES_RECEIVED_HEALTHY_OVERRIDE?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>BYTES_SENT_HEALTHY_OVERRIDE?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},t.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},t.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},t.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},t.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.onSecondaryControl_=function(e){if(MESSAGE_TYPE in e){var t=e[MESSAGE_TYPE];t===SWITCH_ACK?this.upgradeIfSecondaryHealthy_():t===CONTROL_RESET?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):t===CONTROL_PONG&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.onSecondaryMessageReceived_=function(e){var t=requireKey("t",e),n=requireKey("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},t.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:PING,d:{}}}))},t.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:SWITCH_ACK,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:END_TRANSMISSION,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.onPrimaryMessageReceived_=function(e){var t=requireKey("t",e),n=requireKey("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},t.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},t.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.onControl_=function(e){var t=requireKey(MESSAGE_TYPE,e);if(MESSAGE_DATA in e){var n=e[MESSAGE_DATA];if(t===SERVER_HELLO)this.onHandshake_(n);else if(t===END_TRANSMISSION){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===CONTROL_SHUTDOWN?this.onConnectionShutdown_(n):t===CONTROL_RESET?this.onReset_(n):t===CONTROL_ERROR?error("Server Error: "+n):t===CONTROL_PONG?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):error("Unknown control packet command: "+t)}},t.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),PROTOCOL_VERSION!==n&&warn$1("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},t.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),setTimeoutNonBlocking((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(UPGRADE_TIMEOUT))},t.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):setTimeoutNonBlocking((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(DELAY_BEFORE_SENDING_EXTRA_REQUESTS))},t.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:PING,d:{}}}))},t.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},t.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(PersistentStorage.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},t.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},t.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),ServerActions=function(){function e(){}var t=e.prototype;return t.put=function(e,t,n,r){},t.merge=function(e,t,n,r){},t.refreshAuthToken=function(e){},t.refreshAppCheckToken=function(e){},t.onDisconnectPut=function(e,t,n){},t.onDisconnectMerge=function(e,t,n){},t.onDisconnectCancel=function(e,t){},t.reportStats=function(e){},e}(),EventEmitter=function(){function e(e){this.allowedEvents_=e,this.listeners_={},assert(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}var t=e.prototype;return t.trigger=function(e){if(Array.isArray(this.listeners_[e])){for(var t=[].concat(this.listeners_[e]),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=0;o<t.length;o++)t[o].callback.apply(t[o].context,r)}},t.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},t.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},t.validateEventType_=function(e){assert(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),OnlineMonitor=function(e){function t(){var t;return(t=e.call(this,["online"])||this).online_=!0,"undefined"==typeof window||void 0===window.addEventListener||isMobileCordova()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}_inheritsLoose(t,e),t.getInstance=function(){return new t};var n=t.prototype;return n.getInitialEvent=function(e){return assert("online"===e,"Unknown event type: "+e),[this.online_]},n.currentlyOnline=function(){return this.online_},t}(EventEmitter),MAX_PATH_DEPTH=32,MAX_PATH_LENGTH_BYTES=768,Path=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function newEmptyPath(){return new Path("")}function pathGetFront(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function pathGetLength(e){return e.pieces_.length-e.pieceNum_}function pathPopFront(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new Path(e.pieces_,t)}function pathGetBack(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function pathToUrlEncodedString(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function pathSlice(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function pathParent(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Path(t,0)}function pathChild(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Path)for(var i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);else for(var o=t.split("/"),a=0;a<o.length;a++)o[a].length>0&&n.push(o[a]);return new Path(n,0)}function pathIsEmpty(e){return e.pieceNum_>=e.pieces_.length}function newRelativePath(e,t){var n=pathGetFront(e),r=pathGetFront(t);if(null===n)return t;if(n===r)return newRelativePath(pathPopFront(e),pathPopFront(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function pathEquals(e,t){if(pathGetLength(e)!==pathGetLength(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function pathContains(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(pathGetLength(e)>pathGetLength(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var ValidationPath=function(e,t){this.errorPrefix_=t,this.parts_=pathSlice(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=stringLength(this.parts_[n]);validationPathCheckValid(this)};function validationPathPush(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=stringLength(t),validationPathCheckValid(e)}function validationPathPop(e){var t=e.parts_.pop();e.byteLength_-=stringLength(t),e.parts_.length>0&&(e.byteLength_-=1)}function validationPathCheckValid(e){if(e.byteLength_>MAX_PATH_LENGTH_BYTES)throw new Error(e.errorPrefix_+"has a key path longer than "+MAX_PATH_LENGTH_BYTES+" bytes ("+e.byteLength_+").");if(e.parts_.length>MAX_PATH_DEPTH)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+MAX_PATH_DEPTH+") or object contains a cycle "+validationPathToErrorString(e))}function validationPathToErrorString(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var VisibilityMonitor=function(e){function t(){var t,n,r;return t=e.call(this,["visible"])||this,"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(r="visibilitychange",n="hidden"):void 0!==document.mozHidden?(r="mozvisibilitychange",n="mozHidden"):void 0!==document.msHidden?(r="msvisibilitychange",n="msHidden"):void 0!==document.webkitHidden&&(r="webkitvisibilitychange",n="webkitHidden")),t.visible_=!0,r&&document.addEventListener(r,(function(){var e=!document[n];e!==t.visible_&&(t.visible_=e,t.trigger("visible",e))}),!1),t}return _inheritsLoose(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return assert("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(EventEmitter),RECONNECT_MIN_DELAY=1e3,RECONNECT_MAX_DELAY_DEFAULT=3e5,GET_CONNECT_TIMEOUT=3e3,RECONNECT_MAX_DELAY_FOR_ADMINS=3e4,RECONNECT_DELAY_MULTIPLIER=1.3,RECONNECT_DELAY_RESET_TIMEOUT=3e4,SERVER_KILL_INTERRUPT_REASON="server_kill",INVALID_TOKEN_THRESHOLD=3,PersistentConnection=function(e){function t(n,r,i,o,a,s,u,c){var l;if((l=e.call(this)||this).repoInfo_=n,l.applicationId_=r,l.onDataUpdate_=i,l.onConnectStatus_=o,l.onServerInfoUpdate_=a,l.authTokenProvider_=s,l.appCheckTokenProvider_=u,l.authOverride_=c,l.id=t.nextPersistentConnectionId_++,l.log_=logWrapper("p:"+l.id+":"),l.interruptReasons_={},l.listens=new Map,l.outstandingPuts_=[],l.outstandingGets_=[],l.outstandingPutCount_=0,l.outstandingGetCount_=0,l.onDisconnectRequestQueue_=[],l.connected_=!1,l.reconnectDelay_=RECONNECT_MIN_DELAY,l.maxReconnectDelay_=RECONNECT_MAX_DELAY_DEFAULT,l.securityDebugCallback_=null,l.lastSessionId=null,l.establishConnectionTimer_=null,l.visible_=!1,l.requestCBHash_={},l.requestNumber_=0,l.realtime_=null,l.authToken_=null,l.appCheckToken_=null,l.forceTokenRefresh_=!1,l.invalidAuthTokenCount_=0,l.invalidAppCheckTokenCount_=0,l.firstConnection_=!0,l.lastConnectionAttemptTime_=null,l.lastConnectionEstablishedTime_=null,c&&!isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return VisibilityMonitor.getInstance().on("visible",l.onVisible_,_assertThisInitialized(l)),-1===n.host.indexOf("fblocal")&&OnlineMonitor.getInstance().on("online",l.onOnline_,_assertThisInitialized(l)),l}_inheritsLoose(t,e);var n=t.prototype;return n.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(stringify(i)),assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},n.get=function(e){var t=this;this.initConnection_();var n=new Deferred,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var o=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[o];void 0!==e&&i===e&&(delete t.outstandingGets_[o],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+o+" timed out on connection"),n.reject(new Error("Client is offline.")))}),GET_CONNECT_TIMEOUT),this.connected_&&this.sendGet_(o),n.promise},n.listen=function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),assert(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),assert(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,a),this.connected_&&this.sendListen_(a)},n.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},n.sendListen_=function(e){var n=this,r=e.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"==typeof e&&contains(e,"w")){var n=safeGet(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();warn$1("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},n.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},n.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||isAdmin(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=RECONNECT_MAX_DELAY_FOR_ADMINS)},n.refreshAppCheckToken=function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},n.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=isValidFormat(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},n.tryAppCheck=function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))},n.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),assert(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},n.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},n.onDisconnectPut=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},n.onDisconnectMerge=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},n.onDisconnectCancel=function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},n.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},n.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},n.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},n.putInternal=function(e,t,n,r,i){this.initConnection_();var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},n.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},n.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}},n.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+stringify(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},n.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):error("Unrecognized action received from server: "+stringify(e)+"\nAre you using the latest client?")},n.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},n.scheduleConnect_=function(e){var t=this;assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},n.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},n.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=RECONNECT_MIN_DELAY,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},n.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=RECONNECT_MIN_DELAY,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},n.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>RECONNECT_DELAY_RESET_TIMEOUT&&(this.reconnectDelay_=RECONNECT_MIN_DELAY),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*RECONNECT_DELAY_MULTIPLIER)}this.onConnectStatus_(!1)},n.establishConnection_=function(){var e=_asyncToGenerator(regeneratorRuntime.mark((function e(){var n,r,i,o,a,s,u,c,l,f,h,d,p,v=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.shouldReconnect_()){e.next=29;break}return this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,n=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+t.nextConnectionId_++,a=this.lastSessionId,s=!1,u=null,c=function(){u?u.close():(s=!0,i())},l=function(e){assert(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(e)},this.realtime_={close:c,sendRequest:l},f=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,e.prev=16,e.next=19,Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);case 19:h=e.sent,d=h[0],p=h[1],s?log("getToken() completed but was canceled"):(log("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=p&&p.token,u=new Connection(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,r,i,(function(e){warn$1(e+" ("+v.repoInfo_.toString()+")"),v.interrupt(SERVER_KILL_INTERRUPT_REASON)}),a)),e.next=29;break;case 25:e.prev=25,e.t0=e.catch(16),this.log_("Failed to get token: "+e.t0),s||(this.repoInfo_.nodeAdmin&&warn$1(e.t0),c());case 29:case"end":return e.stop()}}),e,this,[[16,25]])})));return function(){return e.apply(this,arguments)}}(),n.interrupt=function(e){log("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},n.resume=function(e){log("Resuming connection for reason: "+e),delete this.interruptReasons_[e],isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=RECONNECT_MIN_DELAY,this.realtime_||this.scheduleConnect_(0))},n.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},n.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},n.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return ObjectToUniqueKey(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},n.removeListen_=function(e,t){var n,r=new Path(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},n.onAuthRevoked_=function(e,t){log("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=INVALID_TOKEN_THRESHOLD&&(this.reconnectDelay_=RECONNECT_MAX_DELAY_FOR_ADMINS,this.authTokenProvider_.notifyForInvalidToken()))},n.onAppCheckRevoked_=function(e,t){log("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=INVALID_TOKEN_THRESHOLD&&this.appCheckTokenProvider_.notifyForInvalidToken())},n.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},n.restoreState_=function(){this.tryAuth(),this.tryAppCheck();for(var e,t=_createForOfIteratorHelperLoose(this.listens.values());!(e=t()).done;)for(var n,r=_createForOfIteratorHelperLoose(e.value.values());!(n=r()).done;){var i=n.value;this.sendListen_(i)}for(var o=0;o<this.outstandingPuts_.length;o++)this.outstandingPuts_[o]&&this.sendPut_(o);for(;this.onDisconnectRequestQueue_.length;){var a=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(a.action,a.pathString,a.data,a.onComplete)}for(var s=0;s<this.outstandingGets_.length;s++)this.outstandingGets_[s]&&this.sendGet_(s)},n.sendConnectStats_=function(){var e={};e["sdk.js."+SDK_VERSION$1.replace(/\./g,"-")]=1,isMobileCordova()?e["framework.cordova"]=1:isReactNative()&&(e["framework.reactnative"]=1),this.reportStats(e)},n.shouldReconnect_=function(){var e=OnlineMonitor.getInstance().currentlyOnline();return isEmpty(this.interruptReasons_)&&e},t}(ServerActions);
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */PersistentConnection.nextPersistentConnectionId_=0,PersistentConnection.nextConnectionId_=0;
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
var NamedNode=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),Index=function(){function e(){}var t=e.prototype;return t.getCompare=function(){return this.compare.bind(this)},t.indexedValueChanged=function(e,t){var n=new NamedNode(MIN_NAME,e),r=new NamedNode(MIN_NAME,t);return 0!==this.compare(n,r)},t.minPost=function(){return NamedNode.MIN},e}(),__EMPTY_NODE,KeyIndex=function(e){function t(){return e.apply(this,arguments)||this}_inheritsLoose(t,e);var n=t.prototype;return n.compare=function(e,t){return nameCompare(e.name,t.name)},n.isDefinedOn=function(e){throw assertionError("KeyIndex.isDefinedOn not expected to be called.")},n.indexedValueChanged=function(e,t){return!1},n.minPost=function(){return NamedNode.MIN},n.maxPost=function(){return new NamedNode(MAX_NAME,__EMPTY_NODE)},n.makePost=function(e,t){return assert("string"==typeof e,"KeyIndex indexValue must always be a string."),new NamedNode(e,__EMPTY_NODE)},n.toString=function(){return".key"},_createClass2(t,null,[{key:"__EMPTY_NODE",get:function(){return __EMPTY_NODE},set:function(e){__EMPTY_NODE=e}}]),t}(Index),KEY_INDEX=new KeyIndex,SortedMapIterator=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}var t=e.prototype;return t.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},t.hasNext=function(){return this.nodeStack_.length>0},t.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),LLRBNode=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:SortedMap.EMPTY_NODE,this.right=null!=o?o:SortedMap.EMPTY_NODE}var t=e.prototype;return t.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.count=function(){return this.left.count()+1+this.right.count()},t.isEmpty=function(){return!1},t.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},t.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},t.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.minKey=function(){return this.min_().key},t.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},t.removeMin_=function(){if(this.left.isEmpty())return SortedMap.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},t.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return SortedMap.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},t.isRed_=function(){return this.color},t.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},t.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},t.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},t.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},t.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},t.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},t.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},t.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e}();
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */LLRBNode.RED=!0,LLRBNode.BLACK=!1;var LLRBEmptyNode=function(){function e(){}var t=e.prototype;return t.copy=function(e,t,n,r,i){return this},t.insert=function(e,t,n){return new LLRBNode(e,t,null)},t.remove=function(e,t){return this},t.count=function(){return 0},t.isEmpty=function(){return!0},t.inorderTraversal=function(e){return!1},t.reverseTraversal=function(e){return!1},t.minKey=function(){return null},t.maxKey=function(){return null},t.check_=function(){return 0},t.isRed_=function(){return!1},e}(),SortedMap=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}var t=e.prototype;return t.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,LLRBNode.BLACK,null,null))},t.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,LLRBNode.BLACK,null,null))},t.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},t.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.isEmpty=function(){return this.root_.isEmpty()},t.count=function(){return this.root_.count()},t.minKey=function(){return this.root_.minKey()},t.maxKey=function(){return this.root_.maxKey()},t.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},t.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},t.getIterator=function(e){return new SortedMapIterator(this.root_,null,this.comparator_,!1,e)},t.getIteratorFrom=function(e,t){return new SortedMapIterator(this.root_,e,this.comparator_,!1,t)},t.getReverseIteratorFrom=function(e,t){return new SortedMapIterator(this.root_,e,this.comparator_,!0,t)},t.getReverseIterator=function(e){return new SortedMapIterator(this.root_,null,this.comparator_,!0,e)},e}(),MAX_NODE$2;
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function NAME_ONLY_COMPARATOR(e,t){return nameCompare(e.name,t.name)}function NAME_COMPARATOR(e,t){return nameCompare(e,t)}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function setMaxNode$1(e){MAX_NODE$2=e}SortedMap.EMPTY_NODE=new LLRBEmptyNode;var priorityHashText=function(e){return"number"==typeof e?"number:"+doubleToIEEE754String(e):"string:"+e},validatePriorityNode=function(e){if(e.isLeafNode()){var t=e.val();assert("string"==typeof t||"number"==typeof t||"object"==typeof t&&contains(t,".sv"),"Priority must be a string or number.")}else assert(e===MAX_NODE$2||e.isEmpty(),"priority of unexpected type.");assert(e===MAX_NODE$2||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},__childrenNodeConstructor,LeafNode=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,assert(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),validatePriorityNode(this.priorityNode_)}var t=e.prototype;return t.isLeafNode=function(){return!0},t.getPriority=function(){return this.priorityNode_},t.updatePriority=function(t){return new e(this.value_,t)},t.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},t.getChild=function(t){return pathIsEmpty(t)?this:".priority"===pathGetFront(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},t.hasChild=function(){return!1},t.getPredecessorChildName=function(e,t){return null},t.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},t.updateChild=function(t,n){var r=pathGetFront(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:(assert(".priority"!==r||1===pathGetLength(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(pathPopFront(t),n)))},t.isEmpty=function(){return!1},t.numChildren=function(){return 0},t.forEachChild=function(e,t){return!1},t.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+priorityHashText(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?doubleToIEEE754String(this.value_):this.value_,this.lazyHash_=sha1(e)}return this.lazyHash_},t.getValue=function(){return this.value_},t.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:(assert(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},t.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),o=e.VALUE_TYPE_ORDER.indexOf(r);return assert(i>=0,"Unknown leaf type: "+n),assert(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-i},t.withIndex=function(){return this},t.isIndexed=function(){return!0},t.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},_createClass2(e,null,[{key:"__childrenNodeConstructor",get:function(){return __childrenNodeConstructor},set:function(e){__childrenNodeConstructor=e}}]),e}(),nodeFromJSON$1,MAX_NODE$1;function setNodeFromJSON(e){nodeFromJSON$1=e}function setMaxNode(e){MAX_NODE$1=e}LeafNode.VALUE_TYPE_ORDER=["object","boolean","number","string"];var PriorityIndex=function(e){function t(){return e.apply(this,arguments)||this}_inheritsLoose(t,e);var n=t.prototype;return n.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?nameCompare(e.name,t.name):i},n.isDefinedOn=function(e){return!e.getPriority().isEmpty()},n.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},n.minPost=function(){return NamedNode.MIN},n.maxPost=function(){return new NamedNode(MAX_NAME,new LeafNode("[PRIORITY-POST]",MAX_NODE$1))},n.makePost=function(e,t){var n=nodeFromJSON$1(e);return new NamedNode(t,new LeafNode("[PRIORITY-POST]",n))},n.toString=function(){return".priority"},t}(Index),PRIORITY_INDEX=new PriorityIndex,LOG_2=Math.log(2),Base12Num=function(){function e(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/LOG_2,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),buildChildSet=function(e,t,n,r){e.sort(t);var i=function t(r,i){var o,a,s=i-r;if(0===s)return null;if(1===s)return o=e[r],a=n?n(o):o,new LLRBNode(a,o.node,LLRBNode.BLACK,null,null);var u=parseInt(s/2,10)+r,c=t(r,u),l=t(u+1,i);return o=e[u],a=n?n(o):o,new LLRBNode(a,o.node,LLRBNode.BLACK,c,l)},o=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t;var c=i(o+1,s),l=e[o],f=n?n(l):l;u(new LLRBNode(f,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(o=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),f=Math.pow(2,t.count-(c+1));l?s(f,LLRBNode.BLACK):(s(f,LLRBNode.BLACK),s(f,LLRBNode.RED))}return o}(new Base12Num(e.length));return new SortedMap(r||t,o)},_defaultIndexMap,fallbackObject={},IndexMap=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}var t=e.prototype;return t.get=function(e){var t=safeGet(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof SortedMap?t:null},t.hasIndex=function(e){return contains(this.indexSet_,e.toString())},t.addIndex=function(t,n){assert(t!==KEY_INDEX,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],o=!1,a=n.getIterator(NamedNode.Wrap),s=a.getNext();s;)o=o||t.isDefinedOn(s.node),i.push(s),s=a.getNext();r=o?buildChildSet(i,t.getCompare()):fallbackObject;var u=t.toString(),c=Object.assign({},this.indexSet_);c[u]=t;var l=Object.assign({},this.indexes_);return l[u]=r,new e(l,c)},t.addToIndexes=function(t,n){var r=this;return new e(map(this.indexes_,(function(e,i){var o=safeGet(r.indexSet_,i);if(assert(o,"Missing index implementation for "+i),e===fallbackObject){if(o.isDefinedOn(t.node)){for(var a=[],s=n.getIterator(NamedNode.Wrap),u=s.getNext();u;)u.name!==t.name&&a.push(u),u=s.getNext();return a.push(t),buildChildSet(a,o.getCompare())}return fallbackObject}var c=n.get(t.name),l=e;return c&&(l=l.remove(new NamedNode(t.name,c))),l.insert(t,t.node)})),this.indexSet_)},t.removeFromIndexes=function(t,n){return new e(map(this.indexes_,(function(e){if(e===fallbackObject)return e;var r=n.get(t.name);return r?e.remove(new NamedNode(t.name,r)):e})),this.indexSet_)},_createClass2(e,null,[{key:"Default",get:function(){return assert(fallbackObject&&PRIORITY_INDEX,"ChildrenNode.ts has not been loaded"),_defaultIndexMap=_defaultIndexMap||new e({".priority":fallbackObject},{".priority":PRIORITY_INDEX})}}]),e}(),EMPTY_NODE,ChildrenNode=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&validatePriorityNode(this.priorityNode_),this.children_.isEmpty()&&assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}var t=e.prototype;return t.isLeafNode=function(){return!1},t.getPriority=function(){return this.priorityNode_||EMPTY_NODE},t.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},t.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?EMPTY_NODE:t},t.getChild=function(e){var t=pathGetFront(e);return null===t?this:this.getImmediateChild(t).getChild(pathPopFront(e))},t.hasChild=function(e){return null!==this.children_.get(e)},t.updateImmediateChild=function(t,n){if(assert(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r,i,o=new NamedNode(t,n);n.isEmpty()?(r=this.children_.remove(t),i=this.indexMap_.removeFromIndexes(o,this.children_)):(r=this.children_.insert(t,n),i=this.indexMap_.addToIndexes(o,this.children_));var a=r.isEmpty()?EMPTY_NODE:this.priorityNode_;return new e(r,a,i)},t.updateChild=function(e,t){var n=pathGetFront(e);if(null===n)return t;assert(".priority"!==pathGetFront(e)||1===pathGetLength(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(pathPopFront(e),t);return this.updateImmediateChild(n,r)},t.isEmpty=function(){return this.children_.isEmpty()},t.numChildren=function(){return this.children_.count()},t.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(PRIORITY_INDEX,(function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+priorityHashText(this.getPriority().val())+":"),this.forEachChild(PRIORITY_INDEX,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":sha1(e)}return this.lazyHash_},t.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new NamedNode(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},t.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},t.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new NamedNode(t,this.children_.get(t)):null},t.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},t.getLastChild=function(e){var t=this.getLastChildName(e);return t?new NamedNode(t,this.children_.get(t)):null},t.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},t.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},t.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,NamedNode.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},t.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},t.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,NamedNode.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},t.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===MAX_NODE?-1:0},t.withIndex=function(t){if(t===KEY_INDEX||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},t.isIndexed=function(e){return e===KEY_INDEX||this.indexMap_.hasIndex(e)},t.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(PRIORITY_INDEX),r=t.getIterator(PRIORITY_INDEX),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.resolveIndex_=function(e){return e===KEY_INDEX?null:this.indexMap_.get(e.toString())},_createClass2(e,null,[{key:"EMPTY_NODE",get:function(){return EMPTY_NODE||(EMPTY_NODE=new e(new SortedMap(NAME_COMPARATOR),null,IndexMap.Default))}}]),e}();ChildrenNode.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var MaxNode=function(e){function t(){return e.call(this,new SortedMap(NAME_COMPARATOR),ChildrenNode.EMPTY_NODE,IndexMap.Default)||this}_inheritsLoose(t,e);var n=t.prototype;return n.compareTo=function(e){return e===this?0:1},n.equals=function(e){return e===this},n.getPriority=function(){return this},n.getImmediateChild=function(e){return ChildrenNode.EMPTY_NODE},n.isEmpty=function(){return!1},t}(ChildrenNode),MAX_NODE=new MaxNode;Object.defineProperties(NamedNode,{MIN:{value:new NamedNode(MIN_NAME,ChildrenNode.EMPTY_NODE)},MAX:{value:new NamedNode(MAX_NAME,MAX_NODE)}}),KeyIndex.__EMPTY_NODE=ChildrenNode.EMPTY_NODE,LeafNode.__childrenNodeConstructor=ChildrenNode,setMaxNode$1(MAX_NODE),setMaxNode(MAX_NODE);
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
var USE_HINZE=!0;function nodeFromJSON(e,t){if(void 0===t&&(t=null),null===e)return ChildrenNode.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),assert(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new LeafNode(e,nodeFromJSON(t));if(e instanceof Array||!USE_HINZE){var n=ChildrenNode.EMPTY_NODE;return each(e,(function(t,r){if(contains(e,t)&&"."!==t.substring(0,1)){var i=nodeFromJSON(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(nodeFromJSON(t))}var r=[],i=!1;if(each(e,(function(e,t){if("."!==e.substring(0,1)){var n=nodeFromJSON(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new NamedNode(e,n)))}})),0===r.length)return ChildrenNode.EMPTY_NODE;var o=buildChildSet(r,NAME_ONLY_COMPARATOR,(function(e){return e.name}),NAME_COMPARATOR);if(i){var a=buildChildSet(r,PRIORITY_INDEX.getCompare());return new ChildrenNode(o,nodeFromJSON(t),new IndexMap({".priority":a},{".priority":PRIORITY_INDEX}))}return new ChildrenNode(o,nodeFromJSON(t),IndexMap.Default)}setNodeFromJSON(nodeFromJSON);
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
var PathIndex=function(e){function t(t){var n;return(n=e.call(this)||this).indexPath_=t,assert(!pathIsEmpty(t)&&".priority"!==pathGetFront(t),"Can't create PathIndex with empty path or .priority key"),n}_inheritsLoose(t,e);var n=t.prototype;return n.extractChild=function(e){return e.getChild(this.indexPath_)},n.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},n.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?nameCompare(e.name,t.name):i},n.makePost=function(e,t){var n=nodeFromJSON(e),r=ChildrenNode.EMPTY_NODE.updateChild(this.indexPath_,n);return new NamedNode(t,r)},n.maxPost=function(){var e=ChildrenNode.EMPTY_NODE.updateChild(this.indexPath_,MAX_NODE);return new NamedNode(MAX_NAME,e)},n.toString=function(){return pathSlice(this.indexPath_,0).join("/")},t}(Index),ValueIndex=function(e){function t(){return e.apply(this,arguments)||this}_inheritsLoose(t,e);var n=t.prototype;return n.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?nameCompare(e.name,t.name):n},n.isDefinedOn=function(e){return!0},n.indexedValueChanged=function(e,t){return!e.equals(t)},n.minPost=function(){return NamedNode.MIN},n.maxPost=function(){return NamedNode.MAX},n.makePost=function(e,t){var n=nodeFromJSON(e);return new NamedNode(t,n)},n.toString=function(){return".value"},t}(Index),VALUE_INDEX=new ValueIndex;
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function changeValue(e){return{type:"value",snapshotNode:e}}function changeChildAdded(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function changeChildRemoved(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function changeChildChanged(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function changeChildMoved(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var IndexedFilter=function(){function e(e){this.index_=e}var t=e.prototype;return t.updateChild=function(e,t,n,r,i,o){assert(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=e.getImmediateChild(t);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(changeChildRemoved(t,a)):assert(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(changeChildAdded(t,n)):o.trackChildChange(changeChildChanged(t,n,a))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},t.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(PRIORITY_INDEX,(function(e,r){t.hasChild(e)||n.trackChildChange(changeChildRemoved(e,r))})),t.isLeafNode()||t.forEachChild(PRIORITY_INDEX,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(changeChildChanged(t,r,i))}else n.trackChildChange(changeChildAdded(t,r))}))),t.withIndex(this.index_)},t.updatePriority=function(e,t){return e.isEmpty()?ChildrenNode.EMPTY_NODE:e.updatePriority(t)},t.filtersNodes=function(){return!1},t.getIndexedFilter=function(){return this},t.getIndex=function(){return this.index_},e}(),RangedFilter=function(){function e(t){this.indexedFilter_=new IndexedFilter(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}var t=e.prototype;return t.getStartPost=function(){return this.startPost_},t.getEndPost=function(){return this.endPost_},t.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},t.updateChild=function(e,t,n,r,i,o){return this.matches(new NamedNode(t,n))||(n=ChildrenNode.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},t.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=ChildrenNode.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(ChildrenNode.EMPTY_NODE);var i=this;return t.forEachChild(PRIORITY_INDEX,(function(e,t){i.matches(new NamedNode(e,t))||(r=r.updateImmediateChild(e,ChildrenNode.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},t.updatePriority=function(e,t){return e},t.filtersNodes=function(){return!0},t.getIndexedFilter=function(){return this.indexedFilter_},t.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),LimitedFilter=function(){function e(e){this.rangedFilter_=new RangedFilter(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}var t=e.prototype;return t.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new NamedNode(t,n))||(n=ChildrenNode.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},t.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=ChildrenNode.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){var i;r=ChildrenNode.EMPTY_NODE.withIndex(this.index_),i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{var s,u,c,l;if(r=(r=t.withIndex(this.index_)).updatePriority(ChildrenNode.EMPTY_NODE),this.reverse_){l=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var f=this.index_.getCompare();c=function(e,t){return f(t,e)}}else l=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();for(var h=0,d=!1;l.hasNext();){var p=l.getNext();!d&&c(s,p)<=0&&(d=!0),d&&h<this.limit_&&c(p,u)<=0?h++:r=r.updateImmediateChild(p.name,ChildrenNode.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},t.updatePriority=function(e,t){return e},t.filtersNodes=function(){return!0},t.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.getIndex=function(){return this.index_},t.fullLimitUpdateChild_=function(e,t,n,r,i){var o;if(this.reverse_){var a=this.index_.getCompare();o=function(e,t){return a(t,e)}}else o=this.index_.getCompare();var s=e;assert(s.numChildren()===this.limit_,"");var u=new NamedNode(t,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(s.hasChild(t)){for(var f=s.getImmediateChild(t),h=r.getChildAfterChild(this.index_,c,this.reverse_);null!=h&&(h.name===t||s.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);var d=null==h?1:o(h,u);if(l&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(changeChildChanged(t,n,f)),s.updateImmediateChild(t,n);null!=i&&i.trackChildChange(changeChildRemoved(t,f));var p=s.updateImmediateChild(t,ChildrenNode.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(null!=i&&i.trackChildChange(changeChildAdded(h.name,h.node)),p.updateImmediateChild(h.name,h.node)):p}return n.isEmpty()?e:l&&o(c,u)>=0?(null!=i&&(i.trackChildChange(changeChildRemoved(c.name,c.node)),i.trackChildChange(changeChildAdded(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(c.name,ChildrenNode.EMPTY_NODE)):e},e}(),QueryParams=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=PRIORITY_INDEX}var t=e.prototype;return t.hasStart=function(){return this.startSet_},t.hasStartAfter=function(){return this.startAfterSet_},t.hasEndBefore=function(){return this.endBeforeSet_},t.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},t.getIndexStartValue=function(){return assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.getIndexStartName=function(){return assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:MIN_NAME},t.hasEnd=function(){return this.endSet_},t.getIndexEndValue=function(){return assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.getIndexEndName=function(){return assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:MAX_NAME},t.hasLimit=function(){return this.limitSet_},t.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.getLimit=function(){return assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.getIndex=function(){return this.index_},t.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.isDefault=function(){return this.loadsAllData()&&this.index_===PRIORITY_INDEX},t.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function queryParamsGetNodeFilter(e){return e.loadsAllData()?new IndexedFilter(e.getIndex()):e.hasLimit()?new LimitedFilter(e):new RangedFilter(e)}function queryParamsToRestQueryStringParameters(e){var t,n={};return e.isDefault()||(e.index_===PRIORITY_INDEX?t="$priority":e.index_===VALUE_INDEX?t="$value":e.index_===KEY_INDEX?t="$key":(assert(e.index_ instanceof PathIndex,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=stringify(t),e.startSet_&&(n.startAt=stringify(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+stringify(e.indexStartName_))),e.endSet_&&(n.endAt=stringify(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+stringify(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function queryParamsGetQueryObject(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==PRIORITY_INDEX&&(t.i=e.index_.toString()),t}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var ReadonlyRestClient=function(e){function t(t,n,r,i){var o;return(o=e.call(this)||this).repoInfo_=t,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=logWrapper("p:rest:"),o.listens_={},o}_inheritsLoose(t,e);var n=t.prototype;return n.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:(assert(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},n.listen=function(e,n,r,i){var o=this,a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);var s=t.getListenId_(e,r),u={};this.listens_[s]=u;var c=queryParamsToRestQueryStringParameters(e._queryParams);this.restRequest_(a+".json",c,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&o.onDataUpdate_(a,n,!1,r),safeGet(o.listens_,s)===u)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},n.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},n.get=function(e){var t=this,n=queryParamsToRestQueryStringParameters(e._queryParams),r=e._path.toString(),i=new Deferred;return this.restRequest_(r+".json",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},n.refreshAuthToken=function(e){},n.restRequest_=function(e,t,n){var r=this;return void 0===t&&(t={}),t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var o=i[0],a=i[1];o&&o.accessToken&&(t.auth=o.accessToken),a&&a.token&&(t.ac=a.token);var s=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+querystring(t);r.log_("Sending REST request for "+s);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(n&&4===u.readyState){r.log_("REST Response for "+s+" received. status:",u.status,"response:",u.responseText);var e=null;if(u.status>=200&&u.status<300){try{e=jsonEval(u.responseText)}catch(t){warn$1("Failed to parse JSON response for "+s+": "+u.responseText)}n(null,e)}else 401!==u.status&&404!==u.status&&warn$1("Got unsuccessful REST response for "+s+" Status: "+u.status),n(u.status);n=null}},u.open("GET",s,!0),u.send()}))},t}(ServerActions),SnapshotHolder=function(){function e(){this.rootNode_=ChildrenNode.EMPTY_NODE}var t=e.prototype;return t.getNode=function(e){return this.rootNode_.getChild(e)},t.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function newSparseSnapshotTree(){return{value:null,children:new Map}}function sparseSnapshotTreeRemember(e,t,n){if(pathIsEmpty(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=pathGetFront(t);e.children.has(r)||e.children.set(r,newSparseSnapshotTree()),sparseSnapshotTreeRemember(e.children.get(r),t=pathPopFront(t),n)}}function sparseSnapshotTreeForEachTree(e,t,n){null!==e.value?n(t,e.value):sparseSnapshotTreeForEachChild(e,(function(e,r){sparseSnapshotTreeForEachTree(r,new Path(t.toString()+"/"+e),n)}))}function sparseSnapshotTreeForEachChild(e,t){e.children.forEach((function(e,n){t(n,e)}))}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var StatsListener=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=Object.assign({},e);return this.last_&&each(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),FIRST_STATS_MIN_TIME=1e4,FIRST_STATS_MAX_TIME=3e4,REPORT_STATS_INTERVAL=3e5,StatsReporter=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new StatsListener(e);var n=FIRST_STATS_MIN_TIME+(FIRST_STATS_MAX_TIME-FIRST_STATS_MIN_TIME)*Math.random();setTimeoutNonBlocking(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;each(t,(function(t,i){i>0&&contains(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),setTimeoutNonBlocking(this.reportStats_.bind(this),Math.floor(2*Math.random()*REPORT_STATS_INTERVAL))},e}(),OperationType;
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function newOperationSourceUser(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function newOperationSourceServer(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function newOperationSourceServerTaggedQuery(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(OperationType||(OperationType={}));var AckUserWrite=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=OperationType.ACK_USER_WRITE,this.source=newOperationSourceUser()}return e.prototype.operationForChild=function(t){if(pathIsEmpty(this.path)){if(null!=this.affectedTree.value)return assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Path(t));return new e(newEmptyPath(),n,this.revert)}return assert(pathGetFront(this.path)===t,"operationForChild called for unrelated child."),new e(pathPopFront(this.path),this.affectedTree,this.revert)},e}(),ListenComplete=function(){function e(e,t){this.source=e,this.path=t,this.type=OperationType.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return pathIsEmpty(this.path)?new e(this.source,newEmptyPath()):new e(this.source,pathPopFront(this.path))},e}(),Overwrite=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=OperationType.OVERWRITE}return e.prototype.operationForChild=function(t){return pathIsEmpty(this.path)?new e(this.source,newEmptyPath(),this.snap.getImmediateChild(t)):new e(this.source,pathPopFront(this.path),this.snap)},e}(),Merge=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=OperationType.MERGE}var t=e.prototype;return t.operationForChild=function(t){if(pathIsEmpty(this.path)){var n=this.children.subtree(new Path(t));return n.isEmpty()?null:n.value?new Overwrite(this.source,newEmptyPath(),n.value):new e(this.source,newEmptyPath(),n)}return assert(pathGetFront(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,pathPopFront(this.path),this.children)},t.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),CacheNode=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}var t=e.prototype;return t.isFullyInitialized=function(){return this.fullyInitialized_},t.isFiltered=function(){return this.filtered_},t.isCompleteForPath=function(e){if(pathIsEmpty(e))return this.isFullyInitialized()&&!this.filtered_;var t=pathGetFront(e);return this.isCompleteForChild(t)},t.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},t.getNode=function(){return this.node_},e}(),EventGenerator=function(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()},emptyChildrenSingleton;
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function eventGeneratorGenerateEventsForChanges(e,t,n,r){var i=[],o=[];return t.forEach((function(t){"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(changeChildMoved(t.childName,t.snapshotNode))})),eventGeneratorGenerateEventsForType(e,i,"child_removed",t,r,n),eventGeneratorGenerateEventsForType(e,i,"child_added",t,r,n),eventGeneratorGenerateEventsForType(e,i,"child_moved",o,r,n),eventGeneratorGenerateEventsForType(e,i,"child_changed",t,r,n),eventGeneratorGenerateEventsForType(e,i,"value",t,r,n),i}function eventGeneratorGenerateEventsForType(e,t,n,r,i,o){var a=r.filter((function(e){return e.type===n}));a.sort((function(t,n){return eventGeneratorCompareChanges(e,t,n)})),a.forEach((function(n){var r=eventGeneratorMaterializeSingleChange(e,n,o);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function eventGeneratorMaterializeSingleChange(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function eventGeneratorCompareChanges(e,t,n){if(null==t.childName||null==n.childName)throw assertionError("Should only compare child_ events.");var r=new NamedNode(t.childName,t.snapshotNode),i=new NamedNode(n.childName,n.snapshotNode);return e.index_.compare(r,i)}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function newViewCache(e,t){return{eventCache:e,serverCache:t}}function viewCacheUpdateEventSnap(e,t,n,r){return newViewCache(new CacheNode(t,n,r),e.serverCache)}function viewCacheUpdateServerSnap(e,t,n,r){return newViewCache(e.eventCache,new CacheNode(t,n,r))}function viewCacheGetCompleteEventSnap(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function viewCacheGetCompleteServerSnap(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var EmptyChildren=function(){return emptyChildrenSingleton||(emptyChildrenSingleton=new SortedMap(stringCompare)),emptyChildrenSingleton},ImmutableTree=function(){function e(e,t){void 0===t&&(t=EmptyChildren()),this.value=e,this.children=t}e.fromObject=function(t){var n=new e(null);return each(t,(function(e,t){n=n.set(new Path(e),t)})),n};var t=e.prototype;return t.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:newEmptyPath(),value:this.value};if(pathIsEmpty(e))return null;var n=pathGetFront(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(pathPopFront(e),t);return null!=i?{path:pathChild(new Path(n),i.path),value:i.value}:null}return null},t.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},t.subtree=function(t){if(pathIsEmpty(t))return this;var n=pathGetFront(t),r=this.children.get(n);return null!==r?r.subtree(pathPopFront(t)):new e(null)},t.set=function(t,n){if(pathIsEmpty(t))return new e(n,this.children);var r=pathGetFront(t),i=(this.children.get(r)||new e(null)).set(pathPopFront(t),n),o=this.children.insert(r,i);return new e(this.value,o)},t.remove=function(t){if(pathIsEmpty(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=pathGetFront(t),r=this.children.get(n);if(r){var i,o=r.remove(pathPopFront(t));return i=o.isEmpty()?this.children.remove(n):this.children.insert(n,o),null===this.value&&i.isEmpty()?new e(null):new e(this.value,i)}return this},t.get=function(e){if(pathIsEmpty(e))return this.value;var t=pathGetFront(e),n=this.children.get(t);return n?n.get(pathPopFront(e)):null},t.setTree=function(t,n){if(pathIsEmpty(t))return n;var r,i=pathGetFront(t),o=(this.children.get(i)||new e(null)).setTree(pathPopFront(t),n);return r=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new e(this.value,r)},t.fold=function(e){return this.fold_(newEmptyPath(),e)},t.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(pathChild(e,r),t)})),t(e,this.value,n)},t.findOnPath=function(e,t){return this.findOnPath_(e,newEmptyPath(),t)},t.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(pathIsEmpty(e))return null;var i=pathGetFront(e),o=this.children.get(i);return o?o.findOnPath_(pathPopFront(e),pathChild(t,i),n):null},t.foreachOnPath=function(e,t){return this.foreachOnPath_(e,newEmptyPath(),t)},t.foreachOnPath_=function(t,n,r){if(pathIsEmpty(t))return this;this.value&&r(n,this.value);var i=pathGetFront(t),o=this.children.get(i);return o?o.foreachOnPath_(pathPopFront(t),pathChild(n,i),r):new e(null)},t.foreach=function(e){this.foreach_(newEmptyPath(),e)},t.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(pathChild(e,n),t)})),this.value&&t(e,this.value)},t.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e}(),CompoundWrite=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new ImmutableTree(null))},e}();function compoundWriteAddWrite(e,t,n){if(pathIsEmpty(t))return new CompoundWrite(new ImmutableTree(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=newRelativePath(i,t);return o=o.updateChild(a,n),new CompoundWrite(e.writeTree_.set(i,o))}var s=new ImmutableTree(n),u=e.writeTree_.setTree(t,s);return new CompoundWrite(u)}function compoundWriteAddWrites(e,t,n){var r=e;return each(n,(function(e,n){r=compoundWriteAddWrite(r,pathChild(t,e),n)})),r}function compoundWriteRemoveWrite(e,t){if(pathIsEmpty(t))return CompoundWrite.empty();var n=e.writeTree_.setTree(t,new ImmutableTree(null));return new CompoundWrite(n)}function compoundWriteHasCompleteWrite(e,t){return null!=compoundWriteGetCompleteNode(e,t)}function compoundWriteGetCompleteNode(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(newRelativePath(n.path,t)):null}function compoundWriteGetCompleteChildren(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(PRIORITY_INDEX,(function(e,n){t.push(new NamedNode(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new NamedNode(e,n.value))})),t}function compoundWriteChildCompoundWrite(e,t){if(pathIsEmpty(t))return e;var n=compoundWriteGetCompleteNode(e,t);return new CompoundWrite(null!=n?new ImmutableTree(n):e.writeTree_.subtree(t))}function compoundWriteIsEmpty(e){return e.writeTree_.isEmpty()}function compoundWriteApply(e,t){return applySubtreeWrite(newEmptyPath(),e.writeTree_,t)}function applySubtreeWrite(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?(assert(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=applySubtreeWrite(pathChild(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(pathChild(e,".priority"),r)),n}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function writeTreeChildWrites(e,t){return newWriteTreeRef(t,e)}function writeTreeAddOverwrite(e,t,n,r,i){assert(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=compoundWriteAddWrite(e.visibleWrites,t,n)),e.lastWriteId=r}function writeTreeGetWrite(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}function writeTreeRemoveWrite(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));assert(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,o=!1,a=e.allWrites.length-1;i&&a>=0;){var s=e.allWrites[a];s.visible&&(a>=n&&writeTreeRecordContainsPath_(s,r.path)?i=!1:pathContains(r.path,s.path)&&(o=!0)),a--}if(i){if(o)return writeTreeResetTree_(e),!0;r.snap?e.visibleWrites=compoundWriteRemoveWrite(e.visibleWrites,r.path):each(r.children,(function(t){e.visibleWrites=compoundWriteRemoveWrite(e.visibleWrites,pathChild(r.path,t))}));return!0}return!1}function writeTreeRecordContainsPath_(e,t){if(e.snap)return pathContains(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&pathContains(pathChild(e.path,n),t))return!0;return!1}function writeTreeResetTree_(e){e.visibleWrites=writeTreeLayerTree_(e.allWrites,writeTreeDefaultFilter_,newEmptyPath()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function writeTreeDefaultFilter_(e){return e.visible}function writeTreeLayerTree_(e,t,n){for(var r=CompoundWrite.empty(),i=0;i<e.length;++i){var o=e[i];if(t(o)){var a=o.path,s=void 0;if(o.snap)pathContains(n,a)?r=compoundWriteAddWrite(r,s=newRelativePath(n,a),o.snap):pathContains(a,n)&&(s=newRelativePath(a,n),r=compoundWriteAddWrite(r,newEmptyPath(),o.snap.getChild(s)));else{if(!o.children)throw assertionError("WriteRecord should have .snap or .children");if(pathContains(n,a))r=compoundWriteAddWrites(r,s=newRelativePath(n,a),o.children);else if(pathContains(a,n))if(pathIsEmpty(s=newRelativePath(a,n)))r=compoundWriteAddWrites(r,newEmptyPath(),o.children);else{var u=safeGet(o.children,pathGetFront(s));if(u){var c=u.getChild(pathPopFront(s));r=compoundWriteAddWrite(r,newEmptyPath(),c)}}}}}return r}function writeTreeCalcCompleteEventCache(e,t,n,r,i){if(r||i){var o=compoundWriteChildCompoundWrite(e.visibleWrites,t);if(!i&&compoundWriteIsEmpty(o))return n;if(i||null!=n||compoundWriteHasCompleteWrite(o,newEmptyPath())){return compoundWriteApply(writeTreeLayerTree_(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(pathContains(e.path,t)||pathContains(t,e.path))}),t),n||ChildrenNode.EMPTY_NODE)}return null}var a=compoundWriteGetCompleteNode(e.visibleWrites,t);if(null!=a)return a;var s=compoundWriteChildCompoundWrite(e.visibleWrites,t);return compoundWriteIsEmpty(s)?n:null!=n||compoundWriteHasCompleteWrite(s,newEmptyPath())?compoundWriteApply(s,n||ChildrenNode.EMPTY_NODE):null}function writeTreeCalcCompleteEventChildren(e,t,n){var r=ChildrenNode.EMPTY_NODE,i=compoundWriteGetCompleteNode(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(PRIORITY_INDEX,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=compoundWriteChildCompoundWrite(e.visibleWrites,t);return n.forEachChild(PRIORITY_INDEX,(function(e,t){var n=compoundWriteApply(compoundWriteChildCompoundWrite(o,new Path(e)),t);r=r.updateImmediateChild(e,n)})),compoundWriteGetCompleteChildren(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return compoundWriteGetCompleteChildren(compoundWriteChildCompoundWrite(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}function writeTreeCalcEventCacheAfterServerOverwrite(e,t,n,r,i){assert(r||i,"Either existingEventSnap or existingServerSnap must exist");var o=pathChild(t,n);if(compoundWriteHasCompleteWrite(e.visibleWrites,o))return null;var a=compoundWriteChildCompoundWrite(e.visibleWrites,o);return compoundWriteIsEmpty(a)?i.getChild(n):compoundWriteApply(a,i.getChild(n))}function writeTreeCalcCompleteChild(e,t,n,r){var i=pathChild(t,n),o=compoundWriteGetCompleteNode(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?compoundWriteApply(compoundWriteChildCompoundWrite(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}function writeTreeShadowingWrite(e,t){return compoundWriteGetCompleteNode(e.visibleWrites,t)}function writeTreeCalcIndexedSlice(e,t,n,r,i,o,a){var s,u=compoundWriteChildCompoundWrite(e.visibleWrites,t),c=compoundWriteGetCompleteNode(u,newEmptyPath());if(null!=c)s=c;else{if(null==n)return[];s=compoundWriteApply(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],f=a.getCompare(),h=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),d=h.getNext();d&&l.length<i;)0!==f(d,r)&&l.push(d),d=h.getNext();return l}function newWriteTree(){return{visibleWrites:CompoundWrite.empty(),allWrites:[],lastWriteId:-1}}function writeTreeRefCalcCompleteEventCache(e,t,n,r){return writeTreeCalcCompleteEventCache(e.writeTree,e.treePath,t,n,r)}function writeTreeRefCalcCompleteEventChildren(e,t){return writeTreeCalcCompleteEventChildren(e.writeTree,e.treePath,t)}function writeTreeRefCalcEventCacheAfterServerOverwrite(e,t,n,r){return writeTreeCalcEventCacheAfterServerOverwrite(e.writeTree,e.treePath,t,n,r)}function writeTreeRefShadowingWrite(e,t){return writeTreeShadowingWrite(e.writeTree,pathChild(e.treePath,t))}function writeTreeRefCalcIndexedSlice(e,t,n,r,i,o){return writeTreeCalcIndexedSlice(e.writeTree,e.treePath,t,n,r,i,o)}function writeTreeRefCalcCompleteChild(e,t,n){return writeTreeCalcCompleteChild(e.writeTree,e.treePath,t,n)}function writeTreeRefChild(e,t){return newWriteTreeRef(pathChild(e.treePath,t),e.writeTree)}function newWriteTreeRef(e,t){return{treePath:e,writeTree:t}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var ChildChangeAccumulator=function(){function e(){this.changeMap=new Map}var t=e.prototype;return t.trackChildChange=function(e){var t=e.type,n=e.childName;assert("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),assert(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,changeChildChanged(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,changeChildRemoved(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,changeChildAdded(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw assertionError("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,changeChildChanged(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},t.getChanges=function(){return Array.from(this.changeMap.values())},e}(),NoCompleteChildSource_=function(){function e(){}var t=e.prototype;return t.getCompleteChild=function(e){return null},t.getChildAfterChild=function(e,t,n){return null},e}(),NO_COMPLETE_CHILD_SOURCE=new NoCompleteChildSource_,WriteTreeCompleteChildSource=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}var t=e.prototype;return t.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new CacheNode(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return writeTreeRefCalcCompleteChild(this.writes_,e,n)},t.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:viewCacheGetCompleteServerSnap(this.viewCache_),i=writeTreeRefCalcIndexedSlice(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]},e}();
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function newViewProcessor(e){return{filter:e}}function viewProcessorAssertIndexed(e,t){assert(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),assert(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function viewProcessorApplyOperation(e,t,n,r,i){var o,a,s=new ChildChangeAccumulator;if(n.type===OperationType.OVERWRITE){var u=n;u.source.fromUser?o=viewProcessorApplyUserOverwrite(e,t,u.path,u.snap,r,i,s):(assert(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered()&&!pathIsEmpty(u.path),o=viewProcessorApplyServerOverwrite(e,t,u.path,u.snap,r,i,a,s))}else if(n.type===OperationType.MERGE){var c=n;c.source.fromUser?o=viewProcessorApplyUserMerge(e,t,c.path,c.children,r,i,s):(assert(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered(),o=viewProcessorApplyServerMerge(e,t,c.path,c.children,r,i,a,s))}else if(n.type===OperationType.ACK_USER_WRITE){var l=n;o=l.revert?viewProcessorRevertUserWrite(e,t,l.path,r,i,s):viewProcessorAckUserWrite(e,t,l.path,l.affectedTree,r,i,s)}else{if(n.type!==OperationType.LISTEN_COMPLETE)throw assertionError("Unknown operation type: "+n.type);o=viewProcessorListenComplete(e,t,n.path,r,s)}var f=s.getChanges();return viewProcessorMaybeAddValueEvent(t,o,f),{viewCache:o,changes:f}}function viewProcessorMaybeAddValueEvent(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=viewCacheGetCompleteEventSnap(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(changeValue(viewCacheGetCompleteEventSnap(t)))}}function viewProcessorGenerateEventCacheAfterServerEvent(e,t,n,r,i,o){var a,s,u=t.eventCache;if(null!=writeTreeRefShadowingWrite(r,n))return t;if(pathIsEmpty(n))if(assert(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var c=viewCacheGetCompleteServerSnap(t),l=writeTreeRefCalcCompleteEventChildren(r,c instanceof ChildrenNode?c:ChildrenNode.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),l,o)}else{var f=writeTreeRefCalcCompleteEventCache(r,viewCacheGetCompleteServerSnap(t));a=e.filter.updateFullNode(t.eventCache.getNode(),f,o)}else{var h=pathGetFront(n);if(".priority"===h){assert(1===pathGetLength(n),"Can't have a priority with additional path components");var d=u.getNode(),p=writeTreeRefCalcEventCacheAfterServerOverwrite(r,n,d,s=t.serverCache.getNode());a=null!=p?e.filter.updatePriority(d,p):u.getNode()}else{var v,g=pathPopFront(n);if(u.isCompleteForChild(h)){s=t.serverCache.getNode();var _=writeTreeRefCalcEventCacheAfterServerOverwrite(r,n,u.getNode(),s);v=null!=_?u.getNode().getImmediateChild(h).updateChild(g,_):u.getNode().getImmediateChild(h)}else v=writeTreeRefCalcCompleteChild(r,h,t.serverCache);a=null!=v?e.filter.updateChild(u.getNode(),h,v,g,i,o):u.getNode()}}return viewCacheUpdateEventSnap(t,a,u.isFullyInitialized()||pathIsEmpty(n),e.filter.filtersNodes())}function viewProcessorApplyServerOverwrite(e,t,n,r,i,o,a,s){var u,c=t.serverCache,l=a?e.filter:e.filter.getIndexedFilter();if(pathIsEmpty(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var f=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),f,null)}else{var h=pathGetFront(n);if(!c.isCompleteForPath(n)&&pathGetLength(n)>1)return t;var d=pathPopFront(n),p=c.getNode().getImmediateChild(h).updateChild(d,r);u=".priority"===h?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),h,p,d,NO_COMPLETE_CHILD_SOURCE,null)}var v=viewCacheUpdateServerSnap(t,u,c.isFullyInitialized()||pathIsEmpty(n),l.filtersNodes());return viewProcessorGenerateEventCacheAfterServerEvent(e,v,n,i,new WriteTreeCompleteChildSource(i,v,o),s)}function viewProcessorApplyUserOverwrite(e,t,n,r,i,o,a){var s,u,c=t.eventCache,l=new WriteTreeCompleteChildSource(i,t,o);if(pathIsEmpty(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),s=viewCacheUpdateEventSnap(t,u,!0,e.filter.filtersNodes());else{var f=pathGetFront(n);if(".priority"===f)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=viewCacheUpdateEventSnap(t,u,c.isFullyInitialized(),c.isFiltered());else{var h,d=pathPopFront(n),p=c.getNode().getImmediateChild(f);if(pathIsEmpty(d))h=r;else{var v=l.getCompleteChild(f);h=null!=v?".priority"===pathGetBack(d)&&v.getChild(pathParent(d)).isEmpty()?v:v.updateChild(d,r):ChildrenNode.EMPTY_NODE}if(p.equals(h))s=t;else s=viewCacheUpdateEventSnap(t,e.filter.updateChild(c.getNode(),f,h,d,l,a),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function viewProcessorCacheHasChild(e,t){return e.eventCache.isCompleteForChild(t)}function viewProcessorApplyUserMerge(e,t,n,r,i,o,a){var s=t;return r.foreach((function(r,u){var c=pathChild(n,r);viewProcessorCacheHasChild(t,pathGetFront(c))&&(s=viewProcessorApplyUserOverwrite(e,s,c,u,i,o,a))})),r.foreach((function(r,u){var c=pathChild(n,r);viewProcessorCacheHasChild(t,pathGetFront(c))||(s=viewProcessorApplyUserOverwrite(e,s,c,u,i,o,a))})),s}function viewProcessorApplyMerge(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function viewProcessorApplyServerMerge(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=pathIsEmpty(n)?r:new ImmutableTree(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=t.serverCache.getNode().getImmediateChild(n),f=viewProcessorApplyMerge(e,u,r);c=viewProcessorApplyServerOverwrite(e,c,new Path(n),f,i,o,a,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var f=t.serverCache.getNode().getImmediateChild(n),h=viewProcessorApplyMerge(e,f,r);c=viewProcessorApplyServerOverwrite(e,c,new Path(n),h,i,o,a,s)}})),c}function viewProcessorAckUserWrite(e,t,n,r,i,o,a){if(null!=writeTreeRefShadowingWrite(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(pathIsEmpty(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return viewProcessorApplyServerOverwrite(e,t,n,u.getNode().getChild(n),i,o,s,a);if(pathIsEmpty(n)){var c=new ImmutableTree(null);return u.getNode().forEachChild(KEY_INDEX,(function(e,t){c=c.set(new Path(e),t)})),viewProcessorApplyServerMerge(e,t,n,c,i,o,s,a)}return t}var l=new ImmutableTree(null);return r.foreach((function(e,t){var r=pathChild(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),viewProcessorApplyServerMerge(e,t,n,l,i,o,s,a)}function viewProcessorListenComplete(e,t,n,r,i){var o=t.serverCache;return viewProcessorGenerateEventCacheAfterServerEvent(e,viewCacheUpdateServerSnap(t,o.getNode(),o.isFullyInitialized()||pathIsEmpty(n),o.isFiltered()),n,r,NO_COMPLETE_CHILD_SOURCE,i)}function viewProcessorRevertUserWrite(e,t,n,r,i,o){var a;if(null!=writeTreeRefShadowingWrite(r,n))return t;var s,u=new WriteTreeCompleteChildSource(r,t,i),c=t.eventCache.getNode();if(pathIsEmpty(n)||".priority"===pathGetFront(n)){var l;if(t.serverCache.isFullyInitialized())l=writeTreeRefCalcCompleteEventCache(r,viewCacheGetCompleteServerSnap(t));else{var f=t.serverCache.getNode();assert(f instanceof ChildrenNode,"serverChildren would be complete if leaf node"),l=writeTreeRefCalcCompleteEventChildren(r,f)}l=l,s=e.filter.updateFullNode(c,l,o)}else{var h=pathGetFront(n),d=writeTreeRefCalcCompleteChild(r,h,t.serverCache);null==d&&t.serverCache.isCompleteForChild(h)&&(d=c.getImmediateChild(h)),(s=null!=d?e.filter.updateChild(c,h,d,pathPopFront(n),u,o):t.eventCache.getNode().hasChild(h)?e.filter.updateChild(c,h,ChildrenNode.EMPTY_NODE,pathPopFront(n),u,o):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(a=writeTreeRefCalcCompleteEventCache(r,viewCacheGetCompleteServerSnap(t))).isLeafNode()&&(s=e.filter.updateFullNode(s,a,o))}return a=t.serverCache.isFullyInitialized()||null!=writeTreeRefShadowingWrite(r,newEmptyPath()),viewCacheUpdateEventSnap(t,s,a,e.filter.filtersNodes())}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var View=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n=this.query_._queryParams,r=new IndexedFilter(n.getIndex()),i=queryParamsGetNodeFilter(n);this.processor_=newViewProcessor(i);var o=t.serverCache,a=t.eventCache,s=r.updateFullNode(ChildrenNode.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode(ChildrenNode.EMPTY_NODE,a.getNode(),null),c=new CacheNode(s,o.isFullyInitialized(),r.filtersNodes()),l=new CacheNode(u,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=newViewCache(l,c),this.eventGenerator_=new EventGenerator(this.query_)}return _createClass2(e,[{key:"query",get:function(){return this.query_}}]),e}(),referenceConstructor$1;function viewGetServerCache(e){return e.viewCache_.serverCache.getNode()}function viewGetCompleteServerCache(e,t){var n=viewCacheGetCompleteServerSnap(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!pathIsEmpty(t)&&!n.getImmediateChild(pathGetFront(t)).isEmpty())?n.getChild(t):null}function viewIsEmpty(e){return 0===e.eventRegistrations_.length}function viewAddEventRegistration(e,t){e.eventRegistrations_.push(t)}function viewRemoveEventRegistration(e,t,n){var r=[];if(n){assert(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var o=[],a=0;a<e.eventRegistrations_.length;++a){var s=e.eventRegistrations_[a];if(s.matches(t)){if(t.hasAnyCallback()){o=o.concat(e.eventRegistrations_.slice(a+1));break}}else o.push(s)}e.eventRegistrations_=o}else e.eventRegistrations_=[];return r}function viewApplyOperation(e,t,n,r){t.type===OperationType.MERGE&&null!==t.source.queryId&&(assert(viewCacheGetCompleteServerSnap(e.viewCache_),"We should always have a full cache before handling merges"),assert(viewCacheGetCompleteEventSnap(e.viewCache_),"Missing event cache, even though we have a server cache"));var i=e.viewCache_,o=viewProcessorApplyOperation(e.processor_,i,t,n,r);return viewProcessorAssertIndexed(e.processor_,o.viewCache),assert(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,viewGenerateEventsForChanges_(e,o.changes,o.viewCache.eventCache.getNode(),null)}function viewGetInitialEvents(e,t){var n=e.viewCache_.eventCache,r=[];n.getNode().isLeafNode()||n.getNode().forEachChild(PRIORITY_INDEX,(function(e,t){r.push(changeChildAdded(e,t))}));return n.isFullyInitialized()&&r.push(changeValue(n.getNode())),viewGenerateEventsForChanges_(e,r,n.getNode(),t)}function viewGenerateEventsForChanges_(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return eventGeneratorGenerateEventsForChanges(e.eventGenerator_,t,n,i)}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var SyncPoint=function(){this.views=new Map},referenceConstructor;function syncPointSetReferenceConstructor(e){assert(!referenceConstructor$1,"__referenceConstructor has already been defined"),referenceConstructor$1=e}function syncPointGetReferenceConstructor(){return assert(referenceConstructor$1,"Reference.ts has not been loaded"),referenceConstructor$1}function syncPointIsEmpty(e){return 0===e.views.size}function syncPointApplyOperation(e,t,n,r){var i=t.source.queryId;if(null!==i){var o=e.views.get(i);return assert(null!=o,"SyncTree gave us an op for an invalid query."),viewApplyOperation(o,t,n,r)}for(var a,s=[],u=_createForOfIteratorHelperLoose(e.views.values());!(a=u()).done;){var c=a.value;s=s.concat(viewApplyOperation(c,t,n,r))}return s}function syncPointGetView(e,t,n,r,i){var o=t._queryIdentifier,a=e.views.get(o);if(!a){var s=writeTreeRefCalcCompleteEventCache(n,i?r:null),u=!1;s?u=!0:r instanceof ChildrenNode?(s=writeTreeRefCalcCompleteEventChildren(n,r),u=!1):(s=ChildrenNode.EMPTY_NODE,u=!1);var c=newViewCache(new CacheNode(s,u,!1),new CacheNode(r,i,!1));return new View(t,c)}return a}function syncPointAddEventRegistration(e,t,n,r,i,o){var a=syncPointGetView(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),viewAddEventRegistration(a,n),viewGetInitialEvents(a,n)}function syncPointRemoveEventRegistration(e,t,n,r){var i=t._queryIdentifier,o=[],a=[],s=syncPointHasCompleteView(e);if("default"===i)for(var u,c=_createForOfIteratorHelperLoose(e.views.entries());!(u=c()).done;){var l=u.value,f=l[0],h=l[1];a=a.concat(viewRemoveEventRegistration(h,n,r)),viewIsEmpty(h)&&(e.views.delete(f),h.query._queryParams.loadsAllData()||o.push(h.query))}else{var d=e.views.get(i);d&&(a=a.concat(viewRemoveEventRegistration(d,n,r)),viewIsEmpty(d)&&(e.views.delete(i),d.query._queryParams.loadsAllData()||o.push(d.query)))}return s&&!syncPointHasCompleteView(e)&&o.push(new(syncPointGetReferenceConstructor())(t._repo,t._path)),{removed:o,events:a}}function syncPointGetQueryViews(e){for(var t,n=[],r=_createForOfIteratorHelperLoose(e.views.values());!(t=r()).done;){var i=t.value;i.query._queryParams.loadsAllData()||n.push(i)}return n}function syncPointGetCompleteServerCache(e,t){for(var n,r=null,i=_createForOfIteratorHelperLoose(e.views.values());!(n=i()).done;){var o=n.value;r=r||viewGetCompleteServerCache(o,t)}return r}function syncPointViewForQuery(e,t){if(t._queryParams.loadsAllData())return syncPointGetCompleteView(e);var n=t._queryIdentifier;return e.views.get(n)}function syncPointViewExistsForQuery(e,t){return null!=syncPointViewForQuery(e,t)}function syncPointHasCompleteView(e){return null!=syncPointGetCompleteView(e)}function syncPointGetCompleteView(e){for(var t,n=_createForOfIteratorHelperLoose(e.views.values());!(t=n()).done;){var r=t.value;if(r.query._queryParams.loadsAllData())return r}return null}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function syncTreeSetReferenceConstructor(e){assert(!referenceConstructor,"__referenceConstructor has already been defined"),referenceConstructor=e}function syncTreeGetReferenceConstructor(){return assert(referenceConstructor,"Reference.ts has not been loaded"),referenceConstructor}var syncTreeNextQueryTag_=1,SyncTree=function(e){this.listenProvider_=e,this.syncPointTree_=new ImmutableTree(null),this.pendingWriteTree_=newWriteTree(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function syncTreeApplyUserOverwrite(e,t,n,r,i){return writeTreeAddOverwrite(e.pendingWriteTree_,t,n,r,i),i?syncTreeApplyOperationToSyncPoints_(e,new Overwrite(newOperationSourceUser(),t,n)):[]}function syncTreeAckUserWrite(e,t,n){void 0===n&&(n=!1);var r=writeTreeGetWrite(e.pendingWriteTree_,t);if(writeTreeRemoveWrite(e.pendingWriteTree_,t)){var i=new ImmutableTree(null);return null!=r.snap?i=i.set(newEmptyPath(),!0):each(r.children,(function(e){i=i.set(new Path(e),!0)})),syncTreeApplyOperationToSyncPoints_(e,new AckUserWrite(r.path,i,n))}return[]}function syncTreeApplyServerOverwrite(e,t,n){return syncTreeApplyOperationToSyncPoints_(e,new Overwrite(newOperationSourceServer(),t,n))}function syncTreeApplyServerMerge(e,t,n){var r=ImmutableTree.fromObject(n);return syncTreeApplyOperationToSyncPoints_(e,new Merge(newOperationSourceServer(),t,r))}function syncTreeApplyListenComplete(e,t){return syncTreeApplyOperationToSyncPoints_(e,new ListenComplete(newOperationSourceServer(),t))}function syncTreeApplyTaggedListenComplete(e,t,n){var r=syncTreeQueryKeyForTag_(e,n);if(r){var i=syncTreeParseQueryKey_(r),o=i.path,a=i.queryId,s=newRelativePath(o,t);return syncTreeApplyTaggedOperation_(e,o,new ListenComplete(newOperationSourceServerTaggedQuery(a),s))}return[]}function syncTreeRemoveEventRegistration(e,t,n,r){var i=t._path,o=e.syncPointTree_.get(i),a=[];if(o&&("default"===t._queryIdentifier||syncPointViewExistsForQuery(o,t))){var s=syncPointRemoveEventRegistration(o,t,n,r);syncPointIsEmpty(o)&&(e.syncPointTree_=e.syncPointTree_.remove(i));var u=s.removed;a=s.events;var c=-1!==u.findIndex((function(e){return e._queryParams.loadsAllData()})),l=e.syncPointTree_.findOnPath(i,(function(e,t){return syncPointHasCompleteView(t)}));if(c&&!l){var f=e.syncPointTree_.subtree(i);if(!f.isEmpty())for(var h=syncTreeCollectDistinctViewsForSubTree_(f),d=0;d<h.length;++d){var p=h[d],v=p.query,g=syncTreeCreateListenerForView_(e,p);e.listenProvider_.startListening(syncTreeQueryForListening_(v),syncTreeTagForQuery_(e,v),g.hashFn,g.onComplete)}}if(!l&&u.length>0&&!r)if(c){e.listenProvider_.stopListening(syncTreeQueryForListening_(t),null)}else u.forEach((function(t){var n=e.queryToTagMap.get(syncTreeMakeQueryKey_(t));e.listenProvider_.stopListening(syncTreeQueryForListening_(t),n)}));syncTreeRemoveTags_(e,u)}return a}function syncTreeApplyTaggedQueryOverwrite(e,t,n,r){var i=syncTreeQueryKeyForTag_(e,r);if(null!=i){var o=syncTreeParseQueryKey_(i),a=o.path,s=o.queryId,u=newRelativePath(a,t);return syncTreeApplyTaggedOperation_(e,a,new Overwrite(newOperationSourceServerTaggedQuery(s),u,n))}return[]}function syncTreeApplyTaggedQueryMerge(e,t,n,r){var i=syncTreeQueryKeyForTag_(e,r);if(i){var o=syncTreeParseQueryKey_(i),a=o.path,s=o.queryId,u=newRelativePath(a,t),c=ImmutableTree.fromObject(n);return syncTreeApplyTaggedOperation_(e,a,new Merge(newOperationSourceServerTaggedQuery(s),u,c))}return[]}function syncTreeAddEventRegistration(e,t,n){var r=t._path,i=null,o=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=newRelativePath(e,r);i=i||syncPointGetCompleteServerCache(t,n),o=o||syncPointHasCompleteView(t)}));var a,s=e.syncPointTree_.get(r);(s?(o=o||syncPointHasCompleteView(s),i=i||syncPointGetCompleteServerCache(s,newEmptyPath())):(s=new SyncPoint,e.syncPointTree_=e.syncPointTree_.set(r,s)),null!=i)?a=!0:(a=!1,i=ChildrenNode.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=syncPointGetCompleteServerCache(t,newEmptyPath());n&&(i=i.updateImmediateChild(e,n))})));var u=syncPointViewExistsForQuery(s,t);if(!u&&!t._queryParams.loadsAllData()){var c=syncTreeMakeQueryKey_(t);assert(!e.queryToTagMap.has(c),"View does not exist, but we have a tag");var l=syncTreeGetNextQueryTag_();e.queryToTagMap.set(c,l),e.tagToQueryMap.set(l,c)}var f=syncPointAddEventRegistration(s,t,n,writeTreeChildWrites(e.pendingWriteTree_,r),i,a);if(!u&&!o){var h=syncPointViewForQuery(s,t);f=f.concat(syncTreeSetupListener_(e,t,h))}return f}function syncTreeCalcCompleteEventCache(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=syncPointGetCompleteServerCache(n,newRelativePath(e,t));if(r)return r}));return writeTreeCalcCompleteEventCache(r,t,i,n,!0)}function syncTreeApplyOperationToSyncPoints_(e,t){return syncTreeApplyOperationHelper_(t,e.syncPointTree_,null,writeTreeChildWrites(e.pendingWriteTree_,newEmptyPath()))}function syncTreeApplyOperationHelper_(e,t,n,r){if(pathIsEmpty(e.path))return syncTreeApplyOperationDescendantsHelper_(e,t,n,r);var i=t.get(newEmptyPath());null==n&&null!=i&&(n=syncPointGetCompleteServerCache(i,newEmptyPath()));var o=[],a=pathGetFront(e.path),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=writeTreeRefChild(r,a);o=o.concat(syncTreeApplyOperationHelper_(s,u,c,l))}return i&&(o=o.concat(syncPointApplyOperation(i,e,r,n))),o}function syncTreeApplyOperationDescendantsHelper_(e,t,n,r){var i=t.get(newEmptyPath());null==n&&null!=i&&(n=syncPointGetCompleteServerCache(i,newEmptyPath()));var o=[];return t.children.inorderTraversal((function(t,i){var a=n?n.getImmediateChild(t):null,s=writeTreeRefChild(r,t),u=e.operationForChild(t);u&&(o=o.concat(syncTreeApplyOperationDescendantsHelper_(u,i,a,s)))})),i&&(o=o.concat(syncPointApplyOperation(i,e,r,n))),o}function syncTreeCreateListenerForView_(e,t){var n=t.query,r=syncTreeTagForQuery_(e,n);return{hashFn:function(){return(viewGetServerCache(t)||ChildrenNode.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?syncTreeApplyTaggedListenComplete(e,n._path,r):syncTreeApplyListenComplete(e,n._path);var i=errorForServerCode(t,n);return syncTreeRemoveEventRegistration(e,n,null,i)}}}function syncTreeTagForQuery_(e,t){var n=syncTreeMakeQueryKey_(t);return e.queryToTagMap.get(n)}function syncTreeMakeQueryKey_(e){return e._path.toString()+"$"+e._queryIdentifier}function syncTreeQueryKeyForTag_(e,t){return e.tagToQueryMap.get(t)}function syncTreeParseQueryKey_(e){var t=e.indexOf("$");return assert(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Path(e.substr(0,t))}}function syncTreeApplyTaggedOperation_(e,t,n){var r=e.syncPointTree_.get(t);return assert(r,"Missing sync point for query tag that we're tracking"),syncPointApplyOperation(r,n,writeTreeChildWrites(e.pendingWriteTree_,t),null)}function syncTreeCollectDistinctViewsForSubTree_(e){return e.fold((function(e,t,n){if(t&&syncPointHasCompleteView(t))return[syncPointGetCompleteView(t)];var r=[];return t&&(r=syncPointGetQueryViews(t)),each(n,(function(e,t){r=r.concat(t)})),r}))}function syncTreeQueryForListening_(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(syncTreeGetReferenceConstructor())(e._repo,e._path):e}function syncTreeRemoveTags_(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=syncTreeMakeQueryKey_(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}function syncTreeGetNextQueryTag_(){return syncTreeNextQueryTag_++}function syncTreeSetupListener_(e,t,n){var r=t._path,i=syncTreeTagForQuery_(e,t),o=syncTreeCreateListenerForView_(e,n),a=e.listenProvider_.startListening(syncTreeQueryForListening_(t),i,o.hashFn,o.onComplete),s=e.syncPointTree_.subtree(r);if(i)assert(!syncPointHasCompleteView(s.value),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold((function(e,t,n){if(!pathIsEmpty(e)&&t&&syncPointHasCompleteView(t))return[syncPointGetCompleteView(t).query];var r=[];return t&&(r=r.concat(syncPointGetQueryViews(t).map((function(e){return e.query})))),each(n,(function(e,t){r=r.concat(t)})),r})),c=0;c<u.length;++c){var l=u[c];e.listenProvider_.stopListening(syncTreeQueryForListening_(l),syncTreeTagForQuery_(e,l))}return a}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var ExistingValueProvider=function(){function e(e){this.node_=e}var t=e.prototype;return t.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},t.node=function(){return this.node_},e}(),DeferredValueProvider=function(){function e(e,t){this.syncTree_=e,this.path_=t}var t=e.prototype;return t.getImmediateChild=function(t){var n=pathChild(this.path_,t);return new e(this.syncTree_,n)},t.node=function(){return syncTreeCalcCompleteEventCache(this.syncTree_,this.path_)},e}(),generateWithValues=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},resolveDeferredLeafValue=function(e,t,n){return e&&"object"==typeof e?(assert(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?resolveScalarDeferredValue(e[".sv"],t,n):"object"==typeof e[".sv"]?resolveComplexDeferredValue(e[".sv"],t):void assert(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},resolveScalarDeferredValue=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:assert(!1,"Unexpected server value: "+e)}},resolveComplexDeferredValue=function(e,t,n){e.hasOwnProperty("increment")||assert(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!=typeof r&&assert(!1,"Unexpected increment value: "+r);var i=t.node();if(assert(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i.getValue();return"number"!=typeof o?r:o+r},resolveDeferredValueTree=function(e,t,n,r){return resolveDeferredValue(t,new DeferredValueProvider(n,e),r)},resolveDeferredValueSnapshot=function(e,t,n){return resolveDeferredValue(e,new ExistingValueProvider(t),n)};function resolveDeferredValue(e,t,n){var r,i=e.getPriority().val(),o=resolveDeferredLeafValue(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=resolveDeferredLeafValue(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new LeafNode(s,nodeFromJSON(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new LeafNode(o))),u.forEachChild(PRIORITY_INDEX,(function(e,i){var o=resolveDeferredValue(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var Tree=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};function treeSubTree(e,t){for(var n=t instanceof Path?t:new Path(t),r=e,i=pathGetFront(n);null!==i;){var o=safeGet(r.node.children,i)||{children:{},childCount:0};r=new Tree(i,r,o),i=pathGetFront(n=pathPopFront(n))}return r}function treeGetValue(e){return e.node.value}function treeSetValue(e,t){e.node.value=t,treeUpdateParents(e)}function treeHasChildren(e){return e.node.childCount>0}function treeIsEmpty(e){return void 0===treeGetValue(e)&&!treeHasChildren(e)}function treeForEachChild(e,t){each(e.node.children,(function(n,r){t(new Tree(n,e,r))}))}function treeForEachDescendant(e,t,n,r){n&&!r&&t(e),treeForEachChild(e,(function(e){treeForEachDescendant(e,t,!0,r)})),n&&r&&t(e)}function treeForEachAncestor(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}return!1}function treeGetPath(e){return new Path(null===e.parent?e.name:treeGetPath(e.parent)+"/"+e.name)}function treeUpdateParents(e){null!==e.parent&&treeUpdateChild(e.parent,e.name,e)}function treeUpdateChild(e,t,n){var r=treeIsEmpty(n),i=contains(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,treeUpdateParents(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,treeUpdateParents(e))}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var INVALID_KEY_REGEX_=/[\[\].#$\/\u0000-\u001F\u007F]/,INVALID_PATH_REGEX_=/[\[\].#$\u0000-\u001F\u007F]/,MAX_LEAF_SIZE_=10485760,isValidKey$1=function(e){return"string"==typeof e&&0!==e.length&&!INVALID_KEY_REGEX_.test(e)},isValidPathString=function(e){return"string"==typeof e&&0!==e.length&&!INVALID_PATH_REGEX_.test(e)},isValidRootPathString=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),isValidPathString(e)},validateFirebaseData=function e(t,n,r){var i=r instanceof Path?new ValidationPath(r,t):r;if(void 0===n)throw new Error(t+"contains undefined "+validationPathToErrorString(i));if("function"==typeof n)throw new Error(t+"contains a function "+validationPathToErrorString(i)+" with contents = "+n.toString());if(isInvalidJSONNumber(n))throw new Error(t+"contains "+n.toString()+" "+validationPathToErrorString(i));if("string"==typeof n&&n.length>MAX_LEAF_SIZE_/3&&stringLength(n)>MAX_LEAF_SIZE_)throw new Error(t+"contains a string greater than "+MAX_LEAF_SIZE_+" utf8 bytes "+validationPathToErrorString(i)+" ('"+n.substring(0,50)+"...')");if(n&&"object"==typeof n){var o=!1,a=!1;if(each(n,(function(n,r){if(".value"===n)o=!0;else if(".priority"!==n&&".sv"!==n&&(a=!0,!isValidKey$1(n)))throw new Error(t+" contains an invalid key ("+n+") "+validationPathToErrorString(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');validationPathPush(i,n),e(t,r,i),validationPathPop(i)})),o&&a)throw new Error(t+' contains ".value" child '+validationPathToErrorString(i)+" in addition to actual children.")}},validatePathString=function(e,t,n,r){if(!(r&&void 0===n||isValidPathString(n)))throw new Error(errorPrefix(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},validateRootPathString=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),validatePathString(e,t,n,r)},validateUrl=function(e,t){var n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!isValidKey$1(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!isValidRootPathString(n))throw new Error(errorPrefix(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},EventQueue=function(){this.eventLists_=[],this.recursionDepth_=0};function eventQueueQueueEvents(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||pathEquals(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function eventQueueRaiseEventsAtPath(e,t,n){eventQueueQueueEvents(e,n),eventQueueRaiseQueuedEventsMatchingPredicate(e,(function(e){return pathEquals(e,t)}))}function eventQueueRaiseEventsForChangedPath(e,t,n){eventQueueQueueEvents(e,n),eventQueueRaiseQueuedEventsMatchingPredicate(e,(function(e){return pathContains(e,t)||pathContains(t,e)}))}function eventQueueRaiseQueuedEventsMatchingPredicate(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(eventListRaise(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function eventListRaise(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();logger$1&&log("event: "+n.toString()),exceptionGuard(r)}}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var INTERRUPT_REASON="repo_interrupt",MAX_TRANSACTION_RETRIES=25,Repo=function(){function e(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new EventQueue,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=newSparseSnapshotTree(),this.transactionQueueTree_=new Tree,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function repoStart(e,t,n){if(e.stats_=statsManagerGetCollection(e.repoInfo_),e.forceRestClient_||beingCrawled())e.server_=new ReadonlyRestClient(e.repoInfo_,(function(t,n,r,i){repoOnDataUpdate(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return repoOnConnectStatus(e,!0)}),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{stringify(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new PersistentConnection(e.repoInfo_,t,(function(t,n,r,i){repoOnDataUpdate(e,t,n,r,i)}),(function(t){repoOnConnectStatus(e,t)}),(function(t){repoOnServerInfoUpdate(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=statsManagerGetOrCreateReporter(e.repoInfo_,(function(){return new StatsReporter(e.stats_,e.server_)})),e.infoData_=new SnapshotHolder,e.infoSyncTree_=new SyncTree({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=syncTreeApplyServerOverwrite(e.infoSyncTree_,t._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),repoUpdateInfo(e,"connected",!1),e.serverSyncTree_=new SyncTree({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);eventQueueRaiseEventsForChangedPath(e.eventQueue_,t._path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function repoServerTime(e){var t=e.infoData_.getNode(new Path(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function repoGenerateServerValues(e){return generateWithValues({timestamp:repoServerTime(e)})}function repoOnDataUpdate(e,t,n,r,i){e.dataUpdateCount++;var o=new Path(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var a=[];if(i)if(r){var s=map(n,(function(e){return nodeFromJSON(e)}));a=syncTreeApplyTaggedQueryMerge(e.serverSyncTree_,o,s,i)}else{var u=nodeFromJSON(n);a=syncTreeApplyTaggedQueryOverwrite(e.serverSyncTree_,o,u,i)}else if(r){var c=map(n,(function(e){return nodeFromJSON(e)}));a=syncTreeApplyServerMerge(e.serverSyncTree_,o,c)}else{var l=nodeFromJSON(n);a=syncTreeApplyServerOverwrite(e.serverSyncTree_,o,l)}var f=o;a.length>0&&(f=repoRerunTransactions(e,o)),eventQueueRaiseEventsForChangedPath(e.eventQueue_,f,a)}function repoOnConnectStatus(e,t){repoUpdateInfo(e,"connected",t),!1===t&&repoRunOnDisconnectEvents(e)}function repoOnServerInfoUpdate(e,t){each(t,(function(t,n){repoUpdateInfo(e,t,n)}))}function repoUpdateInfo(e,t,n){var r=new Path("/.info/"+t),i=nodeFromJSON(n);e.infoData_.updateSnapshot(r,i);var o=syncTreeApplyServerOverwrite(e.infoSyncTree_,r,i);eventQueueRaiseEventsForChangedPath(e.eventQueue_,r,o)}function repoGetNextWriteId(e){return e.nextWriteId_++}function repoRunOnDisconnectEvents(e){repoLog(e,"onDisconnectEvents");var t=repoGenerateServerValues(e),n=newSparseSnapshotTree();sparseSnapshotTreeForEachTree(e.onDisconnect_,newEmptyPath(),(function(r,i){var o=resolveDeferredValueTree(r,i,e.serverSyncTree_,t);sparseSnapshotTreeRemember(n,r,o)}));var r=[];sparseSnapshotTreeForEachTree(n,newEmptyPath(),(function(t,n){r=r.concat(syncTreeApplyServerOverwrite(e.serverSyncTree_,t,n));var i=repoAbortTransactions(e,t);repoRerunTransactions(e,i)})),e.onDisconnect_=newSparseSnapshotTree(),eventQueueRaiseEventsForChangedPath(e.eventQueue_,newEmptyPath(),r)}function repoAddEventCallbackForQuery(e,t,n){var r;r=".info"===pathGetFront(t._path)?syncTreeAddEventRegistration(e.infoSyncTree_,t,n):syncTreeAddEventRegistration(e.serverSyncTree_,t,n),eventQueueRaiseEventsAtPath(e.eventQueue_,t._path,r)}function repoRemoveEventCallbackForQuery(e,t,n){var r;r=".info"===pathGetFront(t._path)?syncTreeRemoveEventRegistration(e.infoSyncTree_,t,n):syncTreeRemoveEventRegistration(e.serverSyncTree_,t,n),eventQueueRaiseEventsAtPath(e.eventQueue_,t._path,r)}function repoInterrupt(e){e.persistentConnection_&&e.persistentConnection_.interrupt(INTERRUPT_REASON)}function repoLog(e){var t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];log.apply(void 0,[t].concat(r))}function repoGetLatestState(e,t,n){return syncTreeCalcCompleteEventCache(e.serverSyncTree_,t,n)||ChildrenNode.EMPTY_NODE}function repoSendReadyTransactions(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||repoPruneCompletedTransactionsBelowNode(e,t),treeGetValue(t)){var n=repoBuildTransactionQueue(e,t);assert(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&repoSendTransactionQueue(e,treeGetPath(t),n)}else treeHasChildren(t)&&treeForEachChild(t,(function(t){repoSendReadyTransactions(e,t)}))}function repoSendTransactionQueue(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=repoGetLatestState(e,t,r),o=i,a=i.hash(),s=0;s<n.length;s++){var u=n[s];assert(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;var c=newRelativePath(t,u.path);o=o.updateChild(c,u.currentOutputSnapshotRaw)}var l=o.val(!0),f=t;e.server_.put(f.toString(),l,(function(r){repoLog(e,"transaction put response",{path:f.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(t){n[t].status=2,i=i.concat(syncTreeAckUserWrite(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)a(s);repoPruneCompletedTransactionsBelowNode(e,treeSubTree(e.transactionQueueTree_,t)),repoSendReadyTransactions(e,e.transactionQueueTree_),eventQueueRaiseEventsForChangedPath(e.eventQueue_,t,i);for(var u=0;u<o.length;u++)exceptionGuard(o[u])}else{if("datastale"===r)for(var c=0;c<n.length;c++)3===n[c].status?n[c].status=4:n[c].status=0;else{warn$1("transaction at "+f.toString()+" failed: "+r);for(var l=0;l<n.length;l++)n[l].status=4,n[l].abortReason=r}repoRerunTransactions(e,t)}}),a)}function repoRerunTransactions(e,t){var n=repoGetAncestorTransactionNode(e,t),r=treeGetPath(n);return repoRerunTransactionQueue(e,repoBuildTransactionQueue(e,n),r),r}function repoRerunTransactionQueue(e,t,n){if(0!==t.length){for(var r=[],i=[],o=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),a=function(a){var s,u=t[a],c=newRelativePath(n,u.path),l=!1,f=void 0;if(assert(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===u.status)l=!0,f=u.abortReason,i=i.concat(syncTreeAckUserWrite(e.serverSyncTree_,u.currentWriteId,!0));else if(0===u.status)if(u.retryCount>=MAX_TRANSACTION_RETRIES)l=!0,f="maxretry",i=i.concat(syncTreeAckUserWrite(e.serverSyncTree_,u.currentWriteId,!0));else{var h=repoGetLatestState(e,u.path,o);u.currentInputSnapshot=h;var d=t[a].update(h.val());if(void 0!==d){validateFirebaseData("transaction failed: Data returned ",d,u.path);var p=nodeFromJSON(d);"object"==typeof d&&null!=d&&contains(d,".priority")||(p=p.updatePriority(h.getPriority()));var v=u.currentWriteId,g=repoGenerateServerValues(e),_=resolveDeferredValueSnapshot(p,h,g);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=_,u.currentWriteId=repoGetNextWriteId(e),o.splice(o.indexOf(v),1),i=(i=i.concat(syncTreeApplyUserOverwrite(e.serverSyncTree_,u.path,_,u.currentWriteId,u.applyLocally))).concat(syncTreeAckUserWrite(e.serverSyncTree_,v,!0))}else l=!0,f="nodata",i=i.concat(syncTreeAckUserWrite(e.serverSyncTree_,u.currentWriteId,!0))}eventQueueRaiseEventsForChangedPath(e.eventQueue_,n,i),i=[],l&&(t[a].status=2,s=t[a].unwatcher,setTimeout(s,Math.floor(0)),t[a].onComplete&&("nodata"===f?r.push((function(){return t[a].onComplete(null,!1,t[a].currentInputSnapshot)})):r.push((function(){return t[a].onComplete(new Error(f),!1,null)}))))},s=0;s<t.length;s++)a(s);repoPruneCompletedTransactionsBelowNode(e,e.transactionQueueTree_);for(var u=0;u<r.length;u++)exceptionGuard(r[u]);repoSendReadyTransactions(e,e.transactionQueueTree_)}}function repoGetAncestorTransactionNode(e,t){var n,r=e.transactionQueueTree_;for(n=pathGetFront(t);null!==n&&void 0===treeGetValue(r);)r=treeSubTree(r,n),n=pathGetFront(t=pathPopFront(t));return r}function repoBuildTransactionQueue(e,t){var n=[];return repoAggregateTransactionQueuesForNode(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function repoAggregateTransactionQueuesForNode(e,t,n){var r=treeGetValue(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);treeForEachChild(t,(function(t){repoAggregateTransactionQueuesForNode(e,t,n)}))}function repoPruneCompletedTransactionsBelowNode(e,t){var n=treeGetValue(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,treeSetValue(t,n.length>0?n:void 0)}treeForEachChild(t,(function(t){repoPruneCompletedTransactionsBelowNode(e,t)}))}function repoAbortTransactions(e,t){var n=treeGetPath(repoGetAncestorTransactionNode(e,t)),r=treeSubTree(e.transactionQueueTree_,t);return treeForEachAncestor(r,(function(t){repoAbortTransactionsOnNode(e,t)})),repoAbortTransactionsOnNode(e,r),treeForEachDescendant(r,(function(t){repoAbortTransactionsOnNode(e,t)})),n}function repoAbortTransactionsOnNode(e,t){var n=treeGetValue(t);if(n){for(var r=[],i=[],o=-1,a=0;a<n.length;a++)3===n[a].status||(1===n[a].status?(assert(o===a-1,"All SENT items should be at beginning of queue."),o=a,n[a].status=3,n[a].abortReason="set"):(assert(0===n[a].status,"Unexpected transaction status in abort"),n[a].unwatcher(),i=i.concat(syncTreeAckUserWrite(e.serverSyncTree_,n[a].currentWriteId,!0)),n[a].onComplete&&r.push(n[a].onComplete.bind(null,new Error("set"),!1,null))));-1===o?treeSetValue(t,void 0):n.length=o+1,eventQueueRaiseEventsForChangedPath(e.eventQueue_,treeGetPath(t),i);for(var s=0;s<r.length;s++)exceptionGuard(r[s])}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function decodePath(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}t+="/"+i}return t}function decodeQuery(e){var t={};"?"===e.charAt(0)&&(e=e.substring(1));for(var n,r=_createForOfIteratorHelperLoose(e.split("&"));!(n=r()).done;){var i=n.value;if(0!==i.length){var o=i.split("=");2===o.length?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):warn$1("Invalid query segment '"+i+"' in query '"+e+"'")}}return t}var parseRepoInfo=function(e,t){var n=parseDatabaseURL(e),r=n.namespace;"firebase.com"===n.domain&&fatal(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||fatal("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||warnIfPageIsSecure();var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new RepoInfo(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new Path(n.pathString)}},parseDatabaseURL=function(e){var t="",n="",r="",i="",o="",a=!0,s="https",u=443;if("string"==typeof e){var c=e.indexOf("//");c>=0&&(s=e.substring(0,c-1),e=e.substring(c+2));var l=e.indexOf("/");-1===l&&(l=e.length);var f=e.indexOf("?");-1===f&&(f=e.length),t=e.substring(0,Math.min(l,f)),l<f&&(i=decodePath(e.substring(l,f)));var h=decodeQuery(e.substring(Math.min(e.length,f)));(c=t.indexOf(":"))>=0?(a="https"===s||"wss"===s,u=parseInt(t.substring(c+1),10)):c=t.length;var d=t.slice(0,c);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var p=t.indexOf(".");r=t.substring(0,p).toLowerCase(),n=t.substring(p+1),o=r}"ns"in h&&(o=h.ns)}return{host:t,port:u,domain:n,subdomain:r,secure:a,scheme:s,pathString:i,namespace:o}},DataEvent=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}var t=e.prototype;return t.getPath=function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path},t.getEventType=function(){return this.eventType},t.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+stringify(this.snapshot.exportVal())},e}(),CancelEvent=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}var t=e.prototype;return t.getPath=function(){return this.path},t.getEventType=function(){return"cancel"},t.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.toString=function(){return this.path.toString()+":cancel"},e}(),CallbackContext=function(){function e(e,t){this.snapshotCallback=e,this.cancelCallback=t}var t=e.prototype;return t.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},t.onCancel=function(e){return assert(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},t.matches=function(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},_createClass2(e,[{key:"hasCancelCallback",get:function(){return!!this.cancelCallback}}]),e}(),QueryImpl=function(){function e(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}var t=e.prototype;return t.isEqual=function(t){if(!((t=getModularInstance(t))instanceof e))return!1;var n=this._repo===t._repo,r=pathEquals(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},t.toJSON=function(){return this.toString()},t.toString=function(){return this._repo.toString()+pathToUrlEncodedString(this._path)},_createClass2(e,[{key:"key",get:function(){return pathIsEmpty(this._path)?null:pathGetBack(this._path)}},{key:"ref",get:function(){return new ReferenceImpl(this._repo,this._path)}},{key:"_queryIdentifier",get:function(){var e=queryParamsGetQueryObject(this._queryParams),t=ObjectToUniqueKey(e);return"{}"===t?"default":t}},{key:"_queryObject",get:function(){return queryParamsGetQueryObject(this._queryParams)}}]),e}(),ReferenceImpl=function(e){function t(t,n){return e.call(this,t,n,new QueryParams,!1)||this}return _inheritsLoose(t,e),_createClass2(t,[{key:"parent",get:function(){var e=pathParent(this._path);return null===e?null:new t(this._repo,e)}},{key:"root",get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e}}]),t}(QueryImpl),DataSnapshot=function(){function e(e,t,n){this._node=e,this.ref=t,this._index=n}var t=e.prototype;return t.child=function(t){var n=new Path(t),r=_child12(this.ref,t);return new e(this._node.getChild(n),r,PRIORITY_INDEX)},t.exists=function(){return!this._node.isEmpty()},t.exportVal=function(){return this._node.val(!0)},t.forEach=function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,_child12(n.ref,r),PRIORITY_INDEX))}))},t.hasChild=function(e){var t=new Path(e);return!this._node.getChild(t).isEmpty()},t.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},t.toJSON=function(){return this.exportVal()},t.val=function(){return this._node.val()},_createClass2(e,[{key:"priority",get:function(){return this._node.getPriority().val()}},{key:"key",get:function(){return this.ref.key}},{key:"size",get:function(){return this._node.numChildren()}}]),e}();function ref$1(e,t){return(e=getModularInstance(e))._checkNotDeleted("ref"),void 0!==t?_child12(e._root,t):e._root}function _child12(e,t){return null===pathGetFront((e=getModularInstance(e))._path)?validateRootPathString("child","path",t,!1):validatePathString("child","path",t,!1),new ReferenceImpl(e._repo,pathChild(e._path,t))}var ValueEventRegistration=function(){function e(e){this.callbackContext=e}var t=e.prototype;return t.respondsTo=function(e){return"value"===e},t.createEvent=function(e,t){var n=t._queryParams.getIndex();return new DataEvent("value",this,new DataSnapshot(e.snapshotNode,new ReferenceImpl(t._repo,t._path),n))},t.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},t.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new CancelEvent(this,e,t):null},t.matches=function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))},t.hasAnyCallback=function(){return null!==this.callbackContext},e}(),ChildEventRegistration=function(){function e(e,t){this.eventType=e,this.callbackContext=t}var t=e.prototype;return t.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t},t.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new CancelEvent(this,e,t):null},t.createEvent=function(e,t){assert(null!=e.childName,"Child events should have a childName.");var n=_child12(new ReferenceImpl(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new DataEvent(e.type,this,new DataSnapshot(e.snapshotNode,n,r),e.prevName)},t.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},t.matches=function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))},t.hasAnyCallback=function(){return!!this.callbackContext},e}();function addEventListener$1(e,t,n,r,i){var o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){var a=n,s=function(t,n){repoRemoveEventCallbackForQuery(e._repo,e,c),a(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new CallbackContext(n,o||void 0),c="value"===t?new ValueEventRegistration(u):new ChildEventRegistration(t,u);return repoAddEventCallbackForQuery(e._repo,e,c),function(){return repoRemoveEventCallbackForQuery(e._repo,e,c)}}function onValue(e,t,n,r){return addEventListener$1(e,"value",t,n,r)}syncPointSetReferenceConstructor(ReferenceImpl),syncTreeSetReferenceConstructor(ReferenceImpl);
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
var FIREBASE_DATABASE_EMULATOR_HOST_VAR="FIREBASE_DATABASE_EMULATOR_HOST",repos={},useRestClient=!1;function repoManagerDatabaseFromApp(e,t,n,r,i){var o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||fatal("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),log("Using default host for project ",e.options.projectId),o=e.options.projectId+"-default-rtdb.firebaseio.com");var a,s=parseRepoInfo(o,i),u=s.repoInfo,c=void 0;"undefined"!=typeof process&&(c=process.env[FIREBASE_DATABASE_EMULATOR_HOST_VAR]),c?(a=!0,o="http://"+c+"?ns="+u.namespace,u=(s=parseRepoInfo(o,i)).repoInfo):a=!s.repoInfo.secure;var l=i&&a?new EmulatorTokenProvider(EmulatorTokenProvider.OWNER):new FirebaseAuthTokenProvider(e.name,e.options,t);validateUrl("Invalid Firebase Database URL",s),pathIsEmpty(s.path)||fatal("Database URL must point to the root of a Firebase Database (not including a child path).");var f=repoManagerCreateRepo(u,e,l,new AppCheckTokenProvider(e.name,n));return new FirebaseDatabase(f,e)}function repoManagerDeleteRepo(e,t){var n=repos[t];n&&n[e.key]===e||fatal("Database "+t+"("+e.repoInfo_+") has already been deleted."),repoInterrupt(e),delete n[e.key]}function repoManagerCreateRepo(e,t,n,r){var i=repos[t.name];i||(i={},repos[t.name]=i);var o=i[e.toURLString()];return o&&fatal("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new Repo(e,useRestClient,n,r),i[e.toURLString()]=o,o}var FirebaseDatabase=function(){function e(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}var t=e.prototype;return t._delete=function(){return this._checkNotDeleted("delete"),repoManagerDeleteRepo(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null,Promise.resolve()},t._checkNotDeleted=function(e){null===this._rootInternal&&fatal("Cannot call "+e+" on a deleted database.")},_createClass2(e,[{key:"_repo",get:function(){return this._instanceStarted||(repoStart(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}},{key:"_root",get:function(){return this._rootInternal||(this._rootInternal=new ReferenceImpl(this._repo,newEmptyPath())),this._rootInternal}}]),e}();function getDatabase(e,t){return void 0===e&&(e=getApp()),_getProvider(e,"database-exp").getImmediate({identifier:t})}
/**
             * @license
             * Copyright 2021 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function registerDatabase(e){setSDKVersion(SDK_VERSION),_registerComponent(new Component("database-exp",(function(e,t){var n=t.instanceIdentifier;return repoManagerDatabaseFromApp(e.getProvider("app-exp").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),registerVersion(name$q,version$4,e)}registerDatabase();
/*!
             * clipboard.js v2.0.6
             * https://clipboardjs.com/
             * 
             * Licensed MIT © Zeno Rocha
             */
var clipboard=createCommonjsModule((function(e,t){var n;n=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=6)}([function(e,t){e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var r=window.getSelection(),i=document.createRange();i.selectNodeContents(e),r.removeAllRanges(),r.addRange(i),t=r.toString()}return t}},function(e,t){function n(){}n.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function i(){r.off(e,i),t.apply(n,arguments)}return i._=t,this.on(e,i,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,i=n.length;r<i;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],i=[];if(r&&t)for(var o=0,a=r.length;o<a;o++)r[o].fn!==t&&r[o].fn._!==t&&i.push(r[o]);return i.length?n[e]=i:delete n[e],this}},e.exports=n,e.exports.TinyEmitter=n},function(e,t,n){var r=n(3),i=n(4);e.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!r.string(t))throw new TypeError("Second argument must be a String");if(!r.fn(n))throw new TypeError("Third argument must be a Function");if(r.node(e))return function(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}(e,t,n);if(r.nodeList(e))return function(e,t,n){return Array.prototype.forEach.call(e,(function(e){e.addEventListener(t,n)})),{destroy:function(){Array.prototype.forEach.call(e,(function(e){e.removeEventListener(t,n)}))}}}(e,t,n);if(r.string(e))return function(e,t,n){return i(document.body,e,t,n)}(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},function(e,t,n){var r=n(5);function i(e,t,n,r,i){var a=o.apply(this,arguments);return e.addEventListener(n,a,i),{destroy:function(){e.removeEventListener(n,a,i)}}}function o(e,t,n,i){return function(n){n.delegateTarget=r(n.target,t),n.delegateTarget&&i.call(e,n)}}e.exports=function(e,t,n,r,o){return"function"==typeof e.addEventListener?i.apply(null,arguments):"function"==typeof n?i.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,(function(e){return i(e,t,n,r,o)})))}},function(e,t){if("undefined"!=typeof Element&&!Element.prototype.matches){var n=Element.prototype;n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}e.exports=function(e,t){for(;e&&9!==e.nodeType;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},function(e,t,n){n.r(t);var r=n(0),i=n.n(r),o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resolveOptions(t),this.initSelection()}return a(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=i()(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=i()(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),document.activeElement.blur(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":o(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}(),u=n(1),c=n.n(u),l=n(2),f=n.n(l),h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.resolveOptions(n),r.listenClick(e),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),d(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===h(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=f()(e,"click",(function(e){return t.onClick(e)}))}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new s({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return v("action",e)}},{key:"defaultTarget",value:function(e){var t=v("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return v("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach((function(e){n=n&&!!document.queryCommandSupported(e)})),n}}]),t}(c.a);function v(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}t.default=p}]).default},e.exports=n()})),Clipboard=exports("L",getDefaultExportFromCjs(clipboard)),bind=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}},toString=Object.prototype.toString;function isArray$1(e){return"[object Array]"===toString.call(e)}function isUndefined(e){return void 0===e}function isBuffer(e){return null!==e&&!isUndefined(e)&&null!==e.constructor&&!isUndefined(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function isArrayBuffer(e){return"[object ArrayBuffer]"===toString.call(e)}function isFormData(e){return"undefined"!=typeof FormData&&e instanceof FormData}function isArrayBufferView(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer}function isString$1(e){return"string"==typeof e}function isNumber(e){return"number"==typeof e}function isObject$1(e){return null!==e&&"object"==typeof e}function isPlainObject$1(e){if("[object Object]"!==toString.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function isDate$1(e){return"[object Date]"===toString.call(e)}function isFile(e){return"[object File]"===toString.call(e)}function isBlob(e){return"[object Blob]"===toString.call(e)}function isFunction$1(e){return"[object Function]"===toString.call(e)}function isStream(e){return isObject$1(e)&&isFunction$1(e.pipe)}function isURLSearchParams(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}function trim(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function isStandardBrowserEnv(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)}function forEach(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),isArray$1(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function merge$1(){var e={};function t(t,n){isPlainObject$1(e[n])&&isPlainObject$1(t)?e[n]=merge$1(e[n],t):isPlainObject$1(t)?e[n]=merge$1({},t):isArray$1(t)?e[n]=t.slice():e[n]=t}for(var n=0,r=arguments.length;n<r;n++)forEach(arguments[n],t);return e}function extend$1(e,t,n){return forEach(t,(function(t,r){e[r]=n&&"function"==typeof t?bind(t,n):t})),e}function stripBOM(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}var utils={isArray:isArray$1,isArrayBuffer:isArrayBuffer,isBuffer:isBuffer,isFormData:isFormData,isArrayBufferView:isArrayBufferView,isString:isString$1,isNumber:isNumber,isObject:isObject$1,isPlainObject:isPlainObject$1,isUndefined:isUndefined,isDate:isDate$1,isFile:isFile,isBlob:isBlob,isFunction:isFunction$1,isStream:isStream,isURLSearchParams:isURLSearchParams,isStandardBrowserEnv:isStandardBrowserEnv,forEach:forEach,merge:merge$1,extend:extend$1,trim:trim,stripBOM:stripBOM};function encode(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var buildURL=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(utils.isURLSearchParams(t))r=t.toString();else{var i=[];utils.forEach(t,(function(e,t){null!=e&&(utils.isArray(e)?t+="[]":e=[e],utils.forEach(e,(function(e){utils.isDate(e)?e=e.toISOString():utils.isObject(e)&&(e=JSON.stringify(e)),i.push(encode(t)+"="+encode(e))})))})),r=i.join("&")}if(r){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e};function InterceptorManager(){this.handlers=[]}InterceptorManager.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},InterceptorManager.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},InterceptorManager.prototype.forEach=function(e){utils.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var InterceptorManager_1=InterceptorManager,transformData=function(e,t,n){return utils.forEach(n,(function(n){e=n(e,t)})),e},isCancel=function(e){return!(!e||!e.__CANCEL__)},normalizeHeaderName=function(e,t){utils.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))},enhanceError=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e},createError=function(e,t,n,r,i){var o=new Error(e);return enhanceError(o,t,n,r,i)},settle=function(e,t,n){var r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(createError("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)},cookies=utils.isStandardBrowserEnv()?{write:function(e,t,n,r,i,o){var a=[];a.push(e+"="+encodeURIComponent(t)),utils.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),utils.isString(r)&&a.push("path="+r),utils.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}},isAbsoluteURL=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)},combineURLs=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e},buildFullPath=function(e,t){return e&&!isAbsoluteURL(t)?combineURLs(e,t):t},ignoreDuplicateOf=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],parseHeaders=function(e){var t,n,r,i={};return e?(utils.forEach(e.split("\n"),(function(e){if(r=e.indexOf(":"),t=utils.trim(e.substr(0,r)).toLowerCase(),n=utils.trim(e.substr(r+1)),t){if(i[t]&&ignoreDuplicateOf.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([n]):i[t]?i[t]+", "+n:n}})),i):i},isURLSameOrigin=utils.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function r(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=r(window.location.href),function(t){var n=utils.isString(t)?r(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0},xhr=function(e){return new Promise((function(t,n){var r=e.data,i=e.headers;utils.isFormData(r)&&delete i["Content-Type"];var o=new XMLHttpRequest;if(e.auth){var a=e.auth.username||"",s=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.Authorization="Basic "+btoa(a+":"+s)}var u=buildFullPath(e.baseURL,e.url);if(o.open(e.method.toUpperCase(),buildURL(u,e.params,e.paramsSerializer),!0),o.timeout=e.timeout,o.onreadystatechange=function(){if(o&&4===o.readyState&&(0!==o.status||o.responseURL&&0===o.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in o?parseHeaders(o.getAllResponseHeaders()):null,i={data:e.responseType&&"text"!==e.responseType?o.response:o.responseText,status:o.status,statusText:o.statusText,headers:r,config:e,request:o};settle(t,n,i),o=null}},o.onabort=function(){o&&(n(createError("Request aborted",e,"ECONNABORTED",o)),o=null)},o.onerror=function(){n(createError("Network Error",e,null,o)),o=null},o.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(createError(t,e,"ECONNABORTED",o)),o=null},utils.isStandardBrowserEnv()){var c=(e.withCredentials||isURLSameOrigin(u))&&e.xsrfCookieName?cookies.read(e.xsrfCookieName):void 0;c&&(i[e.xsrfHeaderName]=c)}if("setRequestHeader"in o&&utils.forEach(i,(function(e,t){void 0===r&&"content-type"===t.toLowerCase()?delete i[t]:o.setRequestHeader(t,e)})),utils.isUndefined(e.withCredentials)||(o.withCredentials=!!e.withCredentials),e.responseType)try{o.responseType=e.responseType}catch(l){if("json"!==e.responseType)throw l}"function"==typeof e.onDownloadProgress&&o.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&o.upload&&o.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){o&&(o.abort(),n(e),o=null)})),r||(r=null),o.send(r)}))},DEFAULT_CONTENT_TYPE={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(e,t){!utils.isUndefined(e)&&utils.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function getDefaultAdapter(){var e;return("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(e=xhr),e}var defaults={adapter:getDefaultAdapter(),transformRequest:[function(e,t){return normalizeHeaderName(t,"Accept"),normalizeHeaderName(t,"Content-Type"),utils.isFormData(e)||utils.isArrayBuffer(e)||utils.isBuffer(e)||utils.isStream(e)||utils.isFile(e)||utils.isBlob(e)?e:utils.isArrayBufferView(e)?e.buffer:utils.isURLSearchParams(e)?(setContentTypeIfUnset(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):utils.isObject(e)?(setContentTypeIfUnset(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};utils.forEach(["delete","get","head"],(function(e){defaults.headers[e]={}})),utils.forEach(["post","put","patch"],(function(e){defaults.headers[e]=utils.merge(DEFAULT_CONTENT_TYPE)}));var defaults_1=defaults;function throwIfCancellationRequested(e){e.cancelToken&&e.cancelToken.throwIfRequested()}var dispatchRequest=function(e){return throwIfCancellationRequested(e),e.headers=e.headers||{},e.data=transformData(e.data,e.headers,e.transformRequest),e.headers=utils.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),utils.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||defaults_1.adapter)(e).then((function(t){return throwIfCancellationRequested(e),t.data=transformData(t.data,t.headers,e.transformResponse),t}),(function(t){return isCancel(t)||(throwIfCancellationRequested(e),t&&t.response&&(t.response.data=transformData(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},mergeConfig=function(e,t){t=t||{};var n={},r=["url","method","data"],i=["headers","auth","proxy","params"],o=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function s(e,t){return utils.isPlainObject(e)&&utils.isPlainObject(t)?utils.merge(e,t):utils.isPlainObject(t)?utils.merge({},t):utils.isArray(t)?t.slice():t}function u(r){utils.isUndefined(t[r])?utils.isUndefined(e[r])||(n[r]=s(void 0,e[r])):n[r]=s(e[r],t[r])}utils.forEach(r,(function(e){utils.isUndefined(t[e])||(n[e]=s(void 0,t[e]))})),utils.forEach(i,u),utils.forEach(o,(function(r){utils.isUndefined(t[r])?utils.isUndefined(e[r])||(n[r]=s(void 0,e[r])):n[r]=s(void 0,t[r])})),utils.forEach(a,(function(r){r in t?n[r]=s(e[r],t[r]):r in e&&(n[r]=s(void 0,e[r]))}));var c=r.concat(i).concat(o).concat(a),l=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===c.indexOf(e)}));return utils.forEach(l,u),n};function Axios(e){this.defaults=e,this.interceptors={request:new InterceptorManager_1,response:new InterceptorManager_1}}Axios.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=mergeConfig(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[dispatchRequest,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},Axios.prototype.getUri=function(e){return e=mergeConfig(this.defaults,e),buildURL(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},utils.forEach(["delete","get","head","options"],(function(e){Axios.prototype[e]=function(t,n){return this.request(mergeConfig(n||{},{method:e,url:t,data:(n||{}).data}))}})),utils.forEach(["post","put","patch"],(function(e){Axios.prototype[e]=function(t,n,r){return this.request(mergeConfig(r||{},{method:e,url:t,data:n}))}}));var Axios_1=Axios;function Cancel(e){this.message=e}Cancel.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},Cancel.prototype.__CANCEL__=!0;var Cancel_1=Cancel;function CancelToken(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new Cancel_1(e),t(n.reason))}))}CancelToken.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},CancelToken.source=function(){var e;return{token:new CancelToken((function(t){e=t})),cancel:e}};var CancelToken_1=CancelToken,spread=function(e){return function(t){return e.apply(null,t)}},isAxiosError=function(e){return"object"==typeof e&&!0===e.isAxiosError};function createInstance(e){var t=new Axios_1(e),n=bind(Axios_1.prototype.request,t);return utils.extend(n,Axios_1.prototype,t),utils.extend(n,t),n}var axios=createInstance(defaults_1);axios.Axios=Axios_1,axios.create=function(e){return createInstance(mergeConfig(axios.defaults,e))},axios.Cancel=Cancel_1,axios.CancelToken=CancelToken_1,axios.isCancel=isCancel,axios.all=function(e){return Promise.all(e)},axios.spread=spread,axios.isAxiosError=isAxiosError;var axios_1=axios,_default=axios;axios_1.default=_default;var axios$1=exports("O",axios_1),assign$1=make_assign(),create=make_create(),trim$1=make_trim(),Global="undefined"!=typeof window?window:commonjsGlobal,util={assign:assign$1,create:create,trim:trim$1,bind:bind$1,slice:slice,each:each$1,map:map$1,pluck:pluck,isList:isList,isFunction:isFunction$2,isObject:isObject$2,Global:Global};function make_assign(){return Object.assign?Object.assign:function(e,t,n,r){for(var i=1;i<arguments.length;i++)each$1(Object(arguments[i]),(function(t,n){e[n]=t}));return e}}function make_create(){if(Object.create)return function(e,t,n,r){var i=slice(arguments,1);return assign$1.apply(this,[Object.create(e)].concat(i))};{function e(){}return function(t,n,r,i){var o=slice(arguments,1);return e.prototype=t,assign$1.apply(this,[new e].concat(o))}}}function make_trim(){return String.prototype.trim?function(e){return String.prototype.trim.call(e)}:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}function bind$1(e,t){return function(){return t.apply(e,Array.prototype.slice.call(arguments,0))}}function slice(e,t){return Array.prototype.slice.call(e,t||0)}function each$1(e,t){pluck(e,(function(e,n){return t(e,n),!1}))}function map$1(e,t){var n=isList(e)?[]:{};return pluck(e,(function(e,r){return n[r]=t(e,r),!1})),n}function pluck(e,t){if(isList(e)){for(var n=0;n<e.length;n++)if(t(e[n],n))return e[n]}else for(var r in e)if(e.hasOwnProperty(r)&&t(e[r],r))return e[r]}function isList(e){return null!=e&&"function"!=typeof e&&"number"==typeof e.length}function isFunction$2(e){return e&&"[object Function]"==={}.toString.call(e)}function isObject$2(e){return e&&"[object Object]"==={}.toString.call(e)}var slice$1=util.slice,pluck$1=util.pluck,each$2=util.each,bind$2=util.bind,create$1=util.create,isList$1=util.isList,isFunction$3=util.isFunction,isObject$3=util.isObject,storeEngine={createStore:_createStore},storeAPI={version:"2.0.12",enabled:!1,get:function(e,t){var n=this.storage.read(this._namespacePrefix+e);return this._deserialize(n,t)},set:function(e,t){return void 0===t?this.remove(e):(this.storage.write(this._namespacePrefix+e,this._serialize(t)),t)},remove:function(e){this.storage.remove(this._namespacePrefix+e)},each:function(e){var t=this;this.storage.each((function(n,r){e.call(t,t._deserialize(n),(r||"").replace(t._namespaceRegexp,""))}))},clearAll:function(){this.storage.clearAll()},hasNamespace:function(e){return this._namespacePrefix=="__storejs_"+e+"_"},createStore:function(){return _createStore.apply(this,arguments)},addPlugin:function(e){this._addPlugin(e)},namespace:function(e){return _createStore(this.storage,this.plugins,e)}};function _warn(){var e="undefined"==typeof console?null:console;if(e){var t=e.warn?e.warn:e.log;t.apply(e,arguments)}}function _createStore(e,t,n){n||(n=""),e&&!isList$1(e)&&(e=[e]),t&&!isList$1(t)&&(t=[t]);var r=n?"__storejs_"+n+"_":"",i=n?new RegExp("^"+r):null;if(!/^[a-zA-Z0-9_\-]*$/.test(n))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var o=create$1({_namespacePrefix:r,_namespaceRegexp:i,_testStorage:function(e){try{var t="__storejs__test__";e.write(t,t);var n=e.read(t)===t;return e.remove(t),n}catch(r){return!1}},_assignPluginFnProp:function(e,t){var n=this[t];this[t]=function(){var t=slice$1(arguments,0),r=this;function i(){if(n)return each$2(arguments,(function(e,n){t[n]=e})),n.apply(r,t)}var o=[i].concat(t);return e.apply(r,o)}},_serialize:function(e){return JSON.stringify(e)},_deserialize:function(e,t){if(!e)return t;var n="";try{n=JSON.parse(e)}catch(r){n=e}return void 0!==n?n:t},_addStorage:function(e){this.enabled||this._testStorage(e)&&(this.storage=e,this.enabled=!0)},_addPlugin:function(e){var t=this;if(isList$1(e))each$2(e,(function(e){t._addPlugin(e)}));else if(!pluck$1(this.plugins,(function(t){return e===t}))){if(this.plugins.push(e),!isFunction$3(e))throw new Error("Plugins must be function values that return objects");var n=e.call(this);if(!isObject$3(n))throw new Error("Plugins must return an object of function properties");each$2(n,(function(n,r){if(!isFunction$3(n))throw new Error("Bad plugin property: "+r+" from plugin "+e.name+". Plugins should only return functions.");t._assignPluginFnProp(n,r)}))}},addStorage:function(e){_warn("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(e)}},storeAPI,{plugins:[]});return o.raw={},each$2(o,(function(e,t){isFunction$3(e)&&(o.raw[t]=bind$2(o,e))})),each$2(e,(function(e){o._addStorage(e)})),each$2(t,(function(e){o._addPlugin(e)})),o}var Global$1=util.Global,localStorage_1={name:"localStorage",read:read,write:write,each:each$3,remove:remove$1,clearAll:clearAll};function localStorage(){return Global$1.localStorage}function read(e){return localStorage().getItem(e)}function write(e,t){return localStorage().setItem(e,t)}function each$3(e){for(var t=localStorage().length-1;t>=0;t--){var n=localStorage().key(t);e(read(n),n)}}function remove$1(e){return localStorage().removeItem(e)}function clearAll(){return localStorage().clear()}var Global$2=util.Global,oldFFGlobalStorage={name:"oldFF-globalStorage",read:read$1,write:write$1,each:each$4,remove:remove$2,clearAll:clearAll$1},globalStorage=Global$2.globalStorage;function read$1(e){return globalStorage[e]}function write$1(e,t){globalStorage[e]=t}function each$4(e){for(var t=globalStorage.length-1;t>=0;t--){var n=globalStorage.key(t);e(globalStorage[n],n)}}function remove$2(e){return globalStorage.removeItem(e)}function clearAll$1(){each$4((function(e,t){delete globalStorage[e]}))}var Global$3=util.Global,oldIEUserDataStorage={name:"oldIE-userDataStorage",write:write$2,read:read$2,each:each$5,remove:remove$3,clearAll:clearAll$2},storageName="storejs",doc$1=Global$3.document,_withStorageEl=_makeIEStorageElFunction(),disable$1=(Global$3.navigator?Global$3.navigator.userAgent:"").match(/ (MSIE 8|MSIE 9|MSIE 10)\./);function write$2(e,t){if(!disable$1){var n=fixKey(e);_withStorageEl((function(e){e.setAttribute(n,t),e.save(storageName)}))}}function read$2(e){if(!disable$1){var t=fixKey(e),n=null;return _withStorageEl((function(e){n=e.getAttribute(t)})),n}}function each$5(e){_withStorageEl((function(t){for(var n=t.XMLDocument.documentElement.attributes,r=n.length-1;r>=0;r--){var i=n[r];e(t.getAttribute(i.name),i.name)}}))}function remove$3(e){var t=fixKey(e);_withStorageEl((function(e){e.removeAttribute(t),e.save(storageName)}))}function clearAll$2(){_withStorageEl((function(e){var t=e.XMLDocument.documentElement.attributes;e.load(storageName);for(var n=t.length-1;n>=0;n--)e.removeAttribute(t[n].name);e.save(storageName)}))}var forbiddenCharsRegex=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");function fixKey(e){return e.replace(/^\d/,"___$&").replace(forbiddenCharsRegex,"___")}function _makeIEStorageElFunction(){if(!doc$1||!doc$1.documentElement||!doc$1.documentElement.addBehavior)return null;var e,t,n;try{(t=new ActiveXObject("htmlfile")).open(),t.write('<script>document.w=window<\/script><iframe src="/favicon.ico"></iframe>'),t.close(),e=t.w.frames[0].document,n=e.createElement("div")}catch(r){n=doc$1.createElement("div"),e=doc$1.body}return function(t){var r=[].slice.call(arguments,0);r.unshift(n),e.appendChild(n),n.addBehavior("#default#userData"),n.load(storageName),t.apply(this,r),e.removeChild(n)}}var Global$4=util.Global,trim$2=util.trim,cookieStorage={name:"cookieStorage",read:read$3,write:write$3,each:each$6,remove:remove$4,clearAll:clearAll$3},doc$2=Global$4.document;function read$3(e){if(!e||!_has(e))return null;var t="(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(doc$2.cookie.replace(new RegExp(t),"$1"))}function each$6(e){for(var t=doc$2.cookie.split(/; ?/g),n=t.length-1;n>=0;n--)if(trim$2(t[n])){var r=t[n].split("="),i=unescape(r[0]);e(unescape(r[1]),i)}}function write$3(e,t){e&&(doc$2.cookie=escape(e)+"="+escape(t)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")}function remove$4(e){e&&_has(e)&&(doc$2.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function clearAll$3(){each$6((function(e,t){remove$4(t)}))}function _has(e){return new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(doc$2.cookie)}var Global$5=util.Global,sessionStorage_1={name:"sessionStorage",read:read$4,write:write$4,each:each$7,remove:remove$5,clearAll:clearAll$4};function sessionStorage(){return Global$5.sessionStorage}function read$4(e){return sessionStorage().getItem(e)}function write$4(e,t){return sessionStorage().setItem(e,t)}function each$7(e){for(var t=sessionStorage().length-1;t>=0;t--){var n=sessionStorage().key(t);e(read$4(n),n)}}function remove$5(e){return sessionStorage().removeItem(e)}function clearAll$4(){return sessionStorage().clear()}var memoryStorage_1={name:"memoryStorage",read:read$5,write:write$5,each:each$8,remove:remove$6,clearAll:clearAll$5},memoryStorage={};function read$5(e){return memoryStorage[e]}function write$5(e,t){memoryStorage[e]=t}function each$8(e){for(var t in memoryStorage)memoryStorage.hasOwnProperty(t)&&e(memoryStorage[t],t)}function remove$6(e){delete memoryStorage[e]}function clearAll$5(e){memoryStorage={}}var all=[localStorage_1,oldFFGlobalStorage,oldIEUserDataStorage,cookieStorage,sessionStorage_1,memoryStorage_1];"object"!=typeof JSON&&(JSON={}),function(){var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta,rep;function f(e){return e<10?"0"+e:e}function this_value(){return this.valueOf()}function quote(e){return rx_escapable.lastIndex=0,rx_escapable.test(e)?'"'+e.replace(rx_escapable,(function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function str(e,t){var n,r,i,o,a,s=gap,u=t[e];switch(u&&"object"==typeof u&&"function"==typeof u.toJSON&&(u=u.toJSON(e)),"function"==typeof rep&&(u=rep.call(t,e,u)),typeof u){case"string":return quote(u);case"number":return isFinite(u)?String(u):"null";case"boolean":case"null":return String(u);case"object":if(!u)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(u)){for(o=u.length,n=0;n<o;n+=1)a[n]=str(n,u)||"null";return i=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,i}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;n<o;n+=1)"string"==typeof rep[n]&&(i=str(r=rep[n],u))&&a.push(quote(r)+(gap?": ":":")+i);else for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(i=str(r,u))&&a.push(quote(r)+(gap?": ":":")+i);return i=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,i}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value),"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;r<n;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){var j;function walk(e,t){var n,r,i=e[t];if(i&&"object"==typeof i)for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(void 0!==(r=walk(i,n))?i[n]=r:delete i[n]);return reviver.call(e,t,i)}if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,(function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}();var json2=json2Plugin;function json2Plugin(){return{}}var plugins=[json2],store_legacy=exports("N",storeEngine.createStore(all,plugins)),requestAnimFrame="undefined"==typeof window?function(e){return e()}:window.requestAnimationFrame;function throttled(e,t,n){var r=n||function(e){return Array.prototype.slice.call(e)},i=!1,o=[];return function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];o=r(a),i||(i=!0,requestAnimFrame.call(window,(function(){i=!1,e.apply(t,o)})))}}function debounce(e,t){var n;return function(){return t?(clearTimeout(n),n=setTimeout(e,t)):e(),t}}var _toLeftRightCenter=function(e){return"start"===e?"left":"end"===e?"right":"center"},_alignStartEnd=function(e,t,n){return"start"===e?t:"end"===e?n:(t+n)/2},uid$2=function(){var e=0;return function(){return e++}}();function isNullOrUndef(e){return null==e}function isArray$2(e){if(Array.isArray&&Array.isArray(e))return!0;var t=Object.prototype.toString.call(e);return"[object"===t.substr(0,7)&&"Array]"===t.substr(-6)}function isObject$4(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}var isNumberFinite=function(e){return("number"==typeof e||e instanceof Number)&&isFinite(+e)};function finiteOrDefault(e,t){return isNumberFinite(e)?e:t}function valueOrDefault(e,t){return void 0===e?t:e}var toDimension=function(e,t){return"string"==typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e};function callback(e,t,n){if(e&&"function"==typeof e.call)return e.apply(n,t)}function each$9(e,t,n,r){var i,o,a;if(isArray$2(e))if(o=e.length,r)for(i=o-1;i>=0;i--)t.call(n,e[i],i);else for(i=0;i<o;i++)t.call(n,e[i],i);else if(isObject$4(e))for(o=(a=Object.keys(e)).length,i=0;i<o;i++)t.call(n,e[a[i]],a[i])}function _elementsEqual(e,t){var n,r,i,o;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(i=e[n],o=t[n],i.datasetIndex!==o.datasetIndex||i.index!==o.index)return!1;return!0}function clone$1(e){if(isArray$2(e))return e.map(clone$1);if(isObject$4(e)){for(var t=Object.create(null),n=Object.keys(e),r=n.length,i=0;i<r;++i)t[n[i]]=clone$1(e[n[i]]);return t}return e}function isValidKey$2(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function _merger(e,t,n,r){if(isValidKey$2(e)){var i=t[e],o=n[e];isObject$4(i)&&isObject$4(o)?merge$2(i,o,r):t[e]=clone$1(o)}}function merge$2(e,t,n){var r=isArray$2(t)?t:[t],i=r.length;if(!isObject$4(e))return e;for(var o=(n=n||{}).merger||_merger,a=0;a<i;++a)if(isObject$4(t=r[a]))for(var s=Object.keys(t),u=0,c=s.length;u<c;++u)o(s[u],e,t,n);return e}function mergeIf(e,t){return merge$2(e,t,{merger:_mergerIf})}function _mergerIf(e,t,n){if(isValidKey$2(e)){var r=t[e],i=n[e];isObject$4(r)&&isObject$4(i)?mergeIf(r,i):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=clone$1(i))}}var emptyString="",dot=".";function indexOfDotOrLength(e,t){var n=e.indexOf(dot,t);return-1===n?e.length:n}function resolveObjectKey(e,t){if(t===emptyString)return e;for(var n=0,r=indexOfDotOrLength(t,n);e&&r>n;)e=e[t.substr(n,r-n)],r=indexOfDotOrLength(t,n=r+1);return e}function _capitalize(e){return e.charAt(0).toUpperCase()+e.slice(1)}var defined=function(e){return void 0!==e},isFunction$4=function(e){return"function"==typeof e},setsEqual=function(e,t){if(e.size!==t.size)return!1;for(var n,r=_createForOfIteratorHelperLoose(e);!(n=r()).done;){var i=n.value;if(!t.has(i))return!1}return!0},PI=Math.PI,TAU=2*PI,INFINITY=Number.POSITIVE_INFINITY,RAD_PER_DEG=PI/180,HALF_PI=PI/2,QUARTER_PI=PI/4,TWO_THIRDS_PI=2*PI/3,log10=Math.log10,sign=Math.sign;function niceNum(e){var t=Math.round(e);e=almostEquals(e,t,e/1e3)?t:e;var n=Math.pow(10,Math.floor(log10(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function _factorize(e){var t,n=[],r=Math.sqrt(e);for(t=1;t<r;t++)e%t==0&&(n.push(t),n.push(e/t));return r===(0|r)&&n.push(r),n.sort((function(e,t){return e-t})).pop(),n}function isNumber$1(e){return!isNaN(parseFloat(e))&&isFinite(e)}function almostEquals(e,t,n){return Math.abs(e-t)<n}function almostWhole(e,t){var n=Math.round(e);return n-t<=e&&n+t>=e}function _setMinAndMaxByKey(e,t,n){var r,i,o;for(r=0,i=e.length;r<i;r++)o=e[r][n],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function toRadians(e){return e*(PI/180)}function toDegrees(e){return e*(180/PI)}function _decimalPlaces(e){if(isNumberFinite(e)){for(var t=1,n=0;Math.round(e*t)/t!==e;)t*=10,n++;return n}}function getAngleFromPoint(e,t){var n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r),o=Math.atan2(r,n);return o<-.5*PI&&(o+=TAU),{angle:o,distance:i}}function _normalizeAngle(e){return(e%TAU+TAU)%TAU}function _angleBetween(e,t,n,r){var i=_normalizeAngle(e),o=_normalizeAngle(t),a=_normalizeAngle(n),s=_normalizeAngle(o-i),u=_normalizeAngle(a-i),c=_normalizeAngle(i-o),l=_normalizeAngle(i-a);return i===o||i===a||r&&o===a||s>u&&c<l}function _limitValue(e,t,n){return Math.max(t,Math.min(n,e))}function _int16Range(e){return _limitValue(e,-32768,32767)}var atEdge=function(e){return 0===e||1===e},elasticIn=function(e,t,n){return-Math.pow(2,10*(e-=1))*Math.sin((e-t)*TAU/n)},elasticOut=function(e,t,n){return Math.pow(2,-10*e)*Math.sin((e-t)*TAU/n)+1},effects={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return(e-=1)*e*e+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-((e-=1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return(e-=1)*e*e*e*e+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return 1-Math.cos(e*HALF_PI)},easeOutSine:function(e){return Math.sin(e*HALF_PI)},easeInOutSine:function(e){return-.5*(Math.cos(PI*e)-1)},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return atEdge(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1)))},easeInCirc:function(e){return e>=1?e:-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-(e-=1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){return atEdge(e)?e:elasticIn(e,.075,.3)},easeOutElastic:function(e){return atEdge(e)?e:elasticOut(e,.075,.3)},easeInOutElastic:function(e){var t=.1125;return atEdge(e)?e:e<.5?.5*elasticIn(2*e,t,.45):.5+.5*elasticOut(2*e-1,t,.45)},easeInBack:function(e){var t=1.70158;return e*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:function(e){return 1-effects.easeOutBounce(1-e)},easeOutBounce:function(e){var t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:function(e){return e<.5?.5*effects.easeInBounce(2*e):.5*effects.easeOutBounce(2*e-1)+.5}},map$2={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},hex="0123456789ABCDEF",h1=function(e){return hex[15&e]},h2=function(e){return hex[(240&e)>>4]+hex[15&e]},eq=function(e){return(240&e)>>4==(15&e)};function isShort(e){return eq(e.r)&&eq(e.g)&&eq(e.b)&&eq(e.a)}function hexParse(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*map$2[e[1]],g:255&17*map$2[e[2]],b:255&17*map$2[e[3]],a:5===n?17*map$2[e[4]]:255}:7!==n&&9!==n||(t={r:map$2[e[1]]<<4|map$2[e[2]],g:map$2[e[3]]<<4|map$2[e[4]],b:map$2[e[5]]<<4|map$2[e[6]],a:9===n?map$2[e[7]]<<4|map$2[e[8]]:255})),t}function _hexString(e){var t=isShort(e)?h1:h2;return e?"#"+t(e.r)+t(e.g)+t(e.b)+(e.a<255?t(e.a):""):e}function round(e){return e+.5|0}var lim=function(e,t,n){return Math.max(Math.min(e,n),t)};function p2b(e){return lim(round(2.55*e),0,255)}function n2b(e){return lim(round(255*e),0,255)}function b2n(e){return lim(round(e/2.55)/100,0,1)}function n2p(e){return lim(round(100*e),0,100)}var RGB_RE=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function rgbParse(e){var t,n,r,i=RGB_RE.exec(e),o=255;if(i){if(i[7]!==t){var a=+i[7];o=255&(i[8]?p2b(a):255*a)}return t=+i[1],n=+i[3],r=+i[5],{r:t=255&(i[2]?p2b(t):t),g:n=255&(i[4]?p2b(n):n),b:r=255&(i[6]?p2b(r):r),a:o}}}function _rgbString(e){return e&&(e.a<255?"rgba("+e.r+", "+e.g+", "+e.b+", "+b2n(e.a)+")":"rgb("+e.r+", "+e.g+", "+e.b+")")}var HUE_RE=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function hsl2rgbn(e,t,n){var r=t*Math.min(n,1-n),i=function(t,i){return void 0===i&&(i=(t+e/30)%12),n-r*Math.max(Math.min(i-3,9-i,1),-1)};return[i(0),i(8),i(4)]}function hsv2rgbn(e,t,n){var r=function(r,i){return void 0===i&&(i=(r+e/60)%6),n-n*t*Math.max(Math.min(i,4-i,1),0)};return[r(5),r(3),r(1)]}function hwb2rgbn(e,t,n){var r,i=hsl2rgbn(e,1,.5);for(t+n>1&&(t*=r=1/(t+n),n*=r),r=0;r<3;r++)i[r]*=1-t-n,i[r]+=t;return i}function rgb2hsl(e){var t,n,r,i=e.r/255,o=e.g/255,a=e.b/255,s=Math.max(i,o,a),u=Math.min(i,o,a),c=(s+u)/2;return s!==u&&(r=s-u,n=c>.5?r/(2-s-u):r/(s+u),t=60*(t=s===i?(o-a)/r+(o<a?6:0):s===o?(a-i)/r+2:(i-o)/r+4)+.5),[0|t,n||0,c]}function calln(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(n2b)}function hsl2rgb(e,t,n){return calln(hsl2rgbn,e,t,n)}function hwb2rgb(e,t,n){return calln(hwb2rgbn,e,t,n)}function hsv2rgb(e,t,n){return calln(hsv2rgbn,e,t,n)}function hue(e){return(e%360+360)%360}function hueParse(e){var t,n=HUE_RE.exec(e),r=255;if(n){n[5]!==t&&(r=n[6]?p2b(+n[5]):n2b(+n[5]));var i=hue(+n[2]),o=+n[3]/100,a=+n[4]/100;return{r:(t="hwb"===n[1]?hwb2rgb(i,o,a):"hsv"===n[1]?hsv2rgb(i,o,a):hsl2rgb(i,o,a))[0],g:t[1],b:t[2],a:r}}}function _rotate(e,t){var n=rgb2hsl(e);n[0]=hue(n[0]+t),n=hsl2rgb(n),e.r=n[0],e.g=n[1],e.b=n[2]}function _hslString(e){if(e){var t=rgb2hsl(e),n=t[0],r=n2p(t[1]),i=n2p(t[2]);return e.a<255?"hsla("+n+", "+r+"%, "+i+"%, "+b2n(e.a)+")":"hsl("+n+", "+r+"%, "+i+"%)"}}var map$1$1={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},names={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"},names$1;function unpack(){var e,t,n,r,i,o={},a=Object.keys(names),s=Object.keys(map$1$1);for(e=0;e<a.length;e++){for(r=i=a[e],t=0;t<s.length;t++)n=s[t],i=i.replace(n,map$1$1[n]);n=parseInt(names[r],16),o[i]=[n>>16&255,n>>8&255,255&n]}return o}function nameParse(e){names$1||((names$1=unpack()).transparent=[0,0,0,0]);var t=names$1[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}function modHSL(e,t,n){if(e){var r=rgb2hsl(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,0===t?360:1)),r=hsl2rgb(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function clone(e,t){return e?Object.assign(t||{},e):e}function fromObject(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=n2b(e[3]))):(t=clone(e,{r:0,g:0,b:0,a:1})).a=n2b(t.a),t}function functionParse(e){return"r"===e.charAt(0)?rgbParse(e):hueParse(e)}var Color=function(){function e(t){if(t instanceof e)return t;var n,r=typeof t;"object"===r?n=fromObject(t):"string"===r&&(n=hexParse(t)||nameParse(t)||functionParse(t)),this._rgb=n,this._valid=!!n}var t=e.prototype;return t.rgbString=function(){return this._valid?_rgbString(this._rgb):this._rgb},t.hexString=function(){return this._valid?_hexString(this._rgb):this._rgb},t.hslString=function(){return this._valid?_hslString(this._rgb):this._rgb},t.mix=function(e,t){var n=this;if(e){var r,i=n.rgb,o=e.rgb,a=t===r?.5:t,s=2*a-1,u=i.a-o.a,c=((s*u==-1?s:(s+u)/(1+s*u))+1)/2;r=1-c,i.r=255&c*i.r+r*o.r+.5,i.g=255&c*i.g+r*o.g+.5,i.b=255&c*i.b+r*o.b+.5,i.a=a*i.a+(1-a)*o.a,n.rgb=i}return n},t.clone=function(){return new e(this.rgb)},t.alpha=function(e){return this._rgb.a=n2b(e),this},t.clearer=function(e){return this._rgb.a*=1-e,this},t.greyscale=function(){var e=this._rgb,t=round(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this},t.opaquer=function(e){return this._rgb.a*=1+e,this},t.negate=function(){var e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this},t.lighten=function(e){return modHSL(this._rgb,2,e),this},t.darken=function(e){return modHSL(this._rgb,2,-e),this},t.saturate=function(e){return modHSL(this._rgb,1,e),this},t.desaturate=function(e){return modHSL(this._rgb,1,-e),this},t.rotate=function(e){return _rotate(this._rgb,e),this},_createClass2(e,[{key:"valid",get:function(){return this._valid}},{key:"rgb",get:function(){var e=clone(this._rgb);return e&&(e.a=b2n(e.a)),e},set:function(e){this._rgb=fromObject(e)}}]),e}();function index_esm(e){return new Color(e)}var isPatternOrGradient=function(e){return e instanceof CanvasGradient||e instanceof CanvasPattern};function _color(e){return isPatternOrGradient(e)?e:index_esm(e)}function getHoverColor(e){return isPatternOrGradient(e)?e:index_esm(e).saturate(.5).darken(.1).hexString()}var overrides=Object.create(null),descriptors=Object.create(null);function getScope$1(e,t){if(!t)return e;for(var n=t.split("."),r=0,i=n.length;r<i;++r){var o=n[r];e=e[o]||(e[o]=Object.create(null))}return e}function set$3(e,t,n){return"string"==typeof t?merge$2(getScope$1(e,t),n):merge$2(getScope$1(e,""),t)}var Defaults=function(){function e(e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=function(e){return e.chart.platform.getDevicePixelRatio()},this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=function(e,t){return getHoverColor(t.backgroundColor)},this.hoverBorderColor=function(e,t){return getHoverColor(t.borderColor)},this.hoverColor=function(e,t){return getHoverColor(t.color)},this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.describe(e)}var t=e.prototype;return t.set=function(e,t){return set$3(this,e,t)},t.get=function(e){return getScope$1(this,e)},t.describe=function(e,t){return set$3(descriptors,e,t)},t.override=function(e,t){return set$3(overrides,e,t)},t.route=function(e,t,n,r){var i,o=getScope$1(this,e),a=getScope$1(this,n),s="_"+t;Object.defineProperties(o,((i={})[s]={value:o[t],writable:!0},i[t]={enumerable:!0,get:function(){var e=this[s],t=a[r];return isObject$4(e)?Object.assign({},t,e):valueOrDefault(e,t)},set:function(e){this[s]=e}},i))},e}(),defaults$1=new Defaults({_scriptable:function(e){return!e.startsWith("on")},_indexable:function(e){return"events"!==e},hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function toFontString(e){return!e||isNullOrUndef(e.size)||isNullOrUndef(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}function _measureText(e,t,n,r,i){var o=t[i];return o||(o=t[i]=e.measureText(i).width,n.push(i)),o>r&&(r=o),r}function _alignPixel(e,t,n){var r=e.currentDevicePixelRatio,i=0!==n?Math.max(n/2,.5):0;return Math.round((t-i)*r)/r+i}function clearCanvas(e,t){(t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore()}function drawPoint(e,t,n,r){var i,o,a,s,u,c=t.pointStyle,l=t.rotation,f=t.radius,h=(l||0)*RAD_PER_DEG;if(c&&"object"==typeof c&&("[object HTMLImageElement]"===(i=c.toString())||"[object HTMLCanvasElement]"===i))return e.save(),e.translate(n,r),e.rotate(h),e.drawImage(c,-c.width/2,-c.height/2,c.width,c.height),void e.restore();if(!(isNaN(f)||f<=0)){switch(e.beginPath(),c){default:e.arc(n,r,f,0,TAU),e.closePath();break;case"triangle":e.moveTo(n+Math.sin(h)*f,r-Math.cos(h)*f),h+=TWO_THIRDS_PI,e.lineTo(n+Math.sin(h)*f,r-Math.cos(h)*f),h+=TWO_THIRDS_PI,e.lineTo(n+Math.sin(h)*f,r-Math.cos(h)*f),e.closePath();break;case"rectRounded":s=f-(u=.516*f),o=Math.cos(h+QUARTER_PI)*s,a=Math.sin(h+QUARTER_PI)*s,e.arc(n-o,r-a,u,h-PI,h-HALF_PI),e.arc(n+a,r-o,u,h-HALF_PI,h),e.arc(n+o,r+a,u,h,h+HALF_PI),e.arc(n-a,r+o,u,h+HALF_PI,h+PI),e.closePath();break;case"rect":if(!l){s=Math.SQRT1_2*f,e.rect(n-s,r-s,2*s,2*s);break}h+=QUARTER_PI;case"rectRot":o=Math.cos(h)*f,a=Math.sin(h)*f,e.moveTo(n-o,r-a),e.lineTo(n+a,r-o),e.lineTo(n+o,r+a),e.lineTo(n-a,r+o),e.closePath();break;case"crossRot":h+=QUARTER_PI;case"cross":o=Math.cos(h)*f,a=Math.sin(h)*f,e.moveTo(n-o,r-a),e.lineTo(n+o,r+a),e.moveTo(n+a,r-o),e.lineTo(n-a,r+o);break;case"star":o=Math.cos(h)*f,a=Math.sin(h)*f,e.moveTo(n-o,r-a),e.lineTo(n+o,r+a),e.moveTo(n+a,r-o),e.lineTo(n-a,r+o),h+=QUARTER_PI,o=Math.cos(h)*f,a=Math.sin(h)*f,e.moveTo(n-o,r-a),e.lineTo(n+o,r+a),e.moveTo(n+a,r-o),e.lineTo(n-a,r+o);break;case"line":o=Math.cos(h)*f,a=Math.sin(h)*f,e.moveTo(n-o,r-a),e.lineTo(n+o,r+a);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(h)*f,r+Math.sin(h)*f)}e.fill(),t.borderWidth>0&&e.stroke()}}function _isPointInArea(e,t,n){return n=n||.5,e&&t&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function clipArea(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function unclipArea(e){e.restore()}function renderText(e,t,n,r,i,o){void 0===o&&(o={});var a,s,u=isArray$2(t)?t:[t],c=o.strokeWidth>0&&""!==o.strokeColor;for(e.save(),e.font=i.string,setRenderOpts(e,o),a=0;a<u.length;++a)s=u[a],c&&(o.strokeColor&&(e.strokeStyle=o.strokeColor),isNullOrUndef(o.strokeWidth)||(e.lineWidth=o.strokeWidth),e.strokeText(s,n,r,o.maxWidth)),e.fillText(s,n,r,o.maxWidth),decorateText(e,n,r,s,o),r+=i.lineHeight;e.restore()}function setRenderOpts(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),isNullOrUndef(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}function decorateText(e,t,n,r,i){if(i.strikethrough||i.underline){var o=e.measureText(r),a=t-o.actualBoundingBoxLeft,s=t+o.actualBoundingBoxRight,u=n-o.actualBoundingBoxAscent,c=n+o.actualBoundingBoxDescent,l=i.strikethrough?(u+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=i.decorationWidth||2,e.moveTo(a,l),e.lineTo(s,l),e.stroke()}}function addRoundedRectPath(e,t){var n=t.x,r=t.y,i=t.w,o=t.h,a=t.radius;e.arc(n+a.topLeft,r+a.topLeft,a.topLeft,-HALF_PI,PI,!0),e.lineTo(n,r+o-a.bottomLeft),e.arc(n+a.bottomLeft,r+o-a.bottomLeft,a.bottomLeft,PI,HALF_PI,!0),e.lineTo(n+i-a.bottomRight,r+o),e.arc(n+i-a.bottomRight,r+o-a.bottomRight,a.bottomRight,HALF_PI,0,!0),e.lineTo(n+i,r+a.topRight),e.arc(n+i-a.topRight,r+a.topRight,a.topRight,0,-HALF_PI,!0),e.lineTo(n+a.topLeft,r)}var LINE_HEIGHT=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),FONT_STYLE=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function toLineHeight(e,t){var n=(""+e).match(LINE_HEIGHT);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}var numberOrZero=function(e){return+e||0};function _readValueToProps(e,t){for(var n,r={},i=isObject$4(t),o=i?Object.keys(t):t,a=isObject$4(e)?i?function(n){return valueOrDefault(e[n],e[t[n]])}:function(t){return e[t]}:function(){return e},s=_createForOfIteratorHelperLoose(o);!(n=s()).done;){var u=n.value;r[u]=numberOrZero(a(u))}return r}function toTRBL(e){return _readValueToProps(e,{top:"y",right:"x",bottom:"y",left:"x"})}function toTRBLCorners(e){return _readValueToProps(e,["topLeft","topRight","bottomLeft","bottomRight"])}function toPadding(e){var t=toTRBL(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function toFont(e,t){e=e||{},t=t||defaults$1.font;var n=valueOrDefault(e.size,t.size);"string"==typeof n&&(n=parseInt(n,10));var r=valueOrDefault(e.style,t.style);r&&!(""+r).match(FONT_STYLE)&&(console.warn('Invalid font style specified: "'+r+'"'),r="");var i={family:valueOrDefault(e.family,t.family),lineHeight:toLineHeight(valueOrDefault(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:valueOrDefault(e.weight,t.weight),string:""};return i.string=toFontString(i),i}function resolve$1(e,t,n,r){var i,o,a,s=!0;for(i=0,o=e.length;i<o;++i)if(void 0!==(a=e[i])&&(void 0!==t&&"function"==typeof a&&(a=a(t),s=!1),void 0!==n&&isArray$2(a)&&(a=a[n%a.length],s=!1),void 0!==a))return r&&!s&&(r.cacheable=!1),a}function _addGrace(e,t){var n=e.min,r=e.max;return{min:n-Math.abs(toDimension(t,n)),max:r+toDimension(t,r)}}function _lookup(e,t,n){n=n||function(n){return e[n]<t};for(var r,i=e.length-1,o=0;i-o>1;)n(r=o+i>>1)?o=r:i=r;return{lo:o,hi:i}}var _lookupByKey=function(e,t,n){return _lookup(e,n,(function(r){return e[r][t]<n}))},_rlookupByKey=function(e,t,n){return _lookup(e,n,(function(r){return e[r][t]>=n}))},arrayEvents=["push","pop","shift","splice","unshift"];function listenArrayEvents(e,t){e._chartjs?e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),arrayEvents.forEach((function(t){var n="_onData"+_capitalize(t),r=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];var a=r.apply(this,i);return e._chartjs.listeners.forEach((function(e){"function"==typeof e[n]&&e[n].apply(e,i)})),a}})})))}function unlistenArrayEvents(e,t){var n=e._chartjs;if(n){var r=n.listeners,i=r.indexOf(t);-1!==i&&r.splice(i,1),r.length>0||(arrayEvents.forEach((function(t){delete e[t]})),delete e._chartjs)}}function _arrayUnique(e){var t,n,r=new Set;for(t=0,n=e.length;t<n;++t)r.add(e[t]);return r.size===n?e:Array.from(r)}function _createResolver(e,t,n,r,i){var o;void 0===t&&(t=[""]),void 0===n&&(n=e),void 0===i&&(i=function(){return e[0]}),defined(r)||(r=_resolve("_fallback",e));var a=((o={})[Symbol.toStringTag]="Object",o._cacheable=!0,o._scopes=e,o._rootScopes=n,o._fallback=r,o._getTarget=i,o.override=function(i){return _createResolver([i].concat(e),t,n,r)},o);return new Proxy(a,{deleteProperty:function(t,n){return delete t[n],delete t._keys,delete e[0][n],!0},get:function(n,r){return _cached(n,r,(function(){return _resolveWithPrefixes(r,t,e,n)}))},getOwnPropertyDescriptor:function(e,t){return Reflect.getOwnPropertyDescriptor(e._scopes[0],t)},getPrototypeOf:function(){return Reflect.getPrototypeOf(e[0])},has:function(e,t){return getKeysFromAllScopes(e).includes(t)},ownKeys:function(e){return getKeysFromAllScopes(e)},set:function(e,t,n){return(e._storage||(e._storage=i()))[t]=n,delete e[t],delete e._keys,!0}})}function _attachContext(e,t,n,r){var i={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:_descriptors(e,r),setContext:function(t){return _attachContext(e,t,n,r)},override:function(i){return _attachContext(e.override(i),t,n,r)}};return new Proxy(i,{deleteProperty:function(t,n){return delete t[n],delete e[n],!0},get:function(e,t,n){return _cached(e,t,(function(){return _resolveWithContext(e,t,n)}))},getOwnPropertyDescriptor:function(t,n){return t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n)},getPrototypeOf:function(){return Reflect.getPrototypeOf(e)},has:function(t,n){return Reflect.has(e,n)},ownKeys:function(){return Reflect.ownKeys(e)},set:function(t,n,r){return e[n]=r,delete t[n],!0}})}function _descriptors(e,t){void 0===t&&(t={scriptable:!0,indexable:!0});var n=e._scriptable,r=void 0===n?t.scriptable:n,i=e._indexable,o=void 0===i?t.indexable:i,a=e._allKeys;return{allKeys:void 0===a?t.allKeys:a,scriptable:r,indexable:o,isScriptable:isFunction$4(r)?r:function(){return r},isIndexable:isFunction$4(o)?o:function(){return o}}}var readKey=function(e,t){return e?e+_capitalize(t):t},needsSubResolver=function(e,t){return isObject$4(t)&&"adapters"!==e};function _cached(e,t,n){var r=e[t];return defined(r)||(r=n(),defined(r)&&(e[t]=r)),r}function _resolveWithContext(e,t,n){var r=e._proxy,i=e._context,o=e._subProxy,a=e._descriptors,s=r[t];return isFunction$4(s)&&a.isScriptable(t)&&(s=_resolveScriptable(t,s,e,n)),isArray$2(s)&&s.length&&(s=_resolveArray(t,s,e,a.isIndexable)),needsSubResolver(t,s)&&(s=_attachContext(s,i,o&&o[t],a)),s}function _resolveScriptable(e,t,n,r){var i=n._proxy,o=n._context,a=n._subProxy,s=n._stack;if(s.has(e))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+e);return s.add(e),t=t(o,a||r),s.delete(e),isObject$4(t)&&(t=createSubResolver(i._scopes,i,e,t)),t}function _resolveArray(e,t,n,r){var i=n._proxy,o=n._context,a=n._subProxy,s=n._descriptors;if(defined(o.index)&&r(e))t=t[o.index%t.length];else if(isObject$4(t[0])){var u=t,c=i._scopes.filter((function(e){return e!==u}));t=[];for(var l,f=_createForOfIteratorHelperLoose(u);!(l=f()).done;){var h=createSubResolver(c,i,e,l.value);t.push(_attachContext(h,o,a&&a[e],s))}}return t}function resolveFallback(e,t,n){return isFunction$4(e)?e(t,n):e}var getScope=function(e,t){return!0===e?t:"string"==typeof e?resolveObjectKey(t,e):void 0};function addScopes(e,t,n,r){for(var i,o=_createForOfIteratorHelperLoose(t);!(i=o()).done;){var a=i.value,s=getScope(n,a);if(s){e.add(s);var u=resolveFallback(s._fallback,n,s);if(defined(u)&&u!==n&&u!==r)return u}else if(!1===s&&defined(r)&&n!==r)return null}return!1}function createSubResolver(e,t,n,r){var i=t._rootScopes,o=resolveFallback(t._fallback,n,r),a=[].concat(e,i),s=new Set;s.add(r);var u=addScopesFromKey(s,a,n,o||n);return null!==u&&((!defined(o)||o===n||null!==(u=addScopesFromKey(s,a,o,u)))&&_createResolver(Array.from(s),[""],i,o,(function(){return subGetTarget(t,n,r)})))}function addScopesFromKey(e,t,n,r){for(;n;)n=addScopes(e,t,n,r);return n}function subGetTarget(e,t,n){var r=e._getTarget();t in r||(r[t]={});var i=r[t];return isArray$2(i)&&isObject$4(n)?n:i}function _resolveWithPrefixes(e,t,n,r){for(var i,o,a=_createForOfIteratorHelperLoose(t);!(o=a()).done;){var s=o.value;if(i=_resolve(readKey(s,e),n),defined(i))return needsSubResolver(e,i)?createSubResolver(n,r,e,i):i}}function _resolve(e,t){for(var n,r=_createForOfIteratorHelperLoose(t);!(n=r()).done;){var i=n.value;if(i){var o=i[e];if(defined(o))return o}}}function getKeysFromAllScopes(e){var t=e._keys;return t||(t=e._keys=resolveKeysFromAllScopes(e._scopes)),t}function resolveKeysFromAllScopes(e){for(var t,n=new Set,r=_createForOfIteratorHelperLoose(e);!(t=r()).done;)for(var i,o=t.value,a=_createForOfIteratorHelperLoose(Object.keys(o).filter((function(e){return!e.startsWith("_")})));!(i=a()).done;){var s=i.value;n.add(s)}return Array.from(n)}function _isDomSupported(){return"undefined"!=typeof window&&"undefined"!=typeof document}function _getParentNode(e){var t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function parseMaxStyle(e,t,n){var r;return"string"==typeof e?(r=parseInt(e,10),-1!==e.indexOf("%")&&(r=r/100*t.parentNode[n])):r=e,r}var getComputedStyle=function(e){return window.getComputedStyle(e,null)};function getStyle(e,t){return getComputedStyle(e).getPropertyValue(t)}var positions=["top","right","bottom","left"];function getPositionedStyle(e,t,n){var r={};n=n?"-"+n:"";for(var i=0;i<4;i++){var o=positions[i];r[o]=parseFloat(e[t+"-"+o+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}var useOffsetPos=function(e,t,n){return(e>0||t>0)&&(!n||!n.shadowRoot)};function getCanvasPosition(e,t){var n,r,i=e.native||e,o=i.touches,a=o&&o.length?o[0]:i,s=a.offsetX,u=a.offsetY,c=!1;if(useOffsetPos(s,u,i.target))n=s,r=u;else{var l=t.getBoundingClientRect();n=a.clientX-l.left,r=a.clientY-l.top,c=!0}return{x:n,y:r,box:c}}function getRelativePosition(e,t){var n=t.canvas,r=t.currentDevicePixelRatio,i=getComputedStyle(n),o="border-box"===i.boxSizing,a=getPositionedStyle(i,"padding"),s=getPositionedStyle(i,"border","width"),u=getCanvasPosition(e,n),c=u.x,l=u.y,f=u.box,h=a.left+(f&&s.left),d=a.top+(f&&s.top),p=t.width,v=t.height;return o&&(p-=a.width+s.width,v-=a.height+s.height),{x:Math.round((c-h)/p*n.width/r),y:Math.round((l-d)/v*n.height/r)}}function getContainerSize(e,t,n){var r,i;if(void 0===t||void 0===n){var o=_getParentNode(e);if(o){var a=o.getBoundingClientRect(),s=getComputedStyle(o),u=getPositionedStyle(s,"border","width"),c=getPositionedStyle(s,"padding");t=a.width-c.width-u.width,n=a.height-c.height-u.height,r=parseMaxStyle(s.maxWidth,o,"clientWidth"),i=parseMaxStyle(s.maxHeight,o,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:r||INFINITY,maxHeight:i||INFINITY}}var round1=function(e){return Math.round(10*e)/10};function _getMaximumSize(e,t,n,r){var i=getComputedStyle(e),o=getPositionedStyle(i,"margin"),a=parseMaxStyle(i.maxWidth,e,"clientWidth")||INFINITY,s=parseMaxStyle(i.maxHeight,e,"clientHeight")||INFINITY,u=getContainerSize(e,t,n),c=u.width,l=u.height;if("content-box"===i.boxSizing){var f=getPositionedStyle(i,"border","width"),h=getPositionedStyle(i,"padding");c-=h.width+f.width,l-=h.height+f.height}return c=Math.max(0,c-o.width),l=Math.max(0,r?Math.floor(c/r):l-o.height),c=round1(Math.min(c,a,u.maxWidth)),l=round1(Math.min(l,s,u.maxHeight)),c&&!l&&(l=round1(c/2)),{width:c,height:l}}function retinaScale(e,t,n){var r=t||1,i=Math.floor(e.height*r),o=Math.floor(e.width*r);e.height=i/r,e.width=o/r;var a=e.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height=e.height+"px",a.style.width=e.width+"px"),(e.currentDevicePixelRatio!==r||a.height!==i||a.width!==o)&&(e.currentDevicePixelRatio=r,a.height=i,a.width=o,e.ctx.setTransform(r,0,0,r,0,0),!0)}var supportsEventListenerOptions=function(){var e=!1;try{var t={get passive(){return e=!0,!1}};window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(n){}return e}();function readUsedSize(e,t){var n=getStyle(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}var intlCache=new Map;function getNumberFormat(e,t){t=t||{};var n=e+JSON.stringify(t),r=intlCache.get(n);return r||(r=new Intl.NumberFormat(e,t),intlCache.set(n,r)),r}function formatNumber(e,t,n){return getNumberFormat(t,n).format(e)}
/*!
             * Chart.js v3.5.0
             * https://www.chartjs.org
             * (c) 2021 Chart.js Contributors
             * Released under the MIT License
             */var Animator=function(){function e(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}var t=e.prototype;return t._notify=function(e,t,n,r){var i=t.listeners[r],o=t.duration;i.forEach((function(r){return r({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(n-t.start,o)})}))},t._refresh=function(){var e=this;e._request||(e._running=!0,e._request=requestAnimFrame.call(window,(function(){e._update(),e._request=null,e._running&&e._refresh()})))},t._update=function(e){void 0===e&&(e=Date.now());var t=this,n=0;t._charts.forEach((function(r,i){if(r.running&&r.items.length){for(var o,a=r.items,s=a.length-1,u=!1;s>=0;--s)(o=a[s])._active?(o._total>r.duration&&(r.duration=o._total),o.tick(e),u=!0):(a[s]=a[a.length-1],a.pop());u&&(i.draw(),t._notify(i,r,e,"progress")),a.length||(r.running=!1,t._notify(i,r,e,"complete"),r.initial=!1),n+=a.length}})),t._lastDate=e,0===n&&(t._running=!1)},t._getAnims=function(e){var t=this._charts,n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n},t.listen=function(e,t,n){this._getAnims(e).listeners[t].push(n)},t.add=function(e,t){var n;t&&t.length&&(n=this._getAnims(e).items).push.apply(n,t)},t.has=function(e){return this._getAnims(e).items.length>0},t.start=function(e){var t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((function(e,t){return Math.max(e,t._duration)}),0),this._refresh())},t.running=function(e){if(!this._running)return!1;var t=this._charts.get(e);return!!(t&&t.running&&t.items.length)},t.stop=function(e){var t=this._charts.get(e);if(t&&t.items.length){for(var n=t.items,r=n.length-1;r>=0;--r)n[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}},t.remove=function(e){return this._charts.delete(e)},e}(),animator=new Animator,transparent="transparent",interpolators={boolean:function(e,t,n){return n>.5?t:e},color:function(e,t,n){var r=_color(e||transparent),i=r.valid&&_color(t||transparent);return i&&i.valid?i.mix(r,n).hexString():t},number:function(e,t,n){return e+(t-e)*n}},Animation=function(){function e(e,t,n,r){var i=t[n];r=resolve$1([e.to,r,i,e.from]);var o=resolve$1([e.from,i,r]);this._active=!0,this._fn=e.fn||interpolators[e.type||typeof o],this._easing=effects[e.easing]||effects.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=o,this._to=r,this._promises=void 0}var t=e.prototype;return t.active=function(){return this._active},t.update=function(e,t,n){var r=this;if(r._active){r._notify(!1);var i=r._target[r._prop],o=n-r._start,a=r._duration-o;r._start=n,r._duration=Math.floor(Math.max(a,e.duration)),r._total+=o,r._loop=!!e.loop,r._to=resolve$1([e.to,t,i,e.from]),r._from=resolve$1([e.from,i,t])}},t.cancel=function(){var e=this;e._active&&(e.tick(Date.now()),e._active=!1,e._notify(!1))},t.tick=function(e){var t,n=this,r=e-n._start,i=n._duration,o=n._prop,a=n._from,s=n._loop,u=n._to;if(n._active=a!==u&&(s||r<i),!n._active)return n._target[o]=u,void n._notify(!0);r<0?n._target[o]=a:(t=r/i%2,t=s&&t>1?2-t:t,t=n._easing(Math.min(1,Math.max(0,t))),n._target[o]=n._fn(a,u,t))},t.wait=function(){var e=this._promises||(this._promises=[]);return new Promise((function(t,n){e.push({res:t,rej:n})}))},t._notify=function(e){for(var t=e?"res":"rej",n=this._promises||[],r=0;r<n.length;r++)n[r][t]()},e}(),numbers=["x","y","borderWidth","radius","tension"],colors=["color","borderColor","backgroundColor"];defaults$1.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});var animationOptions=Object.keys(defaults$1.animation);defaults$1.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:function(e){return"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}}),defaults$1.set("animations",{colors:{type:"color",properties:colors},numbers:{type:"number",properties:numbers}}),defaults$1.describe("animations",{_fallback:"animation"}),defaults$1.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:function(e){return 0|e}}}}});var Animations=function(){function e(e,t){this._chart=e,this._properties=new Map,this.configure(t)}var t=e.prototype;return t.configure=function(e){if(isObject$4(e)){var t=this._properties;Object.getOwnPropertyNames(e).forEach((function(n){var r=e[n];if(isObject$4(r)){for(var i,o={},a=_createForOfIteratorHelperLoose(animationOptions);!(i=a()).done;){var s=i.value;o[s]=r[s]}(isArray$2(r.properties)&&r.properties||[n]).forEach((function(e){e!==n&&t.has(e)||t.set(e,o)}))}}))}},t._animateOptions=function(e,t){var n=t.options,r=resolveTargetOptions(e,n);if(!r)return[];var i=this._createAnimations(r,n);return n.$shared&&awaitAll(e.options.$animations,n).then((function(){e.options=n}),(function(){})),i},t._createAnimations=function(e,t){var n,r=this._properties,i=[],o=e.$animations||(e.$animations={}),a=Object.keys(t),s=Date.now();for(n=a.length-1;n>=0;--n){var u=a[n];if("$"!==u.charAt(0))if("options"!==u){var c=t[u],l=o[u],f=r.get(u);if(l){if(f&&l.active()){l.update(f,c,s);continue}l.cancel()}f&&f.duration?(o[u]=l=new Animation(f,e,u,c),i.push(l)):e[u]=c}else i.push.apply(i,this._animateOptions(e,t))}return i},t.update=function(e,t){if(0!==this._properties.size){var n=this._createAnimations(e,t);return n.length?(animator.add(this._chart,n),!0):void 0}Object.assign(e,t)},e}();function awaitAll(e,t){for(var n=[],r=Object.keys(t),i=0;i<r.length;i++){var o=e[r[i]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}function resolveTargetOptions(e,t){if(t){var n=e.options;if(n)return n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n;e.options=t}}function scaleClip(e,t){var n=e&&e.options||{},r=n.reverse,i=void 0===n.min?t:0,o=void 0===n.max?t:0;return{start:r?o:i,end:r?i:o}}function defaultClip(e,t,n){if(!1===n)return!1;var r=scaleClip(e,n),i=scaleClip(t,n);return{top:i.end,right:r.end,bottom:i.start,left:r.start}}function toClip(e){var t,n,r,i;return isObject$4(e)?(t=e.top,n=e.right,r=e.bottom,i=e.left):t=n=r=i=e,{top:t,right:n,bottom:r,left:i,disabled:!1===e}}function getSortedDatasetIndices(e,t){var n,r,i=[],o=e._getSortedDatasetMetas(t);for(n=0,r=o.length;n<r;++n)i.push(o[n].index);return i}function _applyStack(e,t,n,r){var i,o,a,s,u=e.keys,c="single"===r.mode;if(null!==t){for(i=0,o=u.length;i<o;++i){if((a=+u[i])===n){if(r.all)continue;break}s=e.values[a],isNumberFinite(s)&&(c||0===t||sign(t)===sign(s))&&(t+=s)}return t}}function convertObjectDataToArray(e){var t,n,r,i=Object.keys(e),o=new Array(i.length);for(t=0,n=i.length;t<n;++t)r=i[t],o[t]={x:r,y:e[r]};return o}function isStacked(e,t){var n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function getStackKey(e,t,n){return e.id+"."+t.id+"."+(n.stack||n.type)}function getUserBounds(e){var t=e.getUserBounds(),n=t.min,r=t.max,i=t.minDefined,o=t.maxDefined;return{min:i?n:Number.NEGATIVE_INFINITY,max:o?r:Number.POSITIVE_INFINITY}}function getOrCreateStack(e,t,n){var r=e[t]||(e[t]={});return r[n]||(r[n]={})}function getLastIndexInStack(e,t,n){for(var r,i=_createForOfIteratorHelperLoose(t.getMatchingVisibleMetas("bar").reverse());!(r=i()).done;){var o=r.value,a=e[o.index];if(n&&a>0||!n&&a<0)return o.index}return null}function updateStacks(e,t){for(var n,r=e.chart,i=e._cachedMeta,o=r._stacks||(r._stacks={}),a=i.iScale,s=i.vScale,u=i.index,c=a.axis,l=s.axis,f=getStackKey(a,s,i),h=t.length,d=0;d<h;++d){var p=t[d],v=p[c],g=p[l];(n=(p._stacks||(p._stacks={}))[l]=getOrCreateStack(o,f,v))[u]=g,n._top=getLastIndexInStack(n,s,!0),n._bottom=getLastIndexInStack(n,s,!1)}}function getFirstScaleId(e,t){var n=e.scales;return Object.keys(n).filter((function(e){return n[e].axis===t})).shift()}function createDatasetContext(e,t){return Object.assign(Object.create(e),{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function createDataContext(e,t,n){return Object.assign(Object.create(e),{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}function clearStacks(e,t){var n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r)for(var i,o=_createForOfIteratorHelperLoose(t=t||e._parsed);!(i=o()).done;){var a=i.value._stacks;if(!a||void 0===a[r]||void 0===a[r][n])return;delete a[r][n]}}var isDirectUpdateMode=function(e){return"reset"===e||"none"===e},cloneIfNotShared=function(e,t){return t?e:Object.assign({},e)},DatasetController=function(){function e(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.$context=void 0,this._syncList=[],this.initialize()}var t=e.prototype;return t.initialize=function(){var e=this,t=e._cachedMeta;e.configure(),e.linkScales(),t._stacked=isStacked(t.vScale,t),e.addElements()},t.updateIndex=function(e){this.index!==e&&clearStacks(this._cachedMeta),this.index=e},t.linkScales=function(){var e=this,t=e.chart,n=e._cachedMeta,r=e.getDataset(),i=function(e,t,n,r){return"x"===e?t:"r"===e?r:n},o=n.xAxisID=valueOrDefault(r.xAxisID,getFirstScaleId(t,"x")),a=n.yAxisID=valueOrDefault(r.yAxisID,getFirstScaleId(t,"y")),s=n.rAxisID=valueOrDefault(r.rAxisID,getFirstScaleId(t,"r")),u=n.indexAxis,c=n.iAxisID=i(u,o,a,s),l=n.vAxisID=i(u,a,o,s);n.xScale=e.getScaleForId(o),n.yScale=e.getScaleForId(a),n.rScale=e.getScaleForId(s),n.iScale=e.getScaleForId(c),n.vScale=e.getScaleForId(l)},t.getDataset=function(){return this.chart.data.datasets[this.index]},t.getMeta=function(){return this.chart.getDatasetMeta(this.index)},t.getScaleForId=function(e){return this.chart.scales[e]},t._getOtherScale=function(e){var t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale},t.reset=function(){this._update("reset")},t._destroy=function(){var e=this._cachedMeta;this._data&&unlistenArrayEvents(this._data,this),e._stacked&&clearStacks(e)},t._dataCheck=function(){var e=this,t=e.getDataset(),n=t.data||(t.data=[]),r=e._data;if(isObject$4(n))e._data=convertObjectDataToArray(n);else if(r!==n){if(r){unlistenArrayEvents(r,e);var i=e._cachedMeta;clearStacks(i),i._parsed=[]}n&&Object.isExtensible(n)&&listenArrayEvents(n,e),e._syncList=[],e._data=n}},t.addElements=function(){var e=this,t=e._cachedMeta;e._dataCheck(),e.datasetElementType&&(t.dataset=new e.datasetElementType)},t.buildOrUpdateElements=function(e){var t=this,n=t._cachedMeta,r=t.getDataset(),i=!1;t._dataCheck();var o=n._stacked;n._stacked=isStacked(n.vScale,n),n.stack!==r.stack&&(i=!0,clearStacks(n),n.stack=r.stack),t._resyncElements(e),(i||o!==n._stacked)&&updateStacks(t,n._parsed)},t.configure=function(){var e=this,t=e.chart.config,n=t.datasetScopeKeys(e._type),r=t.getOptionScopes(e.getDataset(),n,!0);e.options=t.createResolver(r,e.getContext()),e._parsing=e.options.parsing},t.parse=function(e,t){var n,r,i,o=this,a=o._cachedMeta,s=o._data,u=a.iScale,c=a._stacked,l=u.axis,f=0===e&&t===s.length||a._sorted,h=e>0&&a._parsed[e-1];if(!1===o._parsing)a._parsed=s,a._sorted=!0,i=s;else{i=isArray$2(s[e])?o.parseArrayData(a,s,e,t):isObject$4(s[e])?o.parseObjectData(a,s,e,t):o.parsePrimitiveData(a,s,e,t);for(n=0;n<t;++n)a._parsed[n+e]=r=i[n],f&&((null===r[l]||h&&r[l]<h[l])&&(f=!1),h=r);a._sorted=f}c&&updateStacks(o,i)},t.parsePrimitiveData=function(e,t,n,r){var i,o,a,s=e.iScale,u=e.vScale,c=s.axis,l=u.axis,f=s.getLabels(),h=s===u,d=new Array(r);for(i=0,o=r;i<o;++i){var p;a=i+n,d[i]=((p={})[c]=h||s.parse(f[a],a),p[l]=u.parse(t[a],a),p)}return d},t.parseArrayData=function(e,t,n,r){var i,o,a,s,u=e.xScale,c=e.yScale,l=new Array(r);for(i=0,o=r;i<o;++i)s=t[a=i+n],l[i]={x:u.parse(s[0],a),y:c.parse(s[1],a)};return l},t.parseObjectData=function(e,t,n,r){var i,o,a,s,u=e.xScale,c=e.yScale,l=this._parsing,f=l.xAxisKey,h=void 0===f?"x":f,d=l.yAxisKey,p=void 0===d?"y":d,v=new Array(r);for(i=0,o=r;i<o;++i)s=t[a=i+n],v[i]={x:u.parse(resolveObjectKey(s,h),a),y:c.parse(resolveObjectKey(s,p),a)};return v},t.getParsed=function(e){return this._cachedMeta._parsed[e]},t.getDataElement=function(e){return this._cachedMeta.data[e]},t.applyStack=function(e,t,n){var r=this.chart,i=this._cachedMeta,o=t[e.axis];return _applyStack({keys:getSortedDatasetIndices(r,!0),values:t._stacks[e.axis]},o,i.index,{mode:n})},t.updateRangeFromParsed=function(e,t,n,r){var i=n[t.axis],o=null===i?NaN:i,a=r&&n._stacks[t.axis];r&&a&&(r.values=a,e.min=Math.min(e.min,o),e.max=Math.max(e.max,o),o=_applyStack(r,i,this._cachedMeta.index,{all:!0})),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)},t.getMinMax=function(e,t){var n,r,i,o,a=this,s=a._cachedMeta,u=s._parsed,c=s._sorted&&e===s.iScale,l=u.length,f=a._getOtherScale(e),h=t&&s._stacked&&{keys:getSortedDatasetIndices(a.chart,!0),values:null},d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},p=getUserBounds(f),v=p.min,g=p.max;function _(){return i=u[n],r=i[e.axis],o=i[f.axis],!isNumberFinite(r)||v>o||g<o}for(n=0;n<l&&(_()||(a.updateRangeFromParsed(d,e,i,h),!c));++n);if(c)for(n=l-1;n>=0;--n)if(!_()){a.updateRangeFromParsed(d,e,i,h);break}return d},t.getAllParsedValues=function(e){var t,n,r,i=this._cachedMeta._parsed,o=[];for(t=0,n=i.length;t<n;++t)r=i[t][e.axis],isNumberFinite(r)&&o.push(r);return o},t.getMaxOverflow=function(){return!1},t.getLabelAndValue=function(e){var t=this._cachedMeta,n=t.iScale,r=t.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}},t._update=function(e){var t=this,n=t._cachedMeta;t.configure(),t._cachedDataOpts={},t.update(e||"default"),n._clip=toClip(valueOrDefault(t.options.clip,defaultClip(n.xScale,n.yScale,t.getMaxOverflow())))},t.update=function(e){},t.draw=function(){var e,t=this,n=t._ctx,r=t.chart,i=t._cachedMeta,o=i.data||[],a=r.chartArea,s=[],u=t._drawStart||0,c=t._drawCount||o.length-u;for(i.dataset&&i.dataset.draw(n,a,u,c),e=u;e<u+c;++e){var l=o[e];l.hidden||(l.active?s.push(l):l.draw(n,a))}for(e=0;e<s.length;++e)s[e].draw(n,a)},t.getStyle=function(e,t){var n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)},t.getContext=function(e,t,n){var r,i=this,o=i.getDataset();if(e>=0&&e<i._cachedMeta.data.length){var a=i._cachedMeta.data[e];(r=a.$context||(a.$context=createDataContext(i.getContext(),e,a))).parsed=i.getParsed(e),r.raw=o.data[e],r.index=r.dataIndex=e}else(r=i.$context||(i.$context=createDatasetContext(i.chart.getContext(),i.index))).dataset=o,r.index=r.datasetIndex=i.index;return r.active=!!t,r.mode=n,r},t.resolveDatasetElementOptions=function(e){return this._resolveElementOptions(this.datasetElementType.id,e)},t.resolveDataElementOptions=function(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)},t._resolveElementOptions=function(e,t,n){void 0===t&&(t="default");var r=this,i="active"===t,o=r._cachedDataOpts,a=e+"-"+t,s=o[a],u=r.enableOptionSharing&&defined(n);if(s)return cloneIfNotShared(s,u);var c=r.chart.config,l=c.datasetElementScopeKeys(r._type,e),f=i?[e+"Hover","hover",e,""]:[e,""],h=c.getOptionScopes(r.getDataset(),l),d=Object.keys(defaults$1.elements[e]),p=c.resolveNamedOptions(h,d,(function(){return r.getContext(n,i)}),f);return p.$shared&&(p.$shared=u,o[a]=Object.freeze(cloneIfNotShared(p,u))),p},t._resolveAnimations=function(e,t,n){var r,i=this,o=i.chart,a=i._cachedDataOpts,s="animation-"+t,u=a[s];if(u)return u;if(!1!==o.options.animation){var c=i.chart.config,l=c.datasetAnimationScopeKeys(i._type,t),f=c.getOptionScopes(i.getDataset(),l);r=c.createResolver(f,i.getContext(e,n,t))}var h=new Animations(o,r&&r.animations);return r&&r._cacheable&&(a[s]=Object.freeze(h)),h},t.getSharedOptions=function(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))},t.includeOptions=function(e,t){return!t||isDirectUpdateMode(e)||this.chart._animationsDisabled},t.updateElement=function(e,t,n,r){isDirectUpdateMode(r)?Object.assign(e,n):this._resolveAnimations(t,r).update(e,n)},t.updateSharedOptions=function(e,t,n){e&&!isDirectUpdateMode(t)&&this._resolveAnimations(void 0,t).update(e,n)},t._setStyle=function(e,t,n,r){e.active=r;var i=this.getStyle(t,r);this._resolveAnimations(t,n,r).update(e,{options:!r&&this.getSharedOptions(i)||i})},t.removeHoverStyle=function(e,t,n){this._setStyle(e,n,"active",!1)},t.setHoverStyle=function(e,t,n){this._setStyle(e,n,"active",!0)},t._removeDatasetHoverStyle=function(){var e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)},t._setDatasetHoverStyle=function(){var e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)},t._resyncElements=function(e){for(var t,n=this,r=n._data,i=n._cachedMeta.data,o=_createForOfIteratorHelperLoose(n._syncList);!(t=o()).done;){var a=t.value,s=a[0],u=a[1],c=a[2];n[s](u,c)}n._syncList=[];var l=i.length,f=r.length,h=Math.min(f,l);h&&n.parse(0,h),f>l?n._insertElements(l,f-l,e):f<l&&n._removeElements(f,l-f)},t._insertElements=function(e,t,n){void 0===n&&(n=!0);var r,i=this,o=i._cachedMeta,a=o.data,s=e+t,u=function(e){for(e.length+=t,r=e.length-1;r>=s;r--)e[r]=e[r-t]};for(u(a),r=e;r<s;++r)a[r]=new i.dataElementType;i._parsing&&u(o._parsed),i.parse(e,t),n&&i.updateElements(a,e,t,"reset")},t.updateElements=function(e,t,n,r){},t._removeElements=function(e,t){var n=this._cachedMeta;if(this._parsing){var r=n._parsed.splice(e,t);n._stacked&&clearStacks(n,r)}n.data.splice(e,t)},t._onDataPush=function(){var e=arguments.length;this._syncList.push(["_insertElements",this.getDataset().data.length-e,e])},t._onDataPop=function(){this._syncList.push(["_removeElements",this._cachedMeta.data.length-1,1])},t._onDataShift=function(){this._syncList.push(["_removeElements",0,1])},t._onDataSplice=function(e,t){this._syncList.push(["_removeElements",e,t]),this._syncList.push(["_insertElements",e,arguments.length-2])},t._onDataUnshift=function(){this._syncList.push(["_insertElements",0,arguments.length])},e}();function getAllScaleValues(e){if(!e._cache.$bar){for(var t=e.getMatchingVisibleMetas("bar"),n=[],r=0,i=t.length;r<i;r++)n=n.concat(t[r].controller.getAllParsedValues(e));e._cache.$bar=_arrayUnique(n.sort((function(e,t){return e-t})))}return e._cache.$bar}function computeMinSampleSize(e){var t,n,r,i,o=getAllScaleValues(e),a=e._length,s=function(){32767!==r&&-32768!==r&&(defined(i)&&(a=Math.min(a,Math.abs(r-i)||a)),i=r)};for(t=0,n=o.length;t<n;++t)r=e.getPixelForValue(o[t]),s();for(i=void 0,t=0,n=e.ticks.length;t<n;++t)r=e.getPixelForTick(t),s();return a}function computeFitCategoryTraits(e,t,n,r){var i,o,a=n.barThickness;return isNullOrUndef(a)?(i=t.min*n.categoryPercentage,o=n.barPercentage):(i=a*r,o=1),{chunk:i/r,ratio:o,start:t.pixels[e]-i/2}}function computeFlexCategoryTraits(e,t,n,r){var i=t.pixels,o=i[e],a=e>0?i[e-1]:null,s=e<i.length-1?i[e+1]:null,u=n.categoryPercentage;null===a&&(a=o-(null===s?t.end-t.start:s-o)),null===s&&(s=o+o-a);var c=o-(o-Math.min(a,s))/2*u;return{chunk:Math.abs(s-a)/2*u/r,ratio:n.barPercentage,start:c}}function parseFloatBar(e,t,n,r){var i=n.parse(e[0],r),o=n.parse(e[1],r),a=Math.min(i,o),s=Math.max(i,o),u=a,c=s;Math.abs(a)>Math.abs(s)&&(u=s,c=a),t[n.axis]=c,t._custom={barStart:u,barEnd:c,start:i,end:o,min:a,max:s}}function parseValue(e,t,n,r){return isArray$2(e)?parseFloatBar(e,t,n,r):t[n.axis]=n.parse(e,r),t}function parseArrayOrPrimitive(e,t,n,r){var i,o,a,s,u=e.iScale,c=e.vScale,l=u.getLabels(),f=u===c,h=[];for(i=n,o=n+r;i<o;++i)s=t[i],(a={})[u.axis]=f||u.parse(l[i],i),h.push(parseValue(s,a,c,i));return h}function isFloatBar(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function barSign(e,t,n){return 0!==e?sign(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}function borderProps(e){var t,n,r,i,o;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(i="end",o="start"):(i="start",o="end"),{start:n,end:r,reverse:t,top:i,bottom:o}}function setBorderSkipped(e,t,n,r){var i=t.borderSkipped,o={};if(i){var a=borderProps(e),s=a.start,u=a.end,c=a.reverse,l=a.top,f=a.bottom;"middle"===i&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?i=l:(n._bottom||0)===r?i=f:(o[parseEdge(f,s,u,c)]=!0,i=l)),o[parseEdge(i,s,u,c)]=!0,e.borderSkipped=o}else e.borderSkipped=o}function parseEdge(e,t,n,r){return e=r?startEnd(e=swap(e,t,n),n,t):startEnd(e,t,n)}function swap(e,t,n){return e===t?n:e===n?t:e}function startEnd(e,t,n){return"start"===e?t:"end"===e?n:e}DatasetController.defaults={},DatasetController.prototype.datasetElementType=null,DatasetController.prototype.dataElementType=null;var BarController=function(e){function t(){return e.apply(this,arguments)||this}_inheritsLoose(t,e);var n=t.prototype;return n.parsePrimitiveData=function(e,t,n,r){return parseArrayOrPrimitive(e,t,n,r)},n.parseArrayData=function(e,t,n,r){return parseArrayOrPrimitive(e,t,n,r)},n.parseObjectData=function(e,t,n,r){var i,o,a,s,u=e.iScale,c=e.vScale,l=this._parsing,f=l.xAxisKey,h=void 0===f?"x":f,d=l.yAxisKey,p=void 0===d?"y":d,v="x"===u.axis?h:p,g="x"===c.axis?h:p,_=[];for(i=n,o=n+r;i<o;++i)s=t[i],(a={})[u.axis]=u.parse(resolveObjectKey(s,v),i),_.push(parseValue(resolveObjectKey(s,g),a,c,i));return _},n.updateRangeFromParsed=function(t,n,r,i){e.prototype.updateRangeFromParsed.call(this,t,n,r,i);var o=r._custom;o&&n===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))},n.getMaxOverflow=function(){return 0},n.getLabelAndValue=function(e){var t=this._cachedMeta,n=t.iScale,r=t.vScale,i=this.getParsed(e),o=i._custom,a=isFloatBar(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:a}},n.initialize=function(){var t=this;t.enableOptionSharing=!0,e.prototype.initialize.call(this),t._cachedMeta.stack=t.getDataset().stack},n.update=function(e){var t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)},n.updateElements=function(e,t,n,r){var i=this,o="reset"===r,a=i.index,s=i._cachedMeta.vScale,u=s.getBasePixel(),c=s.isHorizontal(),l=i._getRuler(),f=i.resolveDataElementOptions(t,r),h=i.getSharedOptions(f),d=i.includeOptions(r,h);i.updateSharedOptions(h,r,f);for(var p=t;p<t+n;p++){var v=i.getParsed(p),g=o||isNullOrUndef(v[s.axis])?{base:u,head:u}:i._calculateBarValuePixels(p),_=i._calculateBarIndexPixels(p,l),m=(v._stacks||{})[s.axis],y={horizontal:c,base:g.base,enableBorderRadius:!m||isFloatBar(v._custom)||a===m._top||a===m._bottom,x:c?g.head:_.center,y:c?_.center:g.head,height:c?_.size:Math.abs(g.size),width:c?Math.abs(g.size):_.size};d&&(y.options=h||i.resolveDataElementOptions(p,e[p].active?"active":r)),setBorderSkipped(y,y.options||e[p].options,m,a),i.updateElement(e[p],p,y,r)}},n._getStacks=function(e,t){var n,r,i=this._cachedMeta.iScale,o=i.getMatchingVisibleMetas(this._type),a=i.options.stacked,s=o.length,u=[];for(n=0;n<s;++n)if((r=o[n]).controller.options.grouped){if(void 0!==t){var c=r.controller.getParsed(t)[r.controller._cachedMeta.vScale.axis];if(isNullOrUndef(c)||isNaN(c))continue}if((!1===a||-1===u.indexOf(r.stack)||void 0===a&&void 0===r.stack)&&u.push(r.stack),r.index===e)break}return u.length||u.push(void 0),u},n._getStackCount=function(e){return this._getStacks(void 0,e).length},n._getStackIndex=function(e,t,n){var r=this._getStacks(e,n),i=void 0!==t?r.indexOf(t):-1;return-1===i?r.length-1:i},n._getRuler=function(){var e,t,n=this,r=n.options,i=n._cachedMeta,o=i.iScale,a=[];for(e=0,t=i.data.length;e<t;++e)a.push(o.getPixelForValue(n.getParsed(e)[o.axis],e));var s=r.barThickness;return{min:s||computeMinSampleSize(o),pixels:a,start:o._startPixel,end:o._endPixel,stackCount:n._getStackCount(),scale:o,grouped:r.grouped,ratio:s?1:r.categoryPercentage*r.barPercentage}},n._calculateBarValuePixels=function(e){var t,n,r=this,i=r._cachedMeta,o=i.vScale,a=i._stacked,s=r.options,u=s.base,c=s.minBarLength,l=u||0,f=r.getParsed(e),h=f._custom,d=isFloatBar(h),p=f[o.axis],v=0,g=a?r.applyStack(o,f,a):p;g!==p&&(v=g-p,g=p),d&&(p=h.barStart,g=h.barEnd-h.barStart,0!==p&&sign(p)!==sign(h.barEnd)&&(v=0),v+=p);var _=isNullOrUndef(u)||d?v:u,m=o.getPixelForValue(_);if(n=(t=r.chart.getDataVisibility(e)?o.getPixelForValue(v+g):m)-m,Math.abs(n)<c&&(n=barSign(n,o,l)*c,p===l&&(m-=n/2),t=m+n),m===o.getPixelForValue(l)){var y=sign(n)*o.getLineWidthForValue(l)/2;m+=y,n-=y}return{size:n,base:m,head:t,center:t+n/2}},n._calculateBarIndexPixels=function(e,t){var n,r,i=this,o=t.scale,a=i.options,s=a.skipNull,u=valueOrDefault(a.maxBarThickness,1/0);if(t.grouped){var c=s?i._getStackCount(e):t.stackCount,l="flex"===a.barThickness?computeFlexCategoryTraits(e,t,a,c):computeFitCategoryTraits(e,t,a,c),f=i._getStackIndex(i.index,i._cachedMeta.stack,s?e:void 0);n=l.start+l.chunk*f+l.chunk/2,r=Math.min(u,l.chunk*l.ratio)}else n=o.getPixelForValue(i.getParsed(e)[o.axis],e),r=Math.min(u,t.min*t.ratio);return{base:n-r/2,head:n+r/2,center:n,size:r}},n.draw=function(){for(var e=this,t=e._cachedMeta,n=t.vScale,r=t.data,i=r.length,o=0;o<i;++o)null!==e.getParsed(o)[n.axis]&&r[o].draw(e._ctx)},t}(DatasetController);function getRelativePosition$1(e,t){return"native"in e?{x:e.x,y:e.y}:getRelativePosition(e,t)}function evaluateAllVisibleItems(e,t){for(var n,r,i,o=e.getSortedVisibleDatasetMetas(),a=0,s=o.length;a<s;++a){var u=o[a];n=u.index;for(var c=0,l=(r=u.data).length;c<l;++c)(i=r[c]).skip||t(i,n,c)}}function binarySearch(e,t,n,r){var i=e.controller,o=e.data,a=e._sorted,s=i._cachedMeta.iScale;if(s&&t===s.axis&&a&&o.length){var u=s._reversePixels?_rlookupByKey:_lookupByKey;if(!r)return u(o,t,n);if(i._sharedOptions){var c=o[0],l="function"==typeof c.getRange&&c.getRange(t);if(l){var f=u(o,t,n-l),h=u(o,t,n+l);return{lo:f.lo,hi:h.hi}}}}return{lo:0,hi:o.length-1}}function optimizedEvaluateItems(e,t,n,r,i){for(var o=e.getSortedVisibleDatasetMetas(),a=n[t],s=0,u=o.length;s<u;++s)for(var c=o[s],l=c.index,f=c.data,h=binarySearch(o[s],t,a,i),d=h.lo,p=h.hi,v=d;v<=p;++v){var g=f[v];g.skip||r(g,l,v)}}function getDistanceMetricForAxis(e){var t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,r){var i=t?Math.abs(e.x-r.x):0,o=n?Math.abs(e.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function getIntersectItems(e,t,n,r){var i=[];if(!_isPointInArea(t,e.chartArea,e._minPadding))return i;return optimizedEvaluateItems(e,n,t,(function(e,n,o){e.inRange(t.x,t.y,r)&&i.push({element:e,datasetIndex:n,index:o})}),!0),i}function getNearestItems(e,t,n,r,i){var o=getDistanceMetricForAxis(n),a=Number.POSITIVE_INFINITY,s=[];if(!_isPointInArea(t,e.chartArea,e._minPadding))return s;return optimizedEvaluateItems(e,n,t,(function(n,u,c){if(!r||n.inRange(t.x,t.y,i)){var l=n.getCenterPoint(i);if(_isPointInArea(l,e.chartArea,e._minPadding)||n.inRange(t.x,t.y,i)){var f=o(t,l);f<a?(s=[{element:n,datasetIndex:u,index:c}],a=f):f===a&&s.push({element:n,datasetIndex:u,index:c})}}})),s}function getAxisItems(e,t,n,r){var i=getRelativePosition$1(t,e),o=[],a=n.axis,s="x"===a?"inXRange":"inYRange",u=!1;return evaluateAllVisibleItems(e,(function(e,t,n){e[s](i[a],r)&&o.push({element:e,datasetIndex:t,index:n}),e.inRange(i.x,i.y,r)&&(u=!0)})),n.intersect&&!u?[]:o}exports("V",BarController),BarController.id="bar",BarController.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},BarController.overrides={interaction:{mode:"index"},scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};var Interaction={modes:{index:function(e,t,n,r){var i=getRelativePosition$1(t,e),o=n.axis||"x",a=n.intersect?getIntersectItems(e,i,o,r):getNearestItems(e,i,o,!1,r),s=[];return a.length?(e.getSortedVisibleDatasetMetas().forEach((function(e){var t=a[0].index,n=e.data[t];n&&!n.skip&&s.push({element:n,datasetIndex:e.index,index:t})})),s):[]},dataset:function(e,t,n,r){var i=getRelativePosition$1(t,e),o=n.axis||"xy",a=n.intersect?getIntersectItems(e,i,o,r):getNearestItems(e,i,o,!1,r);if(a.length>0){var s=a[0].datasetIndex,u=e.getDatasetMeta(s).data;a=[];for(var c=0;c<u.length;++c)a.push({element:u[c],datasetIndex:s,index:c})}return a},point:function(e,t,n,r){return getIntersectItems(e,getRelativePosition$1(t,e),n.axis||"xy",r)},nearest:function(e,t,n,r){return getNearestItems(e,getRelativePosition$1(t,e),n.axis||"xy",n.intersect,r)},x:function(e,t,n,r){return n.axis="x",getAxisItems(e,t,n,r)},y:function(e,t,n,r){return n.axis="y",getAxisItems(e,t,n,r)}}},STATIC_POSITIONS=["left","top","right","bottom"];function filterByPosition(e,t){return e.filter((function(e){return e.pos===t}))}function filterDynamicPositionByAxis(e,t){return e.filter((function(e){return-1===STATIC_POSITIONS.indexOf(e.pos)&&e.box.axis===t}))}function sortByWeight(e,t){return e.sort((function(e,n){var r=t?n:e,i=t?e:n;return r.weight===i.weight?r.index-i.index:r.weight-i.weight}))}function wrapBoxes(e){var t,n,r,i,o,a,s=[];for(t=0,n=(e||[]).length;t<n;++t){var u=r=e[t];i=u.position;var c=u.options;o=c.stack;var l=c.stackWeight;a=void 0===l?1:l,s.push({index:t,box:r,pos:i,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&i+o,stackWeight:a})}return s}function buildStacks(e){for(var t,n={},r=_createForOfIteratorHelperLoose(e);!(t=r()).done;){var i=t.value,o=i.stack,a=i.pos,s=i.stackWeight;if(o&&STATIC_POSITIONS.includes(a)){var u=n[o]||(n[o]={count:0,placed:0,weight:0,size:0});u.count++,u.weight+=s}}return n}function setLayoutDims(e,t){var n,r,i,o=buildStacks(e),a=t.vBoxMaxWidth,s=t.hBoxMaxHeight;for(n=0,r=e.length;n<r;++n){var u=(i=e[n]).box.fullSize,c=o[i.stack],l=c&&i.stackWeight/c.weight;i.horizontal?(i.width=l?l*a:u&&t.availableWidth,i.height=s):(i.width=a,i.height=l?l*s:u&&t.availableHeight)}return o}function buildLayoutBoxes(e){var t=wrapBoxes(e),n=sortByWeight(t.filter((function(e){return e.box.fullSize})),!0),r=sortByWeight(filterByPosition(t,"left"),!0),i=sortByWeight(filterByPosition(t,"right")),o=sortByWeight(filterByPosition(t,"top"),!0),a=sortByWeight(filterByPosition(t,"bottom")),s=filterDynamicPositionByAxis(t,"x"),u=filterDynamicPositionByAxis(t,"y");return{fullSize:n,leftAndTop:r.concat(o),rightAndBottom:i.concat(u).concat(a).concat(s),chartArea:filterByPosition(t,"chartArea"),vertical:r.concat(i).concat(u),horizontal:o.concat(a).concat(s)}}function getCombinedMax(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function updateMaxPadding(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function updateDims(e,t,n,r){var i=n.pos,o=n.box,a=e.maxPadding;if(!isObject$4(i)){n.size&&(e[i]-=n.size);var s=r[n.stack]||{size:0,count:1};s.size=Math.max(s.size,n.horizontal?o.height:o.width),n.size=s.size/s.count,e[i]+=n.size}o.getPadding&&updateMaxPadding(a,o.getPadding());var u=Math.max(0,t.outerWidth-getCombinedMax(a,e,"left","right")),c=Math.max(0,t.outerHeight-getCombinedMax(a,e,"top","bottom")),l=u!==e.w,f=c!==e.h;return e.w=u,e.h=c,n.horizontal?{same:l,other:f}:{same:f,other:l}}function handleMaxPadding(e){var t=e.maxPadding;function n(n){var r=Math.max(t[n]-e[n],0);return e[n]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}function getMargins(e,t){var n=t.maxPadding;function r(e){var r={left:0,top:0,right:0,bottom:0};return e.forEach((function(e){r[e]=Math.max(t[e],n[e])})),r}return r(e?["left","right"]:["top","bottom"])}function fitBoxes(e,t,n,r){var i,o,a,s,u,c,l=[];for(i=0,o=e.length,u=0;i<o;++i){(s=(a=e[i]).box).update(a.width||t.w,a.height||t.h,getMargins(a.horizontal,t));var f=updateDims(t,n,a,r),h=f.same,d=f.other;u|=h&&l.length,c=c||d,s.fullSize||l.push(a)}return u&&fitBoxes(l,t,n,r)||c}function setBoxDims(e,t,n,r,i){e.top=n,e.left=t,e.right=t+r,e.bottom=n+i,e.width=r,e.height=i}function placeBoxes(e,t,n,r){for(var i,o=n.padding,a=t.x,s=t.y,u=_createForOfIteratorHelperLoose(e);!(i=u()).done;){var c=i.value,l=c.box,f=r[c.stack]||{count:1,placed:0,weight:1},h=c.stackWeight/f.weight||1;if(c.horizontal){var d=t.w*h,p=f.size||l.height;defined(f.start)&&(s=f.start),l.fullSize?setBoxDims(l,o.left,s,n.outerWidth-o.right-o.left,p):setBoxDims(l,t.left+f.placed,s,d,p),f.start=s,f.placed+=d,s=l.bottom}else{var v=t.h*h,g=f.size||l.width;defined(f.start)&&(a=f.start),l.fullSize?setBoxDims(l,a,o.top,g,n.outerHeight-o.bottom-o.top):setBoxDims(l,a,t.top+f.placed,g,v),f.start=a,f.placed+=v,a=l.right}}t.x=a,t.y=s}defaults$1.set("layout",{padding:{top:0,right:0,bottom:0,left:0}});var layouts={addBox:function(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw:function(e){t.draw(e)}}]},e.boxes.push(t)},removeBox:function(e,t){var n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure:function(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update:function(e,t,n,r){if(e){var i=toPadding(e.options.layout.padding),o=Math.max(t-i.width,0),a=Math.max(n-i.height,0),s=buildLayoutBoxes(e.boxes),u=s.vertical,c=s.horizontal;each$9(e.boxes,(function(e){"function"==typeof e.beforeLayout&&e.beforeLayout()}));var l=u.reduce((function(e,t){return t.box.options&&!1===t.box.options.display?e:e+1}),0)||1,f=Object.freeze({outerWidth:t,outerHeight:n,padding:i,availableWidth:o,availableHeight:a,vBoxMaxWidth:o/2/l,hBoxMaxHeight:a/2}),h=Object.assign({},i);updateMaxPadding(h,toPadding(r));var d=Object.assign({maxPadding:h,w:o,h:a,x:i.left,y:i.top},i),p=setLayoutDims(u.concat(c),f);fitBoxes(s.fullSize,d,f,p),fitBoxes(u,d,f,p),fitBoxes(c,d,f,p)&&fitBoxes(u,d,f,p),handleMaxPadding(d),placeBoxes(s.leftAndTop,d,f,p),d.x+=d.w,d.y+=d.h,placeBoxes(s.rightAndBottom,d,f,p),e.chartArea={left:d.left,top:d.top,right:d.left+d.w,bottom:d.top+d.h,height:d.h,width:d.w},each$9(s.chartArea,(function(t){var n=t.box;Object.assign(n,e.chartArea),n.update(d.w,d.h)}))}}},BasePlatform=function(){function e(){}var t=e.prototype;return t.acquireContext=function(e,t){},t.releaseContext=function(e){return!1},t.addEventListener=function(e,t,n){},t.removeEventListener=function(e,t,n){},t.getDevicePixelRatio=function(){return 1},t.getMaximumSize=function(e,t,n,r){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):n)}},t.isAttached=function(e){return!0},e}(),BasicPlatform=function(e){function t(){return e.apply(this,arguments)||this}return _inheritsLoose(t,e),t.prototype.acquireContext=function(e){return e&&e.getContext&&e.getContext("2d")||null},t}(BasePlatform),EXPANDO_KEY="$chartjs",EVENT_TYPES={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},isNullOrEmpty=function(e){return null===e||""===e};function initCanvas(e,t){var n=e.style,r=e.getAttribute("height"),i=e.getAttribute("width");if(e[EXPANDO_KEY]={initial:{height:r,width:i,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",isNullOrEmpty(i)){var o=readUsedSize(e,"width");void 0!==o&&(e.width=o)}if(isNullOrEmpty(r))if(""===e.style.height)e.height=e.width/(t||2);else{var a=readUsedSize(e,"height");void 0!==a&&(e.height=a)}return e}var eventListenerOptions=!!supportsEventListenerOptions&&{passive:!0};function addListener(e,t,n){e.addEventListener(t,n,eventListenerOptions)}function removeListener(e,t,n){e.canvas.removeEventListener(t,n,eventListenerOptions)}function fromNativeEvent(e,t){var n=EVENT_TYPES[e.type]||e.type,r=getRelativePosition(e,t),i=r.x,o=r.y;return{type:n,chart:t,native:e,x:void 0!==i?i:null,y:void 0!==o?o:null}}function createAttachObserver(e,t,n){var r=e.canvas,i=r&&_getParentNode(r)||r,o=new MutationObserver((function(e){var t=_getParentNode(i);e.forEach((function(e){for(var r=0;r<e.addedNodes.length;r++){var o=e.addedNodes[r];o!==i&&o!==t||n(e.target)}}))}));return o.observe(document,{childList:!0,subtree:!0}),o}function createDetachObserver(e,t,n){var r=e.canvas,i=r&&_getParentNode(r);if(i){var o=new MutationObserver((function(e){e.forEach((function(e){for(var t=0;t<e.removedNodes.length;t++)if(e.removedNodes[t]===r){n();break}}))}));return o.observe(i,{childList:!0}),o}}var drpListeningCharts=new Map,oldDevicePixelRatio=0;function onWindowResize(){var e=window.devicePixelRatio;e!==oldDevicePixelRatio&&(oldDevicePixelRatio=e,drpListeningCharts.forEach((function(t,n){n.currentDevicePixelRatio!==e&&t()})))}function listenDevicePixelRatioChanges(e,t){drpListeningCharts.size||window.addEventListener("resize",onWindowResize),drpListeningCharts.set(e,t)}function unlistenDevicePixelRatioChanges(e){drpListeningCharts.delete(e),drpListeningCharts.size||window.removeEventListener("resize",onWindowResize)}function createResizeObserver(e,t,n){var r=e.canvas,i=r&&_getParentNode(r);if(i){var o=throttled((function(e,t){var r=i.clientWidth;n(e,t),r<i.clientWidth&&n()}),window),a=new ResizeObserver((function(e){var t=e[0],n=t.contentRect.width,r=t.contentRect.height;0===n&&0===r||o(n,r)}));return a.observe(i),listenDevicePixelRatioChanges(e,o),a}}function releaseObserver(e,t,n){n&&n.disconnect(),"resize"===t&&unlistenDevicePixelRatioChanges(e)}function createProxyAndListen(e,t,n){var r=e.canvas,i=throttled((function(t){null!==e.ctx&&n(fromNativeEvent(t,e))}),e,(function(e){var t=e[0];return[t,t.offsetX,t.offsetY]}));return addListener(r,t,i),i}var DomPlatform=function(e){function t(){return e.apply(this,arguments)||this}_inheritsLoose(t,e);var n=t.prototype;return n.acquireContext=function(e,t){var n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(initCanvas(e,t),n):null},n.releaseContext=function(e){var t=e.canvas;if(!t[EXPANDO_KEY])return!1;var n=t[EXPANDO_KEY].initial;["height","width"].forEach((function(e){var r=n[e];isNullOrUndef(r)?t.removeAttribute(e):t.setAttribute(e,r)}));var r=n.style||{};return Object.keys(r).forEach((function(e){t.style[e]=r[e]})),t.width=t.width,delete t[EXPANDO_KEY],!0},n.addEventListener=function(e,t,n){this.removeEventListener(e,t);var r=e.$proxies||(e.$proxies={}),i={attach:createAttachObserver,detach:createDetachObserver,resize:createResizeObserver}[t]||createProxyAndListen;r[t]=i(e,t,n)},n.removeEventListener=function(e,t){var n=e.$proxies||(e.$proxies={}),r=n[t];r&&(({attach:releaseObserver,detach:releaseObserver,resize:releaseObserver}[t]||removeListener)(e,t,r),n[t]=void 0)},n.getDevicePixelRatio=function(){return window.devicePixelRatio},n.getMaximumSize=function(e,t,n,r){return _getMaximumSize(e,t,n,r)},n.isAttached=function(e){var t=_getParentNode(e);return!(!t||!t.isConnected)},t}(BasePlatform);function _detectPlatform(e){return!_isDomSupported()||"undefined"!=typeof OffscreenCanvas&&e instanceof OffscreenCanvas?BasicPlatform:DomPlatform}var Element$1=function(){function e(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}var t=e.prototype;return t.tooltipPosition=function(e){var t=this.getProps(["x","y"],e);return{x:t.x,y:t.y}},t.hasValue=function(){return isNumber$1(this.x)&&isNumber$1(this.y)},t.getProps=function(e,t){var n=this,r=this.$animations;if(!t||!r)return n;var i={};return e.forEach((function(e){i[e]=r[e]&&r[e].active()?r[e]._to:n[e]})),i},e}();Element$1.defaults={},Element$1.defaultRoutes=void 0;var formatters={values:function(e){return isArray$2(e)?e:""+e},numeric:function(e,t,n){if(0===e)return"0";var r,i=this.chart.options.locale,o=e;if(n.length>1){var a=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(a<1e-4||a>1e15)&&(r="scientific"),o=calculateDelta(e,n)}var s=log10(Math.abs(o)),u=Math.max(Math.min(-1*Math.floor(s),20),0),c={notation:r,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(c,this.options.ticks.format),formatNumber(e,i,c)},logarithmic:function(e,t,n){if(0===e)return"0";var r=e/Math.pow(10,Math.floor(log10(e)));return 1===r||2===r||5===r?formatters.numeric.call(this,e,t,n):""}};function calculateDelta(e,t){var n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e)),n}var Ticks={formatters:formatters};function autoSkip(e,t){var n=e.options.ticks,r=n.maxTicksLimit||determineMaxTicks(e),i=n.major.enabled?getMajorIndices(t):[],o=i.length,a=i[0],s=i[o-1],u=[];if(o>r)return skipMajors(t,u,i,o/r),u;var c=calculateSpacing(i,t,r);if(o>0){var l,f,h=o>1?Math.round((s-a)/(o-1)):null;for(skip(t,u,c,isNullOrUndef(h)?0:a-h,a),l=0,f=o-1;l<f;l++)skip(t,u,c,i[l],i[l+1]);return skip(t,u,c,s,isNullOrUndef(h)?t.length:s+h),u}return skip(t,u,c),u}function determineMaxTicks(e){var t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),i=e._maxLength/n;return Math.floor(Math.min(r,i))}function calculateSpacing(e,t,n){var r=getEvenSpacing(e),i=t.length/n;if(!r)return Math.max(i,1);for(var o=_factorize(r),a=0,s=o.length-1;a<s;a++){var u=o[a];if(u>i)return u}return Math.max(i,1)}function getMajorIndices(e){var t,n,r=[];for(t=0,n=e.length;t<n;t++)e[t].major&&r.push(t);return r}function skipMajors(e,t,n,r){var i,o=0,a=n[0];for(r=Math.ceil(r),i=0;i<e.length;i++)i===a&&(t.push(e[i]),a=n[++o*r])}function skip(e,t,n,r,i){var o,a,s,u=valueOrDefault(r,0),c=Math.min(valueOrDefault(i,e.length),e.length),l=0;for(n=Math.ceil(n),i&&(n=(o=i-r)/Math.floor(o/n)),s=u;s<0;)l++,s=Math.round(u+l*n);for(a=Math.max(u,0);a<c;a++)a===s&&(t.push(e[a]),l++,s=Math.round(u+l*n))}function getEvenSpacing(e){var t,n,r=e.length;if(r<2)return!1;for(n=e[0],t=1;t<r;++t)if(e[t]-e[t-1]!==n)return!1;return n}defaults$1.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:function(e,t){return t.lineWidth},tickColor:function(e,t){return t.color},offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Ticks.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),defaults$1.route("scale.ticks","color","","color"),defaults$1.route("scale.grid","color","","borderColor"),defaults$1.route("scale.grid","borderColor","","borderColor"),defaults$1.route("scale.title","color","","color"),defaults$1.describe("scale",{_fallback:!1,_scriptable:function(e){return!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e},_indexable:function(e){return"borderDash"!==e&&"tickBorderDash"!==e}}),defaults$1.describe("scales",{_fallback:"scale"}),defaults$1.describe("scale.ticks",{_scriptable:function(e){return"backdropPadding"!==e&&"callback"!==e},_indexable:function(e){return"backdropPadding"!==e}});var reverseAlign=function(e){return"left"===e?"right":"right"===e?"left":e},offsetFromEdge=function(e,t,n){return"top"===t||"left"===t?e[t]+n:e[t]-n};function sample(e,t){for(var n=[],r=e.length/t,i=e.length,o=0;o<i;o+=r)n.push(e[Math.floor(o)]);return n}function getPixelForGridLine(e,t,n){var r,i=e.ticks.length,o=Math.min(t,i-1),a=e._startPixel,s=e._endPixel,u=1e-6,c=e.getPixelForTick(o);if(!(n&&(r=1===i?Math.max(c-a,s-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(o-1))/2,(c+=o<t?r:-r)<a-u||c>s+u)))return c}function garbageCollect(e,t){each$9(e,(function(e){var n,r=e.gc,i=r.length/2;if(i>t){for(n=0;n<i;++n)delete e.data[r[n]];r.splice(0,i)}}))}function getTickMarkLength(e){return e.drawTicks?e.tickLength:0}function getTitleHeight(e,t){if(!e.display)return 0;var n=toFont(e.font,t),r=toPadding(e.padding);return(isArray$2(e.text)?e.text.length:1)*n.lineHeight+r.height}function createScaleContext(e,t){return Object.assign(Object.create(e),{scale:t,type:"scale"})}function createTickContext(e,t,n){return Object.assign(Object.create(e),{tick:n,index:t,type:"tick"})}function titleAlign(e,t,n){var r=_toLeftRightCenter(e);return(n&&"right"!==t||!n&&"right"===t)&&(r=reverseAlign(r)),r}function titleArgs(e,t,n,r){var i,o,a,s=e.top,u=e.left,c=e.bottom,l=e.right,f=e.chart,h=f.chartArea,d=f.scales,p=0,v=c-s,g=l-u;if(e.isHorizontal()){if(o=_alignStartEnd(r,u,l),isObject$4(n)){var _=Object.keys(n)[0],m=n[_];a=d[_].getPixelForValue(m)+v-t}else a="center"===n?(h.bottom+h.top)/2+v-t:offsetFromEdge(e,n,t);i=l-u}else{if(isObject$4(n)){var y=Object.keys(n)[0],b=n[y];o=d[y].getPixelForValue(b)-g+t}else o="center"===n?(h.left+h.right)/2-g+t:offsetFromEdge(e,n,t);a=_alignStartEnd(r,c,s),p="left"===n?-HALF_PI:HALF_PI}return{titleX:o,titleY:a,maxWidth:i,rotation:p}}var Scale=function(e){function t(t){var n;return(n=e.call(this)||this).id=t.id,n.type=t.type,n.options=void 0,n.ctx=t.ctx,n.chart=t.chart,n.top=void 0,n.bottom=void 0,n.left=void 0,n.right=void 0,n.width=void 0,n.height=void 0,n._margins={left:0,right:0,top:0,bottom:0},n.maxWidth=void 0,n.maxHeight=void 0,n.paddingTop=void 0,n.paddingBottom=void 0,n.paddingLeft=void 0,n.paddingRight=void 0,n.axis=void 0,n.labelRotation=void 0,n.min=void 0,n.max=void 0,n._range=void 0,n.ticks=[],n._gridLineItems=null,n._labelItems=null,n._labelSizes=null,n._length=0,n._maxLength=0,n._longestTextCache={},n._startPixel=void 0,n._endPixel=void 0,n._reversePixels=!1,n._userMax=void 0,n._userMin=void 0,n._suggestedMax=void 0,n._suggestedMin=void 0,n._ticksLength=0,n._borderValue=0,n._cache={},n._dataLimitsCached=!1,n.$context=void 0,n}_inheritsLoose(t,e);var n=t.prototype;return n.init=function(e){var t=this;t.options=e.setContext(t.getContext()),t.axis=e.axis,t._userMin=t.parse(e.min),t._userMax=t.parse(e.max),t._suggestedMin=t.parse(e.suggestedMin),t._suggestedMax=t.parse(e.suggestedMax)},n.parse=function(e,t){return e},n.getUserBounds=function(){var e=this._userMin,t=this._userMax,n=this._suggestedMin,r=this._suggestedMax;return e=finiteOrDefault(e,Number.POSITIVE_INFINITY),t=finiteOrDefault(t,Number.NEGATIVE_INFINITY),n=finiteOrDefault(n,Number.POSITIVE_INFINITY),r=finiteOrDefault(r,Number.NEGATIVE_INFINITY),{min:finiteOrDefault(e,n),max:finiteOrDefault(t,r),minDefined:isNumberFinite(e),maxDefined:isNumberFinite(t)}},n.getMinMax=function(e){var t,n=this,r=n.getUserBounds(),i=r.min,o=r.max,a=r.minDefined,s=r.maxDefined;if(a&&s)return{min:i,max:o};for(var u=n.getMatchingVisibleMetas(),c=0,l=u.length;c<l;++c)t=u[c].controller.getMinMax(n,e),a||(i=Math.min(i,t.min)),s||(o=Math.max(o,t.max));return{min:finiteOrDefault(i,finiteOrDefault(o,i)),max:finiteOrDefault(o,finiteOrDefault(i,o))}},n.getPadding=function(){var e=this;return{left:e.paddingLeft||0,top:e.paddingTop||0,right:e.paddingRight||0,bottom:e.paddingBottom||0}},n.getTicks=function(){return this.ticks},n.getLabels=function(){var e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]},n.beforeLayout=function(){this._cache={},this._dataLimitsCached=!1},n.beforeUpdate=function(){callback(this.options.beforeUpdate,[this])},n.update=function(e,t,n){var r=this,i=r.options.ticks,o=i.sampleSize;r.beforeUpdate(),r.maxWidth=e,r.maxHeight=t,r._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),r.ticks=null,r._labelSizes=null,r._gridLineItems=null,r._labelItems=null,r.beforeSetDimensions(),r.setDimensions(),r.afterSetDimensions(),r._maxLength=r.isHorizontal()?r.width+n.left+n.right:r.height+n.top+n.bottom,r._dataLimitsCached||(r.beforeDataLimits(),r.determineDataLimits(),r.afterDataLimits(),r._range=_addGrace(r,r.options.grace),r._dataLimitsCached=!0),r.beforeBuildTicks(),r.ticks=r.buildTicks()||[],r.afterBuildTicks();var a=o<r.ticks.length;r._convertTicksToLabels(a?sample(r.ticks,o):r.ticks),r.configure(),r.beforeCalculateLabelRotation(),r.calculateLabelRotation(),r.afterCalculateLabelRotation(),i.display&&(i.autoSkip||"auto"===i.source)&&(r.ticks=autoSkip(r,r.ticks),r._labelSizes=null),a&&r._convertTicksToLabels(r.ticks),r.beforeFit(),r.fit(),r.afterFit(),r.afterUpdate()},n.configure=function(){var e,t,n=this,r=n.options.reverse;n.isHorizontal()?(e=n.left,t=n.right):(e=n.top,t=n.bottom,r=!r),n._startPixel=e,n._endPixel=t,n._reversePixels=r,n._length=t-e,n._alignToPixels=n.options.alignToPixels},n.afterUpdate=function(){callback(this.options.afterUpdate,[this])},n.beforeSetDimensions=function(){callback(this.options.beforeSetDimensions,[this])},n.setDimensions=function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0},n.afterSetDimensions=function(){callback(this.options.afterSetDimensions,[this])},n._callHooks=function(e){var t=this;t.chart.notifyPlugins(e,t.getContext()),callback(t.options[e],[t])},n.beforeDataLimits=function(){this._callHooks("beforeDataLimits")},n.determineDataLimits=function(){},n.afterDataLimits=function(){this._callHooks("afterDataLimits")},n.beforeBuildTicks=function(){this._callHooks("beforeBuildTicks")},n.buildTicks=function(){return[]},n.afterBuildTicks=function(){this._callHooks("afterBuildTicks")},n.beforeTickToLabelConversion=function(){callback(this.options.beforeTickToLabelConversion,[this])},n.generateTickLabels=function(e){var t,n,r,i=this.options.ticks;for(t=0,n=e.length;t<n;t++)(r=e[t]).label=callback(i.callback,[r.value,t,e],this)},n.afterTickToLabelConversion=function(){callback(this.options.afterTickToLabelConversion,[this])},n.beforeCalculateLabelRotation=function(){callback(this.options.beforeCalculateLabelRotation,[this])},n.calculateLabelRotation=function(){var e,t,n,r=this,i=r.options,o=i.ticks,a=r.ticks.length,s=o.minRotation||0,u=o.maxRotation,c=s;if(!r._isVisible()||!o.display||s>=u||a<=1||!r.isHorizontal())r.labelRotation=s;else{var l=r._getLabelSizes(),f=l.widest.width,h=l.highest.height,d=_limitValue(r.chart.width-f,0,r.maxWidth);f+6>(e=i.offset?r.maxWidth/a:d/(a-1))&&(e=d/(a-(i.offset?.5:1)),t=r.maxHeight-getTickMarkLength(i.grid)-o.padding-getTitleHeight(i.title,r.chart.options.font),n=Math.sqrt(f*f+h*h),c=toDegrees(Math.min(Math.asin(_limitValue((l.highest.height+6)/e,-1,1)),Math.asin(_limitValue(t/n,-1,1))-Math.asin(_limitValue(h/n,-1,1)))),c=Math.max(s,Math.min(u,c))),r.labelRotation=c}},n.afterCalculateLabelRotation=function(){callback(this.options.afterCalculateLabelRotation,[this])},n.beforeFit=function(){callback(this.options.beforeFit,[this])},n.fit=function(){var e=this,t={width:0,height:0},n=e.chart,r=e.options,i=r.ticks,o=r.title,a=r.grid,s=e._isVisible(),u=e.isHorizontal();if(s){var c=getTitleHeight(o,n.options.font);if(u?(t.width=e.maxWidth,t.height=getTickMarkLength(a)+c):(t.height=e.maxHeight,t.width=getTickMarkLength(a)+c),i.display&&e.ticks.length){var l=e._getLabelSizes(),f=l.first,h=l.last,d=l.widest,p=l.highest,v=2*i.padding,g=toRadians(e.labelRotation),_=Math.cos(g),m=Math.sin(g);if(u){var y=i.mirror?0:m*d.width+_*p.height;t.height=Math.min(e.maxHeight,t.height+y+v)}else{var b=i.mirror?0:_*d.width+m*p.height;t.width=Math.min(e.maxWidth,t.width+b+v)}e._calculatePadding(f,h,m,_)}}e._handleMargins(),u?(e.width=e._length=n.width-e._margins.left-e._margins.right,e.height=t.height):(e.width=t.width,e.height=e._length=n.height-e._margins.top-e._margins.bottom)},n._calculatePadding=function(e,t,n,r){var i=this,o=i.options,a=o.ticks,s=a.align,u=a.padding,c=o.position,l=0!==i.labelRotation,f="top"!==c&&"x"===i.axis;if(i.isHorizontal()){var h=i.getPixelForTick(0)-i.left,d=i.right-i.getPixelForTick(i.ticks.length-1),p=0,v=0;l?f?(p=r*e.width,v=n*t.height):(p=n*e.height,v=r*t.width):"start"===s?v=t.width:"end"===s?p=e.width:(p=e.width/2,v=t.width/2),i.paddingLeft=Math.max((p-h+u)*i.width/(i.width-h),0),i.paddingRight=Math.max((v-d+u)*i.width/(i.width-d),0)}else{var g=t.height/2,_=e.height/2;"start"===s?(g=0,_=e.height):"end"===s&&(g=t.height,_=0),i.paddingTop=g+u,i.paddingBottom=_+u}},n._handleMargins=function(){var e=this;e._margins&&(e._margins.left=Math.max(e.paddingLeft,e._margins.left),e._margins.top=Math.max(e.paddingTop,e._margins.top),e._margins.right=Math.max(e.paddingRight,e._margins.right),e._margins.bottom=Math.max(e.paddingBottom,e._margins.bottom))},n.afterFit=function(){callback(this.options.afterFit,[this])},n.isHorizontal=function(){var e=this.options,t=e.axis,n=e.position;return"top"===n||"bottom"===n||"x"===t},n.isFullSize=function(){return this.options.fullSize},n._convertTicksToLabels=function(e){var t,n,r=this;for(r.beforeTickToLabelConversion(),r.generateTickLabels(e),t=0,n=e.length;t<n;t++)isNullOrUndef(e[t].label)&&(e.splice(t,1),n--,t--);r.afterTickToLabelConversion()},n._getLabelSizes=function(){var e=this,t=e._labelSizes;if(!t){var n=e.options.ticks.sampleSize,r=e.ticks;n<r.length&&(r=sample(r,n)),e._labelSizes=t=e._computeLabelSizes(r,r.length)}return t},n._computeLabelSizes=function(e,t){var n,r,i,o,a,s,u,c,l,f,h,d=this.ctx,p=this._longestTextCache,v=[],g=[],_=0,m=0;for(n=0;n<t;++n){if(o=e[n].label,a=this._resolveTickFontOptions(n),d.font=s=a.string,u=p[s]=p[s]||{data:{},gc:[]},c=a.lineHeight,l=f=0,isNullOrUndef(o)||isArray$2(o)){if(isArray$2(o))for(r=0,i=o.length;r<i;++r)isNullOrUndef(h=o[r])||isArray$2(h)||(l=_measureText(d,u.data,u.gc,l,h),f+=c)}else l=_measureText(d,u.data,u.gc,l,o),f=c;v.push(l),g.push(f),_=Math.max(l,_),m=Math.max(f,m)}garbageCollect(p,t);var y=v.indexOf(_),b=g.indexOf(m),E=function(e){return{width:v[e]||0,height:g[e]||0}};return{first:E(0),last:E(t-1),widest:E(y),highest:E(b),widths:v,heights:g}},n.getLabelForValue=function(e){return e},n.getPixelForValue=function(e,t){return NaN},n.getValueForPixel=function(e){},n.getPixelForTick=function(e){var t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)},n.getPixelForDecimal=function(e){var t=this;t._reversePixels&&(e=1-e);var n=t._startPixel+e*t._length;return _int16Range(t._alignToPixels?_alignPixel(t.chart,n,0):n)},n.getDecimalForPixel=function(e){var t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t},n.getBasePixel=function(){return this.getPixelForValue(this.getBaseValue())},n.getBaseValue=function(){var e=this.min,t=this.max;return e<0&&t<0?t:e>0&&t>0?e:0},n.getContext=function(e){var t=this,n=t.ticks||[];if(e>=0&&e<n.length){var r=n[e];return r.$context||(r.$context=createTickContext(t.getContext(),e,r))}return t.$context||(t.$context=createScaleContext(t.chart.getContext(),t))},n._tickSize=function(){var e=this,t=e.options.ticks,n=toRadians(e.labelRotation),r=Math.abs(Math.cos(n)),i=Math.abs(Math.sin(n)),o=e._getLabelSizes(),a=t.autoSkipPadding||0,s=o?o.widest.width+a:0,u=o?o.highest.height+a:0;return e.isHorizontal()?u*r>s*i?s/r:u/i:u*i<s*r?u/r:s/i},n._isVisible=function(){var e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0},n._computeGridLineItems=function(e){var t,n,r,i,o,a,s,u,c,l,f,h,d=this,p=d.axis,v=d.chart,g=d.options,_=g.grid,m=g.position,y=_.offset,b=d.isHorizontal(),E=d.ticks.length+(y?1:0),C=getTickMarkLength(_),S=[],w=_.setContext(d.getContext()),x=w.drawBorder?w.borderWidth:0,T=x/2,R=function(e){return _alignPixel(v,e,x)};if("top"===m)t=R(d.bottom),a=d.bottom-C,u=t-T,l=R(e.top)+T,h=e.bottom;else if("bottom"===m)t=R(d.top),l=e.top,h=R(e.bottom)-T,a=t+T,u=d.top+C;else if("left"===m)t=R(d.right),o=d.right-C,s=t-T,c=R(e.left)+T,f=e.right;else if("right"===m)t=R(d.left),c=e.left,f=R(e.right)-T,o=t+T,s=d.left+C;else if("x"===p){if("center"===m)t=R((e.top+e.bottom)/2+.5);else if(isObject$4(m)){var P=Object.keys(m)[0],A=m[P];t=R(d.chart.scales[P].getPixelForValue(A))}l=e.top,h=e.bottom,u=(a=t+T)+C}else if("y"===p){if("center"===m)t=R((e.left+e.right)/2);else if(isObject$4(m)){var I=Object.keys(m)[0],O=m[I];t=R(d.chart.scales[I].getPixelForValue(O))}s=(o=t-T)-C,c=e.left,f=e.right}var N=valueOrDefault(g.ticks.maxTicksLimit,E),k=Math.max(1,Math.ceil(E/N));for(n=0;n<E;n+=k){var M=_.setContext(d.getContext(n)),L=M.lineWidth,F=M.color,D=_.borderDash||[],$=M.borderDashOffset,j=M.tickWidth,B=M.tickColor,V=M.tickBorderDash||[],H=M.tickBorderDashOffset;void 0!==(r=getPixelForGridLine(d,n,y))&&(i=_alignPixel(v,r,L),b?o=s=c=f=i:a=u=l=h=i,S.push({tx1:o,ty1:a,tx2:s,ty2:u,x1:c,y1:l,x2:f,y2:h,width:L,color:F,borderDash:D,borderDashOffset:$,tickWidth:j,tickColor:B,tickBorderDash:V,tickBorderDashOffset:H}))}return d._ticksLength=E,d._borderValue=t,S},n._computeLabelItems=function(e){var t,n,r,i,o,a,s,u,c,l,f,h=this,d=h.axis,p=h.options,v=p.position,g=p.ticks,_=h.isHorizontal(),m=h.ticks,y=g.align,b=g.crossAlign,E=g.padding,C=g.mirror,S=getTickMarkLength(p.grid),w=S+E,x=C?-E:w,T=-toRadians(h.labelRotation),R=[],P="middle";if("top"===v)o=h.bottom-x,a=h._getXAxisLabelAlignment();else if("bottom"===v)o=h.top+x,a=h._getXAxisLabelAlignment();else if("left"===v){var A=h._getYAxisLabelAlignment(S);a=A.textAlign,i=A.x}else if("right"===v){var I=h._getYAxisLabelAlignment(S);a=I.textAlign,i=I.x}else if("x"===d){if("center"===v)o=(e.top+e.bottom)/2+w;else if(isObject$4(v)){var O=Object.keys(v)[0],N=v[O];o=h.chart.scales[O].getPixelForValue(N)+w}a=h._getXAxisLabelAlignment()}else if("y"===d){if("center"===v)i=(e.left+e.right)/2-w;else if(isObject$4(v)){var k=Object.keys(v)[0],M=v[k];i=h.chart.scales[k].getPixelForValue(M)}a=h._getYAxisLabelAlignment(S).textAlign}"y"===d&&("start"===y?P="top":"end"===y&&(P="bottom"));var L=h._getLabelSizes();for(t=0,n=m.length;t<n;++t){r=m[t].label;var F=g.setContext(h.getContext(t));s=h.getPixelForTick(t)+g.labelOffset,c=(u=h._resolveTickFontOptions(t)).lineHeight;var D=(l=isArray$2(r)?r.length:1)/2,$=F.color,j=F.textStrokeColor,B=F.textStrokeWidth;_?(i=s,f="top"===v?"near"===b||0!==T?-l*c+c/2:"center"===b?-L.highest.height/2-D*c+c:-L.highest.height+c/2:"near"===b||0!==T?c/2:"center"===b?L.highest.height/2-D*c:L.highest.height-l*c,C&&(f*=-1)):(o=s,f=(1-l)*c/2);var V=void 0;if(F.showLabelBackdrop){var H=toPadding(F.backdropPadding),U=L.heights[t],W=L.widths[t],G=o+f-H.top,z=i-H.left;switch(P){case"middle":G-=U/2;break;case"bottom":G-=U}switch(a){case"center":z-=W/2;break;case"right":z-=W}V={left:z,top:G,width:W+H.width,height:U+H.height,color:F.backdropColor}}R.push({rotation:T,label:r,font:u,color:$,strokeColor:j,strokeWidth:B,textOffset:f,textAlign:a,textBaseline:P,translation:[i,o],backdrop:V})}return R},n._getXAxisLabelAlignment=function(){var e=this.options,t=e.position,n=e.ticks;if(-toRadians(this.labelRotation))return"top"===t?"left":"right";var r="center";return"start"===n.align?r="left":"end"===n.align&&(r="right"),r},n._getYAxisLabelAlignment=function(e){var t,n,r=this,i=r.options,o=i.position,a=i.ticks,s=a.crossAlign,u=a.mirror,c=a.padding,l=e+c,f=r._getLabelSizes().widest.width;return"left"===o?u?(t="left",n=r.right+c):(n=r.right-l,"near"===s?t="right":"center"===s?(t="center",n-=f/2):(t="left",n=r.left)):"right"===o?u?(t="right",n=r.left+c):(n=r.left+l,"near"===s?t="left":"center"===s?(t="center",n+=f/2):(t="right",n=r.right)):t="right",{textAlign:t,x:n}},n._computeLabelArea=function(){var e=this;if(!e.options.ticks.mirror){var t=e.chart,n=e.options.position;return"left"===n||"right"===n?{top:0,left:e.left,bottom:t.height,right:e.right}:"top"===n||"bottom"===n?{top:e.top,left:0,bottom:e.bottom,right:t.width}:void 0}},n.drawBackground=function(){var e=this.ctx,t=this.options.backgroundColor,n=this.left,r=this.top,i=this.width,o=this.height;t&&(e.save(),e.fillStyle=t,e.fillRect(n,r,i,o),e.restore())},n.getLineWidthForValue=function(e){var t=this,n=t.options.grid;if(!t._isVisible()||!n.display)return 0;var r=t.ticks.findIndex((function(t){return t.value===e}));return r>=0?n.setContext(t.getContext(r)).lineWidth:0},n.drawGrid=function(e){var t,n,r=this,i=r.options.grid,o=r.ctx,a=r._gridLineItems||(r._gridLineItems=r._computeGridLineItems(e)),s=function(e,t,n){n.width&&n.color&&(o.save(),o.lineWidth=n.width,o.strokeStyle=n.color,o.setLineDash(n.borderDash||[]),o.lineDashOffset=n.borderDashOffset,o.beginPath(),o.moveTo(e.x,e.y),o.lineTo(t.x,t.y),o.stroke(),o.restore())};if(i.display)for(t=0,n=a.length;t<n;++t){var u=a[t];i.drawOnChartArea&&s({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),i.drawTicks&&s({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}},n.drawBorder=function(){var e=this,t=e.chart,n=e.ctx,r=e.options.grid,i=r.setContext(e.getContext()),o=r.drawBorder?i.borderWidth:0;if(o){var a,s,u,c,l=r.setContext(e.getContext(0)).lineWidth,f=e._borderValue;e.isHorizontal()?(a=_alignPixel(t,e.left,o)-o/2,s=_alignPixel(t,e.right,l)+l/2,u=c=f):(u=_alignPixel(t,e.top,o)-o/2,c=_alignPixel(t,e.bottom,l)+l/2,a=s=f),n.save(),n.lineWidth=i.borderWidth,n.strokeStyle=i.borderColor,n.beginPath(),n.moveTo(a,u),n.lineTo(s,c),n.stroke(),n.restore()}},n.drawLabels=function(e){var t=this;if(t.options.ticks.display){var n=t.ctx,r=t._computeLabelArea();r&&clipArea(n,r);var i,o,a=t._labelItems||(t._labelItems=t._computeLabelItems(e));for(i=0,o=a.length;i<o;++i){var s=a[i],u=s.font,c=s.label;s.backdrop&&(n.fillStyle=s.backdrop.color,n.fillRect(s.backdrop.left,s.backdrop.top,s.backdrop.width,s.backdrop.height)),renderText(n,c,0,s.textOffset,u,s)}r&&unclipArea(n)}},n.drawTitle=function(){var e=this.ctx,t=this.options,n=t.position,r=t.title,i=t.reverse;if(r.display){var o=toFont(r.font),a=toPadding(r.padding),s=r.align,u=o.lineHeight/2;"bottom"===n||"center"===n||isObject$4(n)?(u+=a.bottom,isArray$2(r.text)&&(u+=o.lineHeight*(r.text.length-1))):u+=a.top;var c=titleArgs(this,u,n,s),l=c.titleX,f=c.titleY,h=c.maxWidth,d=c.rotation;renderText(e,r.text,0,0,o,{color:r.color,maxWidth:h,rotation:d,textAlign:titleAlign(s,n,i),textBaseline:"middle",translation:[l,f]})}},n.draw=function(e){var t=this;t._isVisible()&&(t.drawBackground(),t.drawGrid(e),t.drawBorder(),t.drawTitle(),t.drawLabels(e))},n._layers=function(){var e=this,n=e.options,r=n.ticks&&n.ticks.z||0,i=valueOrDefault(n.grid&&n.grid.z,-1);return e._isVisible()&&e.draw===t.prototype.draw?[{z:i,draw:function(t){e.drawBackground(),e.drawGrid(t),e.drawTitle()}},{z:i+1,draw:function(){e.drawBorder()}},{z:r,draw:function(t){e.drawLabels(t)}}]:[{z:r,draw:function(t){e.draw(t)}}]},n.getMatchingVisibleMetas=function(e){var t,n,r=this,i=r.chart.getSortedVisibleDatasetMetas(),o=r.axis+"AxisID",a=[];for(t=0,n=i.length;t<n;++t){var s=i[t];s[o]!==r.id||e&&s.type!==e||a.push(s)}return a},n._resolveTickFontOptions=function(e){return toFont(this.options.ticks.setContext(this.getContext(e)).font)},n._maxDigits=function(){var e=this,t=e._resolveTickFontOptions(0).lineHeight;return(e.isHorizontal()?e.width:e.height)/t},t}(Element$1),TypedRegistry=function(){function e(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}var t=e.prototype;return t.isForType=function(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)},t.register=function(e){var t,n=this,r=Object.getPrototypeOf(e);isIChartComponent(r)&&(t=n.register(r));var i=n.items,o=e.id,a=n.scope+"."+o;if(!o)throw new Error("class does not have id: "+e);return o in i||(i[o]=e,registerDefaults(e,a,t),n.override&&defaults$1.override(e.id,e.overrides)),a},t.get=function(e){return this.items[e]},t.unregister=function(e){var t=this.items,n=e.id,r=this.scope;n in t&&delete t[n],r&&n in defaults$1[r]&&(delete defaults$1[r][n],this.override&&delete overrides[n])},e}();function registerDefaults(e,t,n){var r=merge$2(Object.create(null),[n?defaults$1.get(n):{},defaults$1.get(t),e.defaults]);defaults$1.set(t,r),e.defaultRoutes&&routeDefaults(t,e.defaultRoutes),e.descriptors&&defaults$1.describe(t,e.descriptors)}function routeDefaults(e,t){Object.keys(t).forEach((function(n){var r=n.split("."),i=r.pop(),o=[e].concat(r).join("."),a=t[n].split("."),s=a.pop(),u=a.join(".");defaults$1.route(o,i,u,s)}))}function isIChartComponent(e){return"id"in e&&"defaults"in e}var Registry=function(){function e(){this.controllers=new TypedRegistry(DatasetController,"datasets",!0),this.elements=new TypedRegistry(Element$1,"elements"),this.plugins=new TypedRegistry(Object,"plugins"),this.scales=new TypedRegistry(Scale,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}var t=e.prototype;return t.add=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t)},t.remove=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t)},t.addControllers=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.controllers)},t.addElements=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.elements)},t.addPlugins=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.plugins)},t.addScales=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.scales)},t.getController=function(e){return this._get(e,this.controllers,"controller")},t.getElement=function(e){return this._get(e,this.elements,"element")},t.getPlugin=function(e){return this._get(e,this.plugins,"plugin")},t.getScale=function(e){return this._get(e,this.scales,"scale")},t.removeControllers=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.controllers)},t.removeElements=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.elements)},t.removePlugins=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.plugins)},t.removeScales=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.scales)},t._each=function(e,t,n){var r=this;[].concat(t).forEach((function(t){var i=n||r._getRegistryForType(t);n||i.isForType(t)||i===r.plugins&&t.id?r._exec(e,i,t):each$9(t,(function(t){var i=n||r._getRegistryForType(t);r._exec(e,i,t)}))}))},t._exec=function(e,t,n){var r=_capitalize(e);callback(n["before"+r],[],n),t[e](n),callback(n["after"+r],[],n)},t._getRegistryForType=function(e){for(var t=0;t<this._typedRegistries.length;t++){var n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins},t._get=function(e,t,n){var r=t.get(e);if(void 0===r)throw new Error('"'+e+'" is not a registered '+n+".");return r},e}(),registry=new Registry,PluginService=function(){function e(){this._init=[]}var t=e.prototype;return t.notify=function(e,t,n,r){var i=this;"beforeInit"===t&&(i._init=i._createDescriptors(e,!0),i._notify(i._init,e,"install"));var o=r?i._descriptors(e).filter(r):i._descriptors(e),a=i._notify(o,e,t,n);return"destroy"===t&&(i._notify(o,e,"stop"),i._notify(i._init,e,"uninstall")),a},t._notify=function(e,t,n,r){r=r||{};for(var i,o=_createForOfIteratorHelperLoose(e);!(i=o()).done;){var a=i.value,s=a.plugin;if(!1===callback(s[n],[t,r,a.options],s)&&r.cancelable)return!1}return!0},t.invalidate=function(){isNullOrUndef(this._cache)||(this._oldCache=this._cache,this._cache=void 0)},t._descriptors=function(e){if(this._cache)return this._cache;var t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t},t._createDescriptors=function(e,t){var n=e&&e.config,r=valueOrDefault(n.options&&n.options.plugins,{}),i=allPlugins(n);return!1!==r||t?createDescriptors(e,i,r,t):[]},t._notifyStateChanges=function(e){var t=this._oldCache||[],n=this._cache,r=function(e,t){return e.filter((function(e){return!t.some((function(t){return e.plugin.id===t.plugin.id}))}))};this._notify(r(t,n),e,"stop"),this._notify(r(n,t),e,"start")},e}();function allPlugins(e){for(var t=[],n=Object.keys(registry.plugins.items),r=0;r<n.length;r++)t.push(registry.getPlugin(n[r]));for(var i=e.plugins||[],o=0;o<i.length;o++){var a=i[o];-1===t.indexOf(a)&&t.push(a)}return t}function getOpts(e,t){return t||!1!==e?!0===e?{}:e:null}function createDescriptors(e,t,n,r){for(var i=[],o=e.getContext(),a=0;a<t.length;a++){var s=t[a],u=getOpts(n[s.id],r);null!==u&&i.push({plugin:s,options:pluginOpts(e.config,s,u,o)})}return i}function pluginOpts(e,t,n,r){var i=e.pluginScopeKeys(t),o=e.getOptionScopes(n,i);return e.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function getIndexAxis(e,t){var n=defaults$1.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function getAxisFromDefaultScaleID(e,t){var n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}function getDefaultScaleIDFromAxis(e,t){return e===t?"_index_":"_value_"}function axisFromPosition(e){return"top"===e||"bottom"===e?"x":"left"===e||"right"===e?"y":void 0}function determineAxis(e,t){return"x"===e||"y"===e?e:t.axis||axisFromPosition(t.position)||e.charAt(0).toLowerCase()}function mergeScaleConfig(e,t){var n=overrides[e.type]||{scales:{}},r=t.scales||{},i=getIndexAxis(e.type,t),o=Object.create(null),a=Object.create(null);return Object.keys(r).forEach((function(e){var t=r[e],s=determineAxis(e,t),u=getDefaultScaleIDFromAxis(s,i),c=n.scales||{};o[s]=o[s]||e,a[e]=mergeIf(Object.create(null),[{axis:s},t,c[s],c[u]])})),e.data.datasets.forEach((function(n){var i=n.type||e.type,s=n.indexAxis||getIndexAxis(i,t),u=(overrides[i]||{}).scales||{};Object.keys(u).forEach((function(e){var t=getAxisFromDefaultScaleID(e,s),i=n[t+"AxisID"]||o[t]||t;a[i]=a[i]||Object.create(null),mergeIf(a[i],[{axis:t},r[i],u[e]])}))})),Object.keys(a).forEach((function(e){var t=a[e];mergeIf(t,[defaults$1.scales[t.type],defaults$1.scale])})),a}function initOptions(e){var t=e.options||(e.options={});t.plugins=valueOrDefault(t.plugins,{}),t.scales=mergeScaleConfig(e,t)}function initData(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}function initConfig(e){return(e=e||{}).data=initData(e.data),initOptions(e),e}var keyCache=new Map,keysCached=new Set;function cachedKeys(e,t){var n=keyCache.get(e);return n||(n=t(),keyCache.set(e,n),keysCached.add(n)),n}var addIfFound=function(e,t,n){var r=resolveObjectKey(t,n);void 0!==r&&e.add(r)},Config=function(){function e(e){this._config=initConfig(e),this._scopeCache=new Map,this._resolverCache=new Map}var t=e.prototype;return t.update=function(){var e=this._config;this.clearCache(),initOptions(e)},t.clearCache=function(){this._scopeCache.clear(),this._resolverCache.clear()},t.datasetScopeKeys=function(e){return cachedKeys(e,(function(){return[["datasets."+e,""]]}))},t.datasetAnimationScopeKeys=function(e,t){return cachedKeys(e+".transition."+t,(function(){return[["datasets."+e+".transitions."+t,"transitions."+t],["datasets."+e,""]]}))},t.datasetElementScopeKeys=function(e,t){return cachedKeys(e+"-"+t,(function(){return[["datasets."+e+".elements."+t,"datasets."+e,"elements."+t,""]]}))},t.pluginScopeKeys=function(e){var t=e.id;return cachedKeys(this.type+"-plugin-"+t,(function(){return[["plugins."+t].concat(e.additionalOptionScopes||[])]}))},t._cachedScopes=function(e,t){var n=this._scopeCache,r=n.get(e);return r&&!t||(r=new Map,n.set(e,r)),r},t.getOptionScopes=function(e,t,n){var r=this.options,i=this.type,o=this._cachedScopes(e,n),a=o.get(t);if(a)return a;var s=new Set;t.forEach((function(t){e&&(s.add(e),t.forEach((function(t){return addIfFound(s,e,t)}))),t.forEach((function(e){return addIfFound(s,r,e)})),t.forEach((function(e){return addIfFound(s,overrides[i]||{},e)})),t.forEach((function(e){return addIfFound(s,defaults$1,e)})),t.forEach((function(e){return addIfFound(s,descriptors,e)}))}));var u=Array.from(s);return 0===u.length&&u.push(Object.create(null)),keysCached.has(t)&&o.set(t,u),u},t.chartOptionScopes=function(){var e=this.options,t=this.type;return[e,overrides[t]||{},defaults$1.datasets[t]||{},{type:t},defaults$1,descriptors]},t.resolveNamedOptions=function(e,t,n,r){void 0===r&&(r=[""]);var i={$shared:!0},o=getResolver(this._resolverCache,e,r),a=o.resolver,s=o.subPrefixes,u=a;needContext(a,t)&&(i.$shared=!1,u=_attachContext(a,n=isFunction$4(n)?n():n,this.createResolver(e,n,s)));for(var c,l=_createForOfIteratorHelperLoose(t);!(c=l()).done;){var f=c.value;i[f]=u[f]}return i},t.createResolver=function(e,t,n,r){void 0===n&&(n=[""]);var i=getResolver(this._resolverCache,e,n).resolver;return isObject$4(t)?_attachContext(i,t,void 0,r):i},_createClass2(e,[{key:"platform",get:function(){return this._config.platform}},{key:"type",get:function(){return this._config.type},set:function(e){this._config.type=e}},{key:"data",get:function(){return this._config.data},set:function(e){this._config.data=initData(e)}},{key:"options",get:function(){return this._config.options},set:function(e){this._config.options=e}},{key:"plugins",get:function(){return this._config.plugins}}]),e}();function getResolver(e,t,n){var r=e.get(t);r||(r=new Map,e.set(t,r));var i=n.join(),o=r.get(i);o||(o={resolver:_createResolver(t,n),subPrefixes:n.filter((function(e){return!e.toLowerCase().includes("hover")}))},r.set(i,o));return o}function needContext(e,t){for(var n,r=_descriptors(e),i=r.isScriptable,o=r.isIndexable,a=_createForOfIteratorHelperLoose(t);!(n=a()).done;){var s=n.value;if(i(s)&&isFunction$4(e[s])||o(s)&&isArray$2(e[s]))return!0}return!1}var version$5="3.5.0",KNOWN_POSITIONS=["top","bottom","left","right","chartArea"];function positionIsHorizontal(e,t){return"top"===e||"bottom"===e||-1===KNOWN_POSITIONS.indexOf(e)&&"x"===t}function compare2Level(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function onAnimationsComplete(e){var t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),callback(n&&n.onComplete,[e],t)}function onAnimationProgress(e){var t=e.chart,n=t.options.animation;callback(n&&n.onProgress,[e],t)}function getCanvas(e){return _isDomSupported()&&"string"==typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}var instances={},getChart=function(e){var t=getCanvas(e);return Object.values(instances).filter((function(e){return e.canvas===t})).pop()},Chart=function(){function e(e,t){var n=this,r=this,i=this.config=new Config(t),o=getCanvas(e),a=getChart(o);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas can be reused.");var s=i.createResolver(i.chartOptionScopes(),r.getContext());this.platform=new(i.platform||_detectPlatform(o));var u=r.platform.acquireContext(o,s.aspectRatio),c=u&&u.canvas,l=c&&c.height,f=c&&c.width;this.id=uid$2(),this.ctx=u,this.canvas=c,this.width=f,this.height=l,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this.scale=void 0,this._plugins=new PluginService,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=debounce((function(){return n.update("resize")}),s.resizeDelay||0),instances[r.id]=r,u&&c?(animator.listen(r,"complete",onAnimationsComplete),animator.listen(r,"progress",onAnimationProgress),r._initialize(),r.attached&&r.update()):console.error("Failed to create chart: can't acquire context from the given item")}var t=e.prototype;return t._initialize=function(){var e=this;return e.notifyPlugins("beforeInit"),e.options.responsive?e.resize():retinaScale(e,e.options.devicePixelRatio),e.bindEvents(),e.notifyPlugins("afterInit"),e},t.clear=function(){return clearCanvas(this.canvas,this.ctx),this},t.stop=function(){return animator.stop(this),this},t.resize=function(e,t){animator.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)},t._resize=function(e,t){var n=this,r=n.options,i=n.canvas,o=r.maintainAspectRatio&&n.aspectRatio,a=n.platform.getMaximumSize(i,e,t,o),s=r.devicePixelRatio||n.platform.getDevicePixelRatio();n.width=a.width,n.height=a.height,n._aspectRatio=n.aspectRatio,retinaScale(n,s,!0)&&(n.notifyPlugins("resize",{size:a}),callback(r.onResize,[n,a],n),n.attached&&n._doResize()&&n.render())},t.ensureScalesHaveIDs=function(){each$9(this.options.scales||{},(function(e,t){e.id=t}))},t.buildOrUpdateScales=function(){var e=this,t=e.options,n=t.scales,r=e.scales,i=Object.keys(r).reduce((function(e,t){return e[t]=!1,e}),{}),o=[];n&&(o=o.concat(Object.keys(n).map((function(e){var t=n[e],r=determineAxis(e,t),i="r"===r,o="x"===r;return{options:t,dposition:i?"chartArea":o?"bottom":"left",dtype:i?"radialLinear":o?"category":"linear"}})))),each$9(o,(function(n){var o=n.options,a=o.id,s=determineAxis(a,o),u=valueOrDefault(o.type,n.dtype);void 0!==o.position&&positionIsHorizontal(o.position,s)===positionIsHorizontal(n.dposition)||(o.position=n.dposition),i[a]=!0;var c=null;a in r&&r[a].type===u?c=r[a]:(c=new(registry.getScale(u))({id:a,type:u,ctx:e.ctx,chart:e}),r[c.id]=c);c.init(o,t)})),each$9(i,(function(e,t){e||delete r[t]})),each$9(r,(function(t){layouts.configure(e,t,t.options),layouts.addBox(e,t)}))},t._updateMetasets=function(){var e=this,t=e._metasets,n=e.data.datasets.length,r=t.length;if(t.sort((function(e,t){return e.index-t.index})),r>n){for(var i=n;i<r;++i)e._destroyDatasetMeta(i);t.splice(n,r-n)}e._sortedMetasets=t.slice(0).sort(compare2Level("order","index"))},t._removeUnreferencedMetasets=function(){var e=this,t=e._metasets,n=e.data.datasets;t.length>n.length&&delete e._stacks,t.forEach((function(t,r){0===n.filter((function(e){return e===t._dataset})).length&&e._destroyDatasetMeta(r)}))},t.buildOrUpdateControllers=function(){var e,t,n=this,r=[],i=n.data.datasets;for(n._removeUnreferencedMetasets(),e=0,t=i.length;e<t;e++){var o=i[e],a=n.getDatasetMeta(e),s=o.type||n.config.type;if(a.type&&a.type!==s&&(n._destroyDatasetMeta(e),a=n.getDatasetMeta(e)),a.type=s,a.indexAxis=o.indexAxis||getIndexAxis(s,n.options),a.order=o.order||0,a.index=e,a.label=""+o.label,a.visible=n.isDatasetVisible(e),a.controller)a.controller.updateIndex(e),a.controller.linkScales();else{var u=registry.getController(s),c=defaults$1.datasets[s],l=c.datasetElementType,f=c.dataElementType;Object.assign(u.prototype,{dataElementType:registry.getElement(f),datasetElementType:l&&registry.getElement(l)}),a.controller=new u(n,e),r.push(a.controller)}}return n._updateMetasets(),r},t._resetElements=function(){var e=this;each$9(e.data.datasets,(function(t,n){e.getDatasetMeta(n).controller.reset()}),e)},t.reset=function(){this._resetElements(),this.notifyPlugins("reset")},t.update=function(e){var t=this,n=t.config;n.update(),t._options=n.createResolver(n.chartOptionScopes(),t.getContext()),each$9(t.scales,(function(e){layouts.removeBox(t,e)}));var r=t._animationsDisabled=!t.options.animation;t.ensureScalesHaveIDs(),t.buildOrUpdateScales();var i=new Set(Object.keys(t._listeners)),o=new Set(t.options.events);if(setsEqual(i,o)&&!!this._responsiveListeners===t.options.responsive||(t.unbindEvents(),t.bindEvents()),t._plugins.invalidate(),!1!==t.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})){var a=t.buildOrUpdateControllers();t.notifyPlugins("beforeElementsUpdate");for(var s=0,u=0,c=t.data.datasets.length;u<c;u++){var l=t.getDatasetMeta(u).controller,f=!r&&-1===a.indexOf(l);l.buildOrUpdateElements(f),s=Math.max(+l.getMaxOverflow(),s)}t._minPadding=s,t._updateLayout(s),r||each$9(a,(function(e){e.reset()})),t._updateDatasets(e),t.notifyPlugins("afterUpdate",{mode:e}),t._layers.sort(compare2Level("z","_idx")),t._lastEvent&&t._eventHandler(t._lastEvent,!0),t.render()}},t._updateLayout=function(e){var t=this;if(!1!==t.notifyPlugins("beforeLayout",{cancelable:!0})){layouts.update(t,t.width,t.height,e);var n=t.chartArea,r=n.width<=0||n.height<=0;t._layers=[],each$9(t.boxes,(function(e){var n;r&&"chartArea"===e.position||(e.configure&&e.configure(),(n=t._layers).push.apply(n,e._layers()))}),t),t._layers.forEach((function(e,t){e._idx=t})),t.notifyPlugins("afterLayout")}},t._updateDatasets=function(e){var t=this,n="function"==typeof e;if(!1!==t.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(var r=0,i=t.data.datasets.length;r<i;++r)t._updateDataset(r,n?e({datasetIndex:r}):e);t.notifyPlugins("afterDatasetsUpdate",{mode:e})}},t._updateDataset=function(e,t){var n=this,r=n.getDatasetMeta(e),i={meta:r,index:e,mode:t,cancelable:!0};!1!==n.notifyPlugins("beforeDatasetUpdate",i)&&(r.controller._update(t),i.cancelable=!1,n.notifyPlugins("afterDatasetUpdate",i))},t.render=function(){var e=this;!1!==e.notifyPlugins("beforeRender",{cancelable:!0})&&(animator.has(e)?e.attached&&!animator.running(e)&&animator.start(e):(e.draw(),onAnimationsComplete({chart:e})))},t.draw=function(){var e,t=this;if(t._resizeBeforeDraw){var n=t._resizeBeforeDraw,r=n.width,i=n.height;t._resize(r,i),t._resizeBeforeDraw=null}if(t.clear(),!(t.width<=0||t.height<=0)&&!1!==t.notifyPlugins("beforeDraw",{cancelable:!0})){var o=t._layers;for(e=0;e<o.length&&o[e].z<=0;++e)o[e].draw(t.chartArea);for(t._drawDatasets();e<o.length;++e)o[e].draw(t.chartArea);t.notifyPlugins("afterDraw")}},t._getSortedDatasetMetas=function(e){var t,n,r=this._sortedMetasets,i=[];for(t=0,n=r.length;t<n;++t){var o=r[t];e&&!o.visible||i.push(o)}return i},t.getSortedVisibleDatasetMetas=function(){return this._getSortedDatasetMetas(!0)},t._drawDatasets=function(){var e=this;if(!1!==e.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})){for(var t=e.getSortedVisibleDatasetMetas(),n=t.length-1;n>=0;--n)e._drawDataset(t[n]);e.notifyPlugins("afterDatasetsDraw")}},t._drawDataset=function(e){var t=this,n=t.ctx,r=e._clip,i=!r.disabled,o=t.chartArea,a={meta:e,index:e.index,cancelable:!0};!1!==t.notifyPlugins("beforeDatasetDraw",a)&&(i&&clipArea(n,{left:!1===r.left?0:o.left-r.left,right:!1===r.right?t.width:o.right+r.right,top:!1===r.top?0:o.top-r.top,bottom:!1===r.bottom?t.height:o.bottom+r.bottom}),e.controller.draw(),i&&unclipArea(n),a.cancelable=!1,t.notifyPlugins("afterDatasetDraw",a))},t.getElementsAtEventForMode=function(e,t,n,r){var i=Interaction.modes[t];return"function"==typeof i?i(this,e,n,r):[]},t.getDatasetMeta=function(e){var t=this.data.datasets[e],n=this._metasets,r=n.filter((function(e){return e&&e._dataset===t})).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(r)),r},t.getContext=function(){return this.$context||(this.$context={chart:this,type:"chart"})},t.getVisibleDatasetCount=function(){return this.getSortedVisibleDatasetMetas().length},t.isDatasetVisible=function(e){var t=this.data.datasets[e];if(!t)return!1;var n=this.getDatasetMeta(e);return"boolean"==typeof n.hidden?!n.hidden:!t.hidden},t.setDatasetVisibility=function(e,t){this.getDatasetMeta(e).hidden=!t},t.toggleDataVisibility=function(e){this._hiddenIndices[e]=!this._hiddenIndices[e]},t.getDataVisibility=function(e){return!this._hiddenIndices[e]},t._updateVisibility=function(e,t,n){var r=this,i=n?"show":"hide",o=r.getDatasetMeta(e),a=o.controller._resolveAnimations(void 0,i);defined(t)?(o.data[t].hidden=!n,r.update()):(r.setDatasetVisibility(e,n),a.update(o,{visible:n}),r.update((function(t){return t.datasetIndex===e?i:void 0})))},t.hide=function(e,t){this._updateVisibility(e,t,!1)},t.show=function(e,t){this._updateVisibility(e,t,!0)},t._destroyDatasetMeta=function(e){var t=this,n=t._metasets&&t._metasets[e];n&&n.controller&&(n.controller._destroy(),delete t._metasets[e])},t.destroy=function(){var e,t,n=this,r=n.canvas,i=n.ctx;for(n.stop(),animator.remove(n),e=0,t=n.data.datasets.length;e<t;++e)n._destroyDatasetMeta(e);n.config.clearCache(),r&&(n.unbindEvents(),clearCanvas(r,i),n.platform.releaseContext(i),n.canvas=null,n.ctx=null),n.notifyPlugins("destroy"),delete instances[n.id]},t.toBase64Image=function(){var e;return(e=this.canvas).toDataURL.apply(e,arguments)},t.bindEvents=function(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0},t.bindUserEvents=function(){var e=this,t=e._listeners,n=e.platform,r=function(t,n,r){t.offsetX=n,t.offsetY=r,e._eventHandler(t)};each$9(e.options.events,(function(i){return function(r,i){n.addEventListener(e,r,i),t[r]=i}(i,r)}))},t.bindResponsiveEvents=function(){var e=this;e._responsiveListeners||(e._responsiveListeners={});var t,n=e._responsiveListeners,r=e.platform,i=function(t,i){r.addEventListener(e,t,i),n[t]=i},o=function(t,i){n[t]&&(r.removeEventListener(e,t,i),delete n[t])},a=function(t,n){e.canvas&&e.resize(t,n)},s=function n(){o("attach",n),e.attached=!0,e.resize(),i("resize",a),i("detach",t)};t=function(){e.attached=!1,o("resize",a),i("attach",s)},r.isAttached(e.canvas)?s():t()},t.unbindEvents=function(){var e=this;each$9(e._listeners,(function(t,n){e.platform.removeEventListener(e,n,t)})),e._listeners={},each$9(e._responsiveListeners,(function(t,n){e.platform.removeEventListener(e,n,t)})),e._responsiveListeners=void 0},t.updateHoverStyle=function(e,t,n){var r,i,o,a=n?"set":"remove";for("dataset"===t&&this.getDatasetMeta(e[0].datasetIndex).controller["_"+a+"DatasetHoverStyle"](),i=0,o=e.length;i<o;++i){var s=(r=e[i])&&this.getDatasetMeta(r.datasetIndex).controller;s&&s[a+"HoverStyle"](r.element,r.datasetIndex,r.index)}},t.getActiveElements=function(){return this._active||[]},t.setActiveElements=function(e){var t=this,n=t._active||[],r=e.map((function(e){var n=e.datasetIndex,r=e.index,i=t.getDatasetMeta(n);if(!i)throw new Error("No dataset found at index "+n);return{datasetIndex:n,element:i.data[r],index:r}}));!_elementsEqual(r,n)&&(t._active=r,t._updateHoverStyles(r,n))},t.notifyPlugins=function(e,t,n){return this._plugins.notify(this,e,t,n)},t._updateHoverStyles=function(e,t,n){var r=this,i=r.options.hover,o=function(e,t){return e.filter((function(e){return!t.some((function(t){return e.datasetIndex===t.datasetIndex&&e.index===t.index}))}))},a=o(t,e),s=n?e:o(e,t);a.length&&r.updateHoverStyle(a,i.mode,!1),s.length&&i.mode&&r.updateHoverStyle(s,i.mode,!0)},t._eventHandler=function(e,t){var n=this,r=this,i={event:e,replay:t,cancelable:!0},o=function(t){return(t.options.events||n.options.events).includes(e.type)};if(!1!==r.notifyPlugins("beforeEvent",i,o)){var a=r._handleEvent(e,t);return i.cancelable=!1,r.notifyPlugins("afterEvent",i,o),(a||i.changed)&&r.render(),r}},t._handleEvent=function(e,t){var n,r=this,i=r._active,o=void 0===i?[]:i,a=r.options,s=a.hover,u=t,c=[],l=null;return"mouseout"!==e.type&&(c=r.getElementsAtEventForMode(e,s.mode,s,u),l="click"===e.type?r._lastEvent:e),r._lastEvent=null,_isPointInArea(e,r.chartArea,r._minPadding)&&(callback(a.onHover,[e,c,r],r),"mouseup"!==e.type&&"click"!==e.type&&"contextmenu"!==e.type||callback(a.onClick,[e,c,r],r)),((n=!_elementsEqual(c,o))||t)&&(r._active=c,r._updateHoverStyles(c,o,t)),r._lastEvent=l,n},_createClass2(e,[{key:"aspectRatio",get:function(){var e=this.options,t=e.aspectRatio,n=e.maintainAspectRatio,r=this.width,i=this.height,o=this._aspectRatio;return isNullOrUndef(t)?n&&o?o:i?r/i:null:t}},{key:"data",get:function(){return this.config.data},set:function(e){this.config.data=e}},{key:"options",get:function(){return this._options},set:function(e){this.config.options=e}}]),e}();exports("R",Chart);var invalidatePlugins=function(){return each$9(Chart.instances,(function(e){return e._plugins.invalidate()}))},enumerable=!0;function clipArc(e,t,n){var r=t.startAngle,i=t.pixelMargin,o=t.x,a=t.y,s=t.outerRadius,u=t.innerRadius,c=i/s;e.beginPath(),e.arc(o,a,s,r-c,n+c),u>i?(c=i/u,e.arc(o,a,u,n+c,r-c,!0)):e.arc(o,a,i,n+HALF_PI,r-HALF_PI),e.closePath(),e.clip()}function toRadiusCorners(e){return _readValueToProps(e,["outerStart","outerEnd","innerStart","innerEnd"])}function parseBorderRadius$1(e,t,n,r){var i=toRadiusCorners(e.options.borderRadius),o=(n-t)/2,a=Math.min(o,r*t/2),s=function(e){var t=(n-Math.min(o,e))*r/2;return _limitValue(e,0,Math.min(o,t))};return{outerStart:s(i.outerStart),outerEnd:s(i.outerEnd),innerStart:_limitValue(i.innerStart,0,a),innerEnd:_limitValue(i.innerEnd,0,a)}}function rThetaToXY(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function pathArc(e,t,n,r,i){var o=t.x,a=t.y,s=t.startAngle,u=t.pixelMargin,c=t.innerRadius,l=Math.max(t.outerRadius+r+n-u,0),f=c>0?c+r+n+u:0,h=0,d=i-s;if(r){var p=((c>0?c-r:0)+(l>0?l-r:0))/2;h=(d-(0!==p?d*p/(p+r):d))/2}var v=(d-Math.max(.001,d*l-n/PI)/l)/2,g=s+v+h,_=i-v-h,m=parseBorderRadius$1(t,f,l,_-g),y=m.outerStart,b=m.outerEnd,E=m.innerStart,C=m.innerEnd,S=l-y,w=l-b,x=g+y/S,T=_-b/w,R=f+E,P=f+C,A=g+E/R,I=_-C/P;if(e.beginPath(),e.arc(o,a,l,x,T),b>0){var O=rThetaToXY(w,T,o,a);e.arc(O.x,O.y,b,T,_+HALF_PI)}var N=rThetaToXY(P,_,o,a);if(e.lineTo(N.x,N.y),C>0){var k=rThetaToXY(P,I,o,a);e.arc(k.x,k.y,C,_+HALF_PI,I+Math.PI)}if(e.arc(o,a,f,_-C/f,g+E/f,!0),E>0){var M=rThetaToXY(R,A,o,a);e.arc(M.x,M.y,E,A+Math.PI,g-HALF_PI)}var L=rThetaToXY(S,g,o,a);if(e.lineTo(L.x,L.y),y>0){var F=rThetaToXY(S,x,o,a);e.arc(F.x,F.y,y,g-HALF_PI,x)}e.closePath()}function drawArc(e,t,n,r){var i=t.fullCircles,o=t.startAngle,a=t.circumference,s=t.endAngle;if(i){pathArc(e,t,n,r,o+TAU);for(var u=0;u<i;++u)e.fill();isNaN(a)||(s=o+a%TAU,a%TAU==0&&(s+=TAU))}return pathArc(e,t,n,r,s),e.fill(),s}function drawFullCircleBorders(e,t,n){var r,i=t.x,o=t.y,a=t.startAngle,s=t.pixelMargin,u=t.fullCircles,c=Math.max(t.outerRadius-s,0),l=t.innerRadius+s;for(n&&clipArc(e,t,a+TAU),e.beginPath(),e.arc(i,o,l,a+TAU,a,!0),r=0;r<u;++r)e.stroke();for(e.beginPath(),e.arc(i,o,c,a,a+TAU),r=0;r<u;++r)e.stroke()}function drawBorder(e,t,n,r,i){var o=t.options,a="inner"===o.borderAlign;o.borderWidth&&(a?(e.lineWidth=2*o.borderWidth,e.lineJoin="round"):(e.lineWidth=o.borderWidth,e.lineJoin="bevel"),t.fullCircles&&drawFullCircleBorders(e,t,a),a&&clipArc(e,t,i),pathArc(e,t,n,r,i),e.stroke())}Object.defineProperties(Chart,{defaults:{enumerable:enumerable,value:defaults$1},instances:{enumerable:enumerable,value:instances},overrides:{enumerable:enumerable,value:overrides},registry:{enumerable:enumerable,value:registry},version:{enumerable:enumerable,value:version$5},getChart:{enumerable:enumerable,value:getChart},register:{enumerable:enumerable,value:function(){registry.add.apply(registry,arguments),invalidatePlugins()}},unregister:{enumerable:enumerable,value:function(){registry.remove.apply(registry,arguments),invalidatePlugins()}}});var ArcElement=function(e){function t(t){var n;return(n=e.call(this)||this).options=void 0,n.circumference=void 0,n.startAngle=void 0,n.endAngle=void 0,n.innerRadius=void 0,n.outerRadius=void 0,n.pixelMargin=0,n.fullCircles=0,t&&Object.assign(_assertThisInitialized(n),t),n}_inheritsLoose(t,e);var n=t.prototype;return n.inRange=function(e,t,n){var r=getAngleFromPoint(this.getProps(["x","y"],n),{x:e,y:t}),i=r.angle,o=r.distance,a=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),s=a.startAngle,u=a.endAngle,c=a.innerRadius,l=a.outerRadius,f=a.circumference,h=this.options.spacing/2;return(f>=TAU||_angleBetween(i,s,u))&&(o>=c+h&&o<=l+h)},n.getCenterPoint=function(e){var t=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],e),n=t.x,r=t.y,i=t.startAngle,o=t.endAngle,a=t.innerRadius,s=t.outerRadius,u=this.options,c=u.offset,l=(i+o)/2,f=(a+s+u.spacing+c)/2;return{x:n+Math.cos(l)*f,y:r+Math.sin(l)*f}},n.tooltipPosition=function(e){return this.getCenterPoint(e)},n.draw=function(e){var t=this,n=t.options,r=t.circumference,i=(n.offset||0)/2,o=(n.spacing||0)/2;if(t.pixelMargin="inner"===n.borderAlign?.33:0,t.fullCircles=r>TAU?Math.floor(r/TAU):0,!(0===r||t.innerRadius<0||t.outerRadius<0)){e.save();var a=0;if(i){a=i/2;var s=(t.startAngle+t.endAngle)/2;e.translate(Math.cos(s)*a,Math.sin(s)*a),t.circumference>=PI&&(a=i)}e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,drawBorder(e,t,a,o,drawArc(e,t,a,o)),e.restore()}},t}(Element$1);function inRange$1(e,t,n,r){var i=e.options,o=e.getProps([n],r)[n];return Math.abs(t-o)<i.radius+i.hitRadius}ArcElement.id="arc",ArcElement.defaults={borderAlign:"center",borderColor:"#fff",borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0},ArcElement.defaultRoutes={backgroundColor:"backgroundColor"};var PointElement=function(e){function t(t){var n;return(n=e.call(this)||this).options=void 0,n.parsed=void 0,n.skip=void 0,n.stop=void 0,t&&Object.assign(_assertThisInitialized(n),t),n}_inheritsLoose(t,e);var n=t.prototype;return n.inRange=function(e,t,n){var r=this.options,i=this.getProps(["x","y"],n),o=i.x,a=i.y;return Math.pow(e-o,2)+Math.pow(t-a,2)<Math.pow(r.hitRadius+r.radius,2)},n.inXRange=function(e,t){return inRange$1(this,e,"x",t)},n.inYRange=function(e,t){return inRange$1(this,e,"y",t)},n.getCenterPoint=function(e){var t=this.getProps(["x","y"],e);return{x:t.x,y:t.y}},n.size=function(e){var t=(e=e||this.options||{}).radius||0;return 2*((t=Math.max(t,t&&e.hoverRadius||0))+(t&&e.borderWidth||0))},n.draw=function(e,t){var n=this,r=n.options;n.skip||r.radius<.1||!_isPointInArea(n,t,n.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,drawPoint(e,r,n.x,n.y))},n.getRange=function(){var e=this.options||{};return e.radius+e.hitRadius},t}(Element$1);function getBarBounds(e,t){var n,r,i,o,a,s=e.getProps(["x","y","base","width","height"],t),u=s.x,c=s.y,l=s.base,f=s.width,h=s.height;return e.horizontal?(a=h/2,n=Math.min(u,l),r=Math.max(u,l),i=c-a,o=c+a):(n=u-(a=f/2),r=u+a,i=Math.min(c,l),o=Math.max(c,l)),{left:n,top:i,right:r,bottom:o}}function skipOrLimit(e,t,n,r){return e?0:_limitValue(t,n,r)}function parseBorderWidth(e,t,n){var r=e.options.borderWidth,i=e.borderSkipped,o=toTRBL(r);return{t:skipOrLimit(i.top,o.top,0,n),r:skipOrLimit(i.right,o.right,0,t),b:skipOrLimit(i.bottom,o.bottom,0,n),l:skipOrLimit(i.left,o.left,0,t)}}function parseBorderRadius(e,t,n){var r=e.getProps(["enableBorderRadius"]).enableBorderRadius,i=e.options.borderRadius,o=toTRBLCorners(i),a=Math.min(t,n),s=e.borderSkipped,u=r||isObject$4(i);return{topLeft:skipOrLimit(!u||s.top||s.left,o.topLeft,0,a),topRight:skipOrLimit(!u||s.top||s.right,o.topRight,0,a),bottomLeft:skipOrLimit(!u||s.bottom||s.left,o.bottomLeft,0,a),bottomRight:skipOrLimit(!u||s.bottom||s.right,o.bottomRight,0,a)}}function boundingRects(e){var t=getBarBounds(e),n=t.right-t.left,r=t.bottom-t.top,i=parseBorderWidth(e,n/2,r/2),o=parseBorderRadius(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:o},inner:{x:t.left+i.l,y:t.top+i.t,w:n-i.l-i.r,h:r-i.t-i.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(i.t,i.l)),topRight:Math.max(0,o.topRight-Math.max(i.t,i.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(i.b,i.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(i.b,i.r))}}}}function _inRange3(e,t,n,r){var i=null===t,o=null===n,a=e&&!(i&&o)&&getBarBounds(e,r);return a&&(i||t>=a.left&&t<=a.right)&&(o||n>=a.top&&n<=a.bottom)}function hasRadius(e){return e.topLeft||e.topRight||e.bottomLeft||e.bottomRight}function addNormalRectPath(e,t){e.rect(t.x,t.y,t.w,t.h)}function inflateRect(e,t,n){void 0===n&&(n={});var r=e.x!==n.x?-t:0,i=e.y!==n.y?-t:0,o=(e.x+e.w!==n.x+n.w?t:0)-r,a=(e.y+e.h!==n.y+n.h?t:0)-i;return{x:e.x+r,y:e.y+i,w:e.w+o,h:e.h+a,radius:e.radius}}PointElement.id="point",PointElement.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},PointElement.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var BarElement=function(e){function t(t){var n;return(n=e.call(this)||this).options=void 0,n.horizontal=void 0,n.base=void 0,n.width=void 0,n.height=void 0,t&&Object.assign(_assertThisInitialized(n),t),n}_inheritsLoose(t,e);var n=t.prototype;return n.draw=function(e){var t=this.options,n=boundingRects(this),r=n.inner,i=n.outer,o=hasRadius(i.radius)?addRoundedRectPath:addNormalRectPath,a=.33;e.save(),i.w===r.w&&i.h===r.h||(e.beginPath(),o(e,inflateRect(i,a,r)),e.clip(),o(e,inflateRect(r,-.33,i)),e.fillStyle=t.borderColor,e.fill("evenodd")),e.beginPath(),o(e,inflateRect(r,a,i)),e.fillStyle=t.backgroundColor,e.fill(),e.restore()},n.inRange=function(e,t,n){return _inRange3(this,e,t,n)},n.inXRange=function(e,t){return _inRange3(this,e,null,t)},n.inYRange=function(e,t){return _inRange3(this,null,e,t)},n.getCenterPoint=function(e){var t=this.getProps(["x","y","base","horizontal"],e),n=t.x,r=t.y,i=t.base,o=t.horizontal;return{x:o?(n+i)/2:n,y:o?r:(r+i)/2}},n.getRange=function(e){return"x"===e?this.width/2:this.height/2},t}(Element$1);exports("W",BarElement),BarElement.id="bar",BarElement.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,enableBorderRadius:!0,pointStyle:void 0},BarElement.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var Title=function(e){function t(t){var n;return(n=e.call(this)||this).chart=t.chart,n.options=t.options,n.ctx=t.ctx,n._padding=void 0,n.top=void 0,n.bottom=void 0,n.left=void 0,n.right=void 0,n.width=void 0,n.height=void 0,n.position=void 0,n.weight=void 0,n.fullSize=void 0,n}_inheritsLoose(t,e);var n=t.prototype;return n.update=function(e,t){var n=this,r=n.options;if(n.left=0,n.top=0,r.display){n.width=n.right=e,n.height=n.bottom=t;var i=isArray$2(r.text)?r.text.length:1;n._padding=toPadding(r.padding);var o=i*toFont(r.font).lineHeight+n._padding.height;n.isHorizontal()?n.height=o:n.width=o}else n.width=n.height=n.right=n.bottom=0},n.isHorizontal=function(){var e=this.options.position;return"top"===e||"bottom"===e},n._drawArgs=function(e){var t,n,r,i=this.top,o=this.left,a=this.bottom,s=this.right,u=this.options,c=u.align,l=0;return this.isHorizontal()?(n=_alignStartEnd(c,o,s),r=i+e,t=s-o):("left"===u.position?(n=o+e,r=_alignStartEnd(c,a,i),l=-.5*PI):(n=s-e,r=_alignStartEnd(c,i,a),l=.5*PI),t=a-i),{titleX:n,titleY:r,maxWidth:t,rotation:l}},n.draw=function(){var e=this,t=e.ctx,n=e.options;if(n.display){var r=toFont(n.font),i=r.lineHeight/2+e._padding.top,o=e._drawArgs(i),a=o.titleX,s=o.titleY,u=o.maxWidth,c=o.rotation;renderText(t,n.text,0,0,r,{color:n.color,maxWidth:u,rotation:c,textAlign:_toLeftRightCenter(n.align),textBaseline:"middle",translation:[a,s]})}},t}(Element$1);function createTitle(e,t){var n=new Title({ctx:e.ctx,options:t,chart:e});layouts.configure(e,n,t),layouts.addBox(e,n),e.titleBlock=n}var plugin_title=exports("Y",{id:"title",_element:Title,start:function(e,t,n){createTitle(e,n)},stop:function(e){var t=e.titleBlock;layouts.removeBox(e,t),delete e.titleBlock},beforeUpdate:function(e,t,n){var r=e.titleBlock;layouts.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}}),addIfString=function(e,t,n){return"string"==typeof t?e.push(t)-1:isNaN(t)?null:n};function findOrAddLabel(e,t,n){var r=e.indexOf(t);return-1===r?addIfString(e,t,n):r!==e.lastIndexOf(t)?n:r}var validIndex=function(e,t){return null===e?null:_limitValue(Math.round(e),0,t)},CategoryScale=function(e){function t(t){var n;return(n=e.call(this,t)||this)._startValue=void 0,n._valueRange=0,n}_inheritsLoose(t,e);var n=t.prototype;return n.parse=function(e,t){if(isNullOrUndef(e))return null;var n=this.getLabels();return t=isFinite(t)&&n[t]===e?t:findOrAddLabel(n,e,valueOrDefault(t,e)),validIndex(t,n.length-1)},n.determineDataLimits=function(){var e=this,t=e.getUserBounds(),n=t.minDefined,r=t.maxDefined,i=e.getMinMax(!0),o=i.min,a=i.max;"ticks"===e.options.bounds&&(n||(o=0),r||(a=e.getLabels().length-1)),e.min=o,e.max=a},n.buildTicks=function(){var e=this,t=e.min,n=e.max,r=e.options.offset,i=[],o=e.getLabels();o=0===t&&n===o.length-1?o:o.slice(t,n+1),e._valueRange=Math.max(o.length-(r?0:1),1),e._startValue=e.min-(r?.5:0);for(var a=t;a<=n;a++)i.push({value:a});return i},n.getLabelForValue=function(e){var t=this.getLabels();return e>=0&&e<t.length?t[e]:e},n.configure=function(){var t=this;e.prototype.configure.call(this),t.isHorizontal()||(t._reversePixels=!t._reversePixels)},n.getPixelForValue=function(e){var t=this;return"number"!=typeof e&&(e=t.parse(e)),null===e?NaN:t.getPixelForDecimal((e-t._startValue)/t._valueRange)},n.getPixelForTick=function(e){var t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)},n.getValueForPixel=function(e){var t=this;return Math.round(t._startValue+t.getDecimalForPixel(e)*t._valueRange)},n.getBasePixel=function(){return this.bottom},t}(Scale);function generateTicks$1(e,t){var n,r,i,o,a=[],s=e.bounds,u=e.step,c=e.min,l=e.max,f=e.precision,h=e.count,d=e.maxTicks,p=e.maxDigits,v=e.includeBounds,g=u||1,_=d-1,m=t.min,y=t.max,b=!isNullOrUndef(c),E=!isNullOrUndef(l),C=!isNullOrUndef(h),S=(y-m)/(p+1),w=niceNum((y-m)/_/g)*g;if(w<1e-14&&!b&&!E)return[{value:m},{value:y}];(o=Math.ceil(y/w)-Math.floor(m/w))>_&&(w=niceNum(o*w/_/g)*g),isNullOrUndef(f)||(n=Math.pow(10,f),w=Math.ceil(w*n)/n),"ticks"===s?(r=Math.floor(m/w)*w,i=Math.ceil(y/w)*w):(r=m,i=y),b&&E&&u&&almostWhole((l-c)/u,w/1e3)?(w=(l-c)/(o=Math.round(Math.min((l-c)/w,d))),r=c,i=l):C?w=((i=E?l:i)-(r=b?c:r))/(o=h-1):o=almostEquals(o=(i-r)/w,Math.round(o),w/1e3)?Math.round(o):Math.ceil(o);var x=Math.max(_decimalPlaces(w),_decimalPlaces(r));n=Math.pow(10,isNullOrUndef(f)?x:f),r=Math.round(r*n)/n,i=Math.round(i*n)/n;var T=0;for(b&&(v&&r!==c?(a.push({value:c}),r<c&&T++,almostEquals(Math.round((r+T*w)*n)/n,c,relativeLabelSize(c,S,e))&&T++):r<c&&T++);T<o;++T)a.push({value:Math.round((r+T*w)*n)/n});return E&&v&&i!==l?almostEquals(a[a.length-1].value,l,relativeLabelSize(l,S,e))?a[a.length-1].value=l:a.push({value:l}):E&&i!==l||a.push({value:i}),a}function relativeLabelSize(e,t,n){var r=n.horizontal,i=toRadians(n.minRotation),o=(r?Math.sin(i):Math.cos(i))||.001,a=.75*t*(""+e).length;return Math.min(t/o,a)}exports("U",CategoryScale),CategoryScale.id="category",CategoryScale.defaults={ticks:{callback:CategoryScale.prototype.getLabelForValue}};var LinearScaleBase=function(e){function t(t){var n;return(n=e.call(this,t)||this).start=void 0,n.end=void 0,n._startValue=void 0,n._endValue=void 0,n._valueRange=0,n}_inheritsLoose(t,e);var n=t.prototype;return n.parse=function(e,t){return isNullOrUndef(e)||("number"==typeof e||e instanceof Number)&&!isFinite(+e)?null:+e},n.handleTickRangeOptions=function(){var e=this,t=e.options.beginAtZero,n=e.getUserBounds(),r=n.minDefined,i=n.maxDefined,o=e.min,a=e.max,s=function(e){return o=r?o:e},u=function(e){return a=i?a:e};if(t){var c=sign(o),l=sign(a);c<0&&l<0?u(0):c>0&&l>0&&s(0)}if(o===a){var f=1;(a>=Number.MAX_SAFE_INTEGER||o<=Number.MIN_SAFE_INTEGER)&&(f=Math.abs(.05*a)),u(a+f),t||s(o-f)}e.min=o,e.max=a},n.getTickLimit=function(){var e,t=this,n=t.options.ticks,r=n.maxTicksLimit,i=n.stepSize;return i?e=Math.ceil(t.max/i)-Math.floor(t.min/i)+1:(e=t.computeTickLimit(),r=r||11),r&&(e=Math.min(r,e)),e},n.computeTickLimit=function(){return Number.POSITIVE_INFINITY},n.buildTicks=function(){var e=this,t=e.options,n=t.ticks,r=e.getTickLimit(),i=generateTicks$1({maxTicks:r=Math.max(2,r),bounds:t.bounds,min:t.min,max:t.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:e._maxDigits(),horizontal:e.isHorizontal(),minRotation:n.minRotation||0,includeBounds:!1!==n.includeBounds},e._range||e);return"ticks"===t.bounds&&_setMinAndMaxByKey(i,e,"value"),t.reverse?(i.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max),i},n.configure=function(){var t=this,n=t.ticks,r=t.min,i=t.max;if(e.prototype.configure.call(this),t.options.offset&&n.length){var o=(i-r)/Math.max(n.length-1,1)/2;r-=o,i+=o}t._startValue=r,t._endValue=i,t._valueRange=i-r},n.getLabelForValue=function(e){return formatNumber(e,this.chart.options.locale)},t}(Scale),LinearScale=function(e){function t(){return e.apply(this,arguments)||this}_inheritsLoose(t,e);var n=t.prototype;return n.determineDataLimits=function(){var e=this,t=e.getMinMax(!0),n=t.min,r=t.max;e.min=isNumberFinite(n)?n:0,e.max=isNumberFinite(r)?r:1,e.handleTickRangeOptions()},n.computeTickLimit=function(){var e=this,t=e.isHorizontal(),n=t?e.width:e.height,r=toRadians(e.options.ticks.minRotation),i=(t?Math.sin(r):Math.cos(r))||.001,o=e._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,o.lineHeight/i))},n.getPixelForValue=function(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)},n.getValueForPixel=function(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange},t}(LinearScaleBase);exports("S",LinearScale),LinearScale.id="linear",LinearScale.defaults={ticks:{callback:Ticks.formatters.numeric}};
/*!
             * chartjs-plugin-datalabels v2.0.0
             * https://chartjs-plugin-datalabels.netlify.app
             * (c) 2017-2021 chartjs-plugin-datalabels contributors
             * Released under the MIT license
             */
var devicePixelRatio=function(){if("undefined"!=typeof window){if(window.devicePixelRatio)return window.devicePixelRatio;var e=window.screen;if(e)return(e.deviceXDPI||1)/(e.logicalXDPI||1)}return 1}(),utils$1={toTextLines:function(e){var t,n=[];for(e=[].concat(e);e.length;)"string"==typeof(t=e.pop())?n.unshift.apply(n,t.split("\n")):Array.isArray(t)?e.push.apply(e,t):isNullOrUndef(e)||n.unshift(""+t);return n},textSize:function(e,t,n){var r,i=[].concat(t),o=i.length,a=e.font,s=0;for(e.font=n.string,r=0;r<o;++r)s=Math.max(e.measureText(i[r]).width,s);return e.font=a,{height:o*n.lineHeight,width:s}},bound:function(e,t,n){return Math.max(e,Math.min(t,n))},arrayDiff:function(e,t){var n,r,i,o,a=e.slice(),s=[];for(n=0,i=t.length;n<i;++n)o=t[n],-1===(r=a.indexOf(o))?s.push([o,1]):a.splice(r,1);for(n=0,i=a.length;n<i;++n)s.push([a[n],-1]);return s},rasterize:function(e){return Math.round(e*devicePixelRatio)/devicePixelRatio}};function orient(e,t){var n=t.x,r=t.y;if(null===n)return{x:0,y:-1};if(null===r)return{x:1,y:0};var i=e.x-n,o=e.y-r,a=Math.sqrt(i*i+o*o);return{x:a?i/a:0,y:a?o/a:-1}}function aligned(e,t,n,r,i){switch(i){case"center":n=r=0;break;case"bottom":n=0,r=1;break;case"right":n=1,r=0;break;case"left":n=-1,r=0;break;case"top":n=0,r=-1;break;case"start":n=-n,r=-r;break;case"end":break;default:i*=Math.PI/180,n=Math.cos(i),r=Math.sin(i)}return{x:e,y:t,vx:n,vy:r}}var R_INSIDE=0,R_LEFT=1,R_RIGHT=2,R_BOTTOM=4,R_TOP=8;function region(e,t,n){var r=R_INSIDE;return e<n.left?r|=R_LEFT:e>n.right&&(r|=R_RIGHT),t<n.top?r|=R_TOP:t>n.bottom&&(r|=R_BOTTOM),r}function clipped(e,t){for(var n,r,i,o=e.x0,a=e.y0,s=e.x1,u=e.y1,c=region(o,a,t),l=region(s,u,t);c|l&&!(c&l);)(n=c||l)&R_TOP?(r=o+(s-o)*(t.top-a)/(u-a),i=t.top):n&R_BOTTOM?(r=o+(s-o)*(t.bottom-a)/(u-a),i=t.bottom):n&R_RIGHT?(i=a+(u-a)*(t.right-o)/(s-o),r=t.right):n&R_LEFT&&(i=a+(u-a)*(t.left-o)/(s-o),r=t.left),n===c?c=region(o=r,a=i,t):l=region(s=r,u=i,t);return{x0:o,x1:s,y0:a,y1:u}}function compute$1(e,t){var n,r,i=t.anchor,o=e;return t.clamp&&(o=clipped(o,t.area)),"start"===i?(n=o.x0,r=o.y0):"end"===i?(n=o.x1,r=o.y1):(n=(o.x0+o.x1)/2,r=(o.y0+o.y1)/2),aligned(n,r,e.vx,e.vy,t.align)}var positioners={arc:function(e,t){var n=(e.startAngle+e.endAngle)/2,r=Math.cos(n),i=Math.sin(n),o=e.innerRadius,a=e.outerRadius;return compute$1({x0:e.x+r*o,y0:e.y+i*o,x1:e.x+r*a,y1:e.y+i*a,vx:r,vy:i},t)},point:function(e,t){var n=orient(e,t.origin),r=n.x*e.options.radius,i=n.y*e.options.radius;return compute$1({x0:e.x-r,y0:e.y-i,x1:e.x+r,y1:e.y+i,vx:n.x,vy:n.y},t)},bar:function(e,t){var n=orient(e,t.origin),r=e.x,i=e.y,o=0,a=0;return e.horizontal?(r=Math.min(e.x,e.base),o=Math.abs(e.base-e.x)):(i=Math.min(e.y,e.base),a=Math.abs(e.base-e.y)),compute$1({x0:r,y0:i+a,x1:r+o,y1:i,vx:n.x,vy:n.y},t)},fallback:function(e,t){var n=orient(e,t.origin);return compute$1({x0:e.x,y0:e.y,x1:e.x,y1:e.y,vx:n.x,vy:n.y},t)}},rasterize=utils$1.rasterize;function boundingRects$1(e){var t=e.borderWidth||0,n=e.padding,r=e.size.height,i=e.size.width,o=-i/2,a=-r/2;return{frame:{x:o-n.left-t,y:a-n.top-t,w:i+n.width+2*t,h:r+n.height+2*t},text:{x:o,y:a,w:i,h:r}}}function getScaleOrigin(e,t){var n=t.chart.getDatasetMeta(t.datasetIndex).vScale;if(!n)return null;if(void 0!==n.xCenter&&void 0!==n.yCenter)return{x:n.xCenter,y:n.yCenter};var r=n.getBasePixel();return e.horizontal?{x:r,y:null}:{x:null,y:r}}function getPositioner(e){return e instanceof ArcElement?positioners.arc:e instanceof PointElement?positioners.point:e instanceof BarElement?positioners.bar:positioners.fallback}function drawRoundedRect(e,t,n,r,i,o){var a=Math.PI/2;if(o){var s=Math.min(o,i/2,r/2),u=t+s,c=n+s,l=t+r-s,f=n+i-s;e.moveTo(t,c),u<l&&c<f?(e.arc(u,c,s,-Math.PI,-a),e.arc(l,c,s,-a,0),e.arc(l,f,s,0,a),e.arc(u,f,s,a,Math.PI)):u<l?(e.moveTo(u,n),e.arc(l,c,s,-a,a),e.arc(u,c,s,a,Math.PI+a)):c<f?(e.arc(u,c,s,-Math.PI,0),e.arc(u,f,s,0,Math.PI)):e.arc(u,c,s,-Math.PI,Math.PI),e.closePath(),e.moveTo(t,n)}else e.rect(t,n,r,i)}function drawFrame(e,t,n){var r=n.backgroundColor,i=n.borderColor,o=n.borderWidth;(r||i&&o)&&(e.beginPath(),drawRoundedRect(e,rasterize(t.x)+o/2,rasterize(t.y)+o/2,rasterize(t.w)-o,rasterize(t.h)-o,n.borderRadius),e.closePath(),r&&(e.fillStyle=r,e.fill()),i&&o&&(e.strokeStyle=i,e.lineWidth=o,e.lineJoin="miter",e.stroke()))}function textGeometry(e,t,n){var r=n.lineHeight,i=e.w,o=e.x;return"center"===t?o+=i/2:"end"!==t&&"right"!==t||(o+=i),{h:r,w:i,x:o,y:e.y+r/2}}function drawTextLine(e,t,n){var r=e.shadowBlur,i=n.stroked,o=rasterize(n.x),a=rasterize(n.y),s=rasterize(n.w);i&&e.strokeText(t,o,a,s),n.filled&&(r&&i&&(e.shadowBlur=0),e.fillText(t,o,a,s),r&&i&&(e.shadowBlur=r))}function drawText(e,t,n,r){var i,o=r.textAlign,a=r.color,s=!!a,u=r.font,c=t.length,l=r.textStrokeColor,f=r.textStrokeWidth,h=l&&f;if(c&&(s||h))for(n=textGeometry(n,o,u),e.font=u.string,e.textAlign=o,e.textBaseline="middle",e.shadowBlur=r.textShadowBlur,e.shadowColor=r.textShadowColor,s&&(e.fillStyle=a),h&&(e.lineJoin="round",e.lineWidth=f,e.strokeStyle=l),i=0,c=t.length;i<c;++i)drawTextLine(e,t[i],{stroked:h,filled:s,w:n.w,x:n.x,y:n.y+n.h*i})}var Label=function(e,t,n,r){var i=this;i._config=e,i._index=r,i._model=null,i._rects=null,i._ctx=t,i._el=n};merge$2(Label.prototype,{_modelize:function(e,t,n,r){var i=this,o=i._index,a=toFont(resolve$1([n.font,{}],r,o)),s=resolve$1([n.color,defaults$1.color],r,o);return{align:resolve$1([n.align,"center"],r,o),anchor:resolve$1([n.anchor,"center"],r,o),area:r.chart.chartArea,backgroundColor:resolve$1([n.backgroundColor,null],r,o),borderColor:resolve$1([n.borderColor,null],r,o),borderRadius:resolve$1([n.borderRadius,0],r,o),borderWidth:resolve$1([n.borderWidth,0],r,o),clamp:resolve$1([n.clamp,!1],r,o),clip:resolve$1([n.clip,!1],r,o),color:s,display:e,font:a,lines:t,offset:resolve$1([n.offset,0],r,o),opacity:resolve$1([n.opacity,1],r,o),origin:getScaleOrigin(i._el,r),padding:toPadding(resolve$1([n.padding,0],r,o)),positioner:getPositioner(i._el),rotation:resolve$1([n.rotation,0],r,o)*(Math.PI/180),size:utils$1.textSize(i._ctx,t,a),textAlign:resolve$1([n.textAlign,"start"],r,o),textShadowBlur:resolve$1([n.textShadowBlur,0],r,o),textShadowColor:resolve$1([n.textShadowColor,s],r,o),textStrokeColor:resolve$1([n.textStrokeColor,s],r,o),textStrokeWidth:resolve$1([n.textStrokeWidth,0],r,o)}},update:function(e){var t,n,r,i=this,o=null,a=null,s=i._index,u=i._config,c=resolve$1([u.display,!0],e,s);c&&(t=e.dataset.data[s],(r=isNullOrUndef(n=valueOrDefault(callback(u.formatter,[t,e]),t))?[]:utils$1.toTextLines(n)).length&&(a=boundingRects$1(o=i._modelize(c,r,u,e)))),i._model=o,i._rects=a},geometry:function(){return this._rects?this._rects.frame:{}},rotation:function(){return this._model?this._model.rotation:0},visible:function(){return this._model&&this._model.opacity},model:function(){return this._model},draw:function(e,t){var n,r=e.ctx,i=this._model,o=this._rects;this.visible()&&(r.save(),i.clip&&(n=i.area,r.beginPath(),r.rect(n.left,n.top,n.right-n.left,n.bottom-n.top),r.clip()),r.globalAlpha=utils$1.bound(0,i.opacity,1),r.translate(rasterize(t.x),rasterize(t.y)),r.rotate(i.rotation),drawFrame(r,o.frame,i),drawText(r,i.lines,o.text,i),r.restore())}});var MIN_INTEGER=Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_INTEGER=Number.MAX_SAFE_INTEGER||9007199254740991;function rotated(e,t,n){var r=Math.cos(n),i=Math.sin(n),o=t.x,a=t.y;return{x:o+r*(e.x-o)-i*(e.y-a),y:a+i*(e.x-o)+r*(e.y-a)}}function projected(e,t){var n,r,i,o,a,s=MAX_INTEGER,u=MIN_INTEGER,c=t.origin;for(n=0;n<e.length;++n)i=(r=e[n]).x-c.x,o=r.y-c.y,a=t.vx*i+t.vy*o,s=Math.min(s,a),u=Math.max(u,a);return{min:s,max:u}}function toAxis(e,t){var n=t.x-e.x,r=t.y-e.y,i=Math.sqrt(n*n+r*r);return{vx:(t.x-e.x)/i,vy:(t.y-e.y)/i,origin:e,ln:i}}var HitBox=function(){this._rotation=0,this._rect={x:0,y:0,w:0,h:0}};function coordinates(e,t,n){var r=t.positioner(e,t),i=r.vx,o=r.vy;if(!i&&!o)return{x:r.x,y:r.y};var a=n.w,s=n.h,u=t.rotation,c=Math.abs(a/2*Math.cos(u))+Math.abs(s/2*Math.sin(u)),l=Math.abs(a/2*Math.sin(u))+Math.abs(s/2*Math.cos(u)),f=1/Math.max(Math.abs(i),Math.abs(o));return c*=i*f,l*=o*f,c+=t.offset*i,l+=t.offset*o,{x:r.x+c,y:r.y+l}}function collide(e,t){var n,r,i,o;for(n=e.length-1;n>=0;--n)for(i=e[n].$layout,r=n-1;r>=0&&i._visible;--r)(o=e[r].$layout)._visible&&i._box.intersects(o._box)&&t(i,o);return e}function compute(e){var t,n,r,i,o,a,s;for(t=0,n=e.length;t<n;++t)(i=(r=e[t]).$layout)._visible&&(s=new Proxy(r._el,{get:function(e,t){return e.getProps([t],!0)[t]}}),o=r.geometry(),a=coordinates(s,r.model(),o),i._box.update(a,o,r.rotation()));return collide(e,(function(e,t){var n=e._hidable,r=t._hidable;n&&r||r?t._visible=!1:n&&(e._visible=!1)}))}merge$2(HitBox.prototype,{center:function(){var e=this._rect;return{x:e.x+e.w/2,y:e.y+e.h/2}},update:function(e,t,n){this._rotation=n,this._rect={x:t.x+e.x,y:t.y+e.y,w:t.w,h:t.h}},contains:function(e){var t=this,n=t._rect;return!((e=rotated(e,t.center(),-t._rotation)).x<n.x-1||e.y<n.y-1||e.x>n.x+n.w+2||e.y>n.y+n.h+2)},intersects:function(e){var t,n,r,i=this._points(),o=e._points(),a=[toAxis(i[0],i[1]),toAxis(i[0],i[3])];for(this._rotation!==e._rotation&&a.push(toAxis(o[0],o[1]),toAxis(o[0],o[3])),t=0;t<a.length;++t)if(n=projected(i,a[t]),r=projected(o,a[t]),n.max<r.min||r.max<n.min)return!1;return!0},_points:function(){var e=this,t=e._rect,n=e._rotation,r=e.center();return[rotated({x:t.x,y:t.y},r,n),rotated({x:t.x+t.w,y:t.y},r,n),rotated({x:t.x+t.w,y:t.y+t.h},r,n),rotated({x:t.x,y:t.y+t.h},r,n)]}});var layout={prepare:function(e){var t,n,r,i,o,a=[];for(t=0,r=e.length;t<r;++t)for(n=0,i=e[t].length;n<i;++n)o=e[t][n],a.push(o),o.$layout={_box:new HitBox,_hidable:!1,_visible:!0,_set:t,_idx:n};return a.sort((function(e,t){var n=e.$layout,r=t.$layout;return n._idx===r._idx?r._set-n._set:r._idx-n._idx})),this.update(a),a},update:function(e){var t,n,r,i,o,a=!1;for(t=0,n=e.length;t<n;++t)i=(r=e[t]).model(),(o=r.$layout)._hidable=i&&"auto"===i.display,o._visible=r.visible(),a|=o._hidable;a&&compute(e)},lookup:function(e,t){var n,r;for(n=e.length-1;n>=0;--n)if((r=e[n].$layout)&&r._visible&&r._box.contains(t))return e[n];return null},draw:function(e,t){var n,r,i,o,a,s;for(n=0,r=t.length;n<r;++n)(o=(i=t[n]).$layout)._visible&&(a=i.geometry(),s=coordinates(i._el,i.model(),a),o._box.update(s,a,i.rotation()),i.draw(e,s))}},formatter=function(e){if(isNullOrUndef(e))return null;var t,n,r,i=e;if(isObject$4(e))if(isNullOrUndef(e.label))if(isNullOrUndef(e.r))for(i="",r=0,n=(t=Object.keys(e)).length;r<n;++r)i+=(0!==r?", ":"")+t[r]+": "+e[t[r]];else i=e.r;else i=e.label;return""+i},defaults$2={align:"center",anchor:"center",backgroundColor:null,borderColor:null,borderRadius:0,borderWidth:0,clamp:!1,clip:!1,color:void 0,display:!0,font:{family:void 0,lineHeight:1.2,size:void 0,style:void 0,weight:null},formatter:formatter,labels:void 0,listeners:{},offset:4,opacity:1,padding:{top:4,right:4,bottom:4,left:4},rotation:0,textAlign:"start",textStrokeColor:void 0,textStrokeWidth:0,textShadowBlur:0,textShadowColor:void 0},EXPANDO_KEY$1="$datalabels",DEFAULT_KEY="$default";function configure(e,t){var n,r,i,o=e.datalabels,a=[];return!1===o?null:(!0===o&&(o={}),t=merge$2({},[t,o]),r=t.labels||{},i=Object.keys(r),delete t.labels,i.length?i.forEach((function(e){r[e]&&a.push(merge$2({},[t,r[e],{_key:e}]))})):a.push(t),n=a.reduce((function(e,t){return each$9(t.listeners||{},(function(n,r){e[r]=e[r]||{},e[r][t._key||DEFAULT_KEY]=n})),delete t.listeners,e}),{}),{labels:a,listeners:n})}function dispatchEvent(e,t,n){if(t){var r,i=n.$context,o=n.$groups;t[o._set]&&(r=t[o._set][o._key])&&!0===callback(r,[i])&&(e[EXPANDO_KEY$1]._dirty=!0,n.update(i))}}function dispatchMoveEvents(e,t,n,r){var i,o;(n||r)&&(n?r?n!==r&&(o=i=!0):o=!0:i=!0,o&&dispatchEvent(e,t.leave,n),i&&dispatchEvent(e,t.enter,r))}function handleMoveEvents(e,t){var n,r,i=e[EXPANDO_KEY$1],o=i._listeners;if(o.enter||o.leave){if("mousemove"===t.type)r=layout.lookup(i._labels,t);else if("mouseout"!==t.type)return;n=i._hovered,i._hovered=r,dispatchMoveEvents(e,o,n,r)}}function handleClickEvents(e,t){var n=e[EXPANDO_KEY$1],r=n._listeners.click,i=r&&layout.lookup(n._labels,t);i&&dispatchEvent(e,r,i)}var plugin=exports("X",{id:"datalabels",defaults:defaults$2,beforeInit:function(e){e[EXPANDO_KEY$1]={_actives:[]}},beforeUpdate:function(e){var t=e[EXPANDO_KEY$1];t._listened=!1,t._listeners={},t._datasets=[],t._labels=[]},afterDatasetUpdate:function(e,t,n){var r,i,o,a,s,u,c,l,f=t.index,h=e[EXPANDO_KEY$1],d=h._datasets[f]=[],p=e.isDatasetVisible(f),v=e.data.datasets[f],g=configure(v,n),_=t.meta.data||[],m=e.ctx;for(m.save(),r=0,o=_.length;r<o;++r)if((c=_[r])[EXPANDO_KEY$1]=[],p&&c&&e.getDataVisibility(r)&&!c.skip)for(i=0,a=g.labels.length;i<a;++i)u=(s=g.labels[i])._key,(l=new Label(s,m,c,r)).$groups={_set:f,_key:u||DEFAULT_KEY},l.$context={active:!1,chart:e,dataIndex:r,dataset:v,datasetIndex:f},l.update(l.$context),c[EXPANDO_KEY$1].push(l),d.push(l);m.restore(),merge$2(h._listeners,g.listeners,{merger:function(e,n,r){n[e]=n[e]||{},n[e][t.index]=r[e],h._listened=!0}})},afterUpdate:function(e,t){e[EXPANDO_KEY$1]._labels=layout.prepare(e[EXPANDO_KEY$1]._datasets,t)},afterDatasetsDraw:function(e){layout.draw(e,e[EXPANDO_KEY$1]._labels)},beforeEvent:function(e,t){if(e[EXPANDO_KEY$1]._listened){var n=t.event;switch(n.type){case"mousemove":case"mouseout":handleMoveEvents(e,n);break;case"click":handleClickEvents(e,n)}}},afterEvent:function(e){var t,n,r,i,o,a,s,u=e[EXPANDO_KEY$1],c=u._actives,l=u._actives=e.getActiveElements(),f=utils$1.arrayDiff(c,l);for(t=0,n=f.length;t<n;++t)if((o=f[t])[1])for(r=0,i=(s=o[0].element[EXPANDO_KEY$1]||[]).length;r<i;++r)(a=s[r]).$context.active=1===o[1],a.update(a.$context);(u._dirty||f.length)&&(layout.update(u._labels),e.render()),delete u._dirty}});function mitt(e){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r&&r.push(n)||e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&r.splice(r.indexOf(n)>>>0,1)},emit:function(t,n){(e.get(t)||[]).slice().map((function(e){e(n)})),(e.get("*")||[]).slice().map((function(e){e(t,n)}))}}}}}}));
